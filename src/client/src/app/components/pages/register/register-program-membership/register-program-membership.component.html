<app-page class="bg-02">
    <div class="inner">
        <p class="read mb-3">
            よく行く劇場を選択して登録してください
        </p>
        
        <div *ngIf="!isLoading" class="options">
            <form [formGroup]="optionsForm" (ngSubmit)="onSubmit()">
                <dl class="mb-4">
                    <dt class="mb-1">よく行く劇場</dt>
                    <dd>
                        <select formControlName="theater" class="mb-1" id="theater">
                            <option value="">選択してください</option>
                            <option *ngFor="let theater of theaters" [value]="theater.location.branchCode">{{ theater.location.name.ja }}</option>
                        </select>
                        <div class="small-text mb-1" *ngIf="optionsForm.controls['theater'].invalid && optionsForm.controls['theater'].touched">
                            <div *ngIf="optionsForm.controls['theater'].errors.required" class="validation-text mb-1">よく行く劇場が未入力です</div>
                        </div>
                    </dd>
                </dl>

                <button type="submit" class="small-text btn btn-primary center btn-block py-3 rounded-0 mb-4">登録</button>
                <div class="text-center">
                    <a routerLink="//register/credit" class="prev-link"><app-icon iconName="prev-circle-white" width="15" height="15"></app-icon>戻る</a>
                </div>
            </form>
        </div>
    </div>
</app-page>

<app-modal [open]="alertModal" [layout]="true" (close)="alertModal = false">
    <div class="modal-ttl large-text text-center mb-3">
        <strong>エラーが発生しました</strong>
    </div>
    <p>再度ご登録してください。</p>
</app-modal>

<app-loading [show]="isLoading"></app-loading>