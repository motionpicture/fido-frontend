{"version":3,"sources":["webpack:///C:/Users/hataguchi/Desktop/workspace/motionpicture/FIDO/fido-frontend/node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/app/app.component.html","webpack:///./src/app/components/app/app.component.ts","webpack:///./src/app/components/pages/about/about.component.html","webpack:///./src/app/components/pages/about/about.component.ts","webpack:///./src/app/components/pages/auth/auth-logout/auth-logout.component.html","webpack:///./src/app/components/pages/auth/auth-logout/auth-logout.component.ts","webpack:///./src/app/components/pages/auth/auth-select/auth-select.component.html","webpack:///./src/app/components/pages/auth/auth-select/auth-select.component.ts","webpack:///./src/app/components/pages/auth/auth-signin/auth-signin.component.ts","webpack:///./src/app/components/pages/auth/auth-signout/auth-signout.component.ts","webpack:///./src/app/components/pages/base/base.component.html","webpack:///./src/app/components/pages/base/base.component.ts","webpack:///./src/app/components/pages/benefits/benefits.component.html","webpack:///./src/app/components/pages/benefits/benefits.component.ts","webpack:///./src/app/components/pages/error/error.component.html","webpack:///./src/app/components/pages/error/error.component.ts","webpack:///./src/app/components/pages/fido/fido-register/fido-register.component.html","webpack:///./src/app/components/pages/fido/fido-register/fido-register.component.ts","webpack:///./src/app/components/pages/fido/fido-remove/fido-remove.component.html","webpack:///./src/app/components/pages/fido/fido-remove/fido-remove.component.ts","webpack:///./src/app/components/pages/law/law.component.html","webpack:///./src/app/components/pages/law/law.component.ts","webpack:///./src/app/components/pages/member/member-benefits/member-benefits.component.html","webpack:///./src/app/components/pages/member/member-benefits/member-benefits.component.ts","webpack:///./src/app/components/pages/member/member-edit-credit/member-edit-credit.component.html","webpack:///./src/app/components/pages/member/member-edit-credit/member-edit-credit.component.ts","webpack:///./src/app/components/pages/member/member-edit-profile/member-edit-profile.component.html","webpack:///./src/app/components/pages/member/member-edit-profile/member-edit-profile.component.ts","webpack:///./src/app/components/pages/member/member-edit/member-edit.component.html","webpack:///./src/app/components/pages/member/member-edit/member-edit.component.ts","webpack:///./src/app/components/pages/member/member-mypage/member-mypage.component.html","webpack:///./src/app/components/pages/member/member-mypage/member-mypage.component.ts","webpack:///./src/app/components/pages/member/member-point-history/member-point-history.component.html","webpack:///./src/app/components/pages/member/member-point-history/member-point-history.component.ts","webpack:///./src/app/components/pages/member/member-point/member-point.component.html","webpack:///./src/app/components/pages/member/member-point/member-point.component.ts","webpack:///./src/app/components/pages/member/member-withdraw/member-withdraw.component.html","webpack:///./src/app/components/pages/member/member-withdraw/member-withdraw.component.ts","webpack:///./src/app/components/pages/not-found/not-found.component.html","webpack:///./src/app/components/pages/not-found/not-found.component.ts","webpack:///./src/app/components/pages/policy/policy.component.html","webpack:///./src/app/components/pages/policy/policy.component.ts","webpack:///./src/app/components/pages/privacy/privacy.component.html","webpack:///./src/app/components/pages/privacy/privacy.component.ts","webpack:///./src/app/components/pages/purchase/purchase-base/purchase-base.component.html","webpack:///./src/app/components/pages/purchase/purchase-base/purchase-base.component.ts","webpack:///./src/app/components/pages/purchase/purchase-complete/purchase-complete.component.html","webpack:///./src/app/components/pages/purchase/purchase-complete/purchase-complete.component.ts","webpack:///./src/app/components/pages/purchase/purchase-confirm/purchase-confirm.component.html","webpack:///./src/app/components/pages/purchase/purchase-confirm/purchase-confirm.component.ts","webpack:///./src/app/components/pages/purchase/purchase-input/purchase-input.component.html","webpack:///./src/app/components/pages/purchase/purchase-input/purchase-input.component.ts","webpack:///./src/app/components/pages/purchase/purchase-schedule/purchase-schedule.component.html","webpack:///./src/app/components/pages/purchase/purchase-schedule/purchase-schedule.component.ts","webpack:///./src/app/components/pages/purchase/purchase-seat/purchase-seat.component.html","webpack:///./src/app/components/pages/purchase/purchase-seat/purchase-seat.component.ts","webpack:///./src/app/components/pages/purchase/purchase-ticket/purchase-ticket.component.html","webpack:///./src/app/components/pages/purchase/purchase-ticket/purchase-ticket.component.ts","webpack:///./src/app/components/pages/purchase/purchase-transaction/purchase-transaction.component.html","webpack:///./src/app/components/pages/purchase/purchase-transaction/purchase-transaction.component.ts","webpack:///./src/app/components/pages/register/register-credit/register-credit.component.html","webpack:///./src/app/components/pages/register/register-credit/register-credit.component.ts","webpack:///./src/app/components/pages/register/register-index/register-index.component.html","webpack:///./src/app/components/pages/register/register-index/register-index.component.ts","webpack:///./src/app/components/pages/register/register-program-membership/register-program-membership.component.html","webpack:///./src/app/components/pages/register/register-program-membership/register-program-membership.component.ts","webpack:///./src/app/components/pages/register/register-terms/register-terms.component.html","webpack:///./src/app/components/pages/register/register-terms/register-terms.component.ts","webpack:///./src/app/components/pages/ticket/ticket.component.html","webpack:///./src/app/components/pages/ticket/ticket.component.ts","webpack:///./src/app/components/pages/tutorial/tutorial.component.html","webpack:///./src/app/components/pages/tutorial/tutorial.component.ts","webpack:///./src/app/components/parts/buttons/buttons.component.html","webpack:///./src/app/components/parts/buttons/buttons.component.ts","webpack:///./src/app/components/parts/header-menu/header-menu.component.html","webpack:///./src/app/components/parts/header-menu/header-menu.component.ts","webpack:///./src/app/components/parts/header/header.component.html","webpack:///./src/app/components/parts/header/header.component.ts","webpack:///./src/app/components/parts/icon/icon.component.html","webpack:///./src/app/components/parts/icon/icon.component.ts","webpack:///./src/app/components/parts/information/information.component.html","webpack:///./src/app/components/parts/information/information.component.ts","webpack:///./src/app/components/parts/loading/loading.component.html","webpack:///./src/app/components/parts/loading/loading.component.ts","webpack:///./src/app/components/parts/maintenance/maintenance.component.html","webpack:///./src/app/components/parts/maintenance/maintenance.component.ts","webpack:///./src/app/components/parts/membership-benefits/membership-benefits.component.html","webpack:///./src/app/components/parts/membership-benefits/membership-benefits.component.ts","webpack:///./src/app/components/parts/modal/modal.component.html","webpack:///./src/app/components/parts/modal/modal.component.ts","webpack:///./src/app/components/parts/navigation/navigation.component.html","webpack:///./src/app/components/parts/navigation/navigation.component.ts","webpack:///./src/app/components/parts/page/page.component.html","webpack:///./src/app/components/parts/page/page.component.ts","webpack:///./src/app/components/parts/point-history-list/point-history-list.component.html","webpack:///./src/app/components/parts/point-history-list/point-history-list.component.ts","webpack:///./src/app/components/parts/point-stamps/point-stamps.component.html","webpack:///./src/app/components/parts/point-stamps/point-stamps.component.ts","webpack:///./src/app/components/parts/purchase-performance-film/purchase-performance-film.component.html","webpack:///./src/app/components/parts/purchase-performance-film/purchase-performance-film.component.ts","webpack:///./src/app/components/parts/purchase-performance-time/purchase-performance-time.component.html","webpack:///./src/app/components/parts/purchase-performance-time/purchase-performance-time.component.ts","webpack:///./src/app/components/parts/purchase-step/purchase-step.component.html","webpack:///./src/app/components/parts/purchase-step/purchase-step.component.ts","webpack:///./src/app/components/parts/screen/screen.component.html","webpack:///./src/app/components/parts/screen/screen.component.ts","webpack:///./src/app/components/parts/seat-info/seat-info.component.html","webpack:///./src/app/components/parts/seat-info/seat-info.component.ts","webpack:///./src/app/components/parts/ticket-detail/ticket-detail.component.html","webpack:///./src/app/components/parts/ticket-detail/ticket-detail.component.ts","webpack:///./src/app/components/parts/ticket-not-found/ticket-not-found.component.html","webpack:///./src/app/components/parts/ticket-not-found/ticket-not-found.component.ts","webpack:///./src/app/pipes/availability/availability.pipe.ts","webpack:///./src/app/pipes/date-format/date-format.pipe.ts","webpack:///./src/app/pipes/duration/duration.pipe.ts","webpack:///./src/app/pipes/libphonenumber-format/libphonenumber-format.pipe.ts","webpack:///./src/app/pipes/time-format/time-format.pipe.ts","webpack:///./src/app/routes/auth.route.ts","webpack:///./src/app/routes/common.route.ts","webpack:///./src/app/routes/fido.route.ts","webpack:///./src/app/routes/member.route.ts","webpack:///./src/app/routes/purchase.route.ts","webpack:///./src/app/routes/register.route.ts","webpack:///./src/app/services/auth-guard/auth-guard.service.ts","webpack:///./src/app/services/call-native/call-native.service.ts","webpack:///./src/app/services/fido-guard/fido-guard.service.ts","webpack:///./src/app/services/maintenance/maintenance.service.ts","webpack:///./src/app/services/member-guard/member-guard.service.ts","webpack:///./src/app/services/member/member.service.ts","webpack:///./src/app/services/program-membership-guard/program-membership-guard.service.ts","webpack:///./src/app/services/purchase-guard/purchase-guard.service.ts","webpack:///./src/app/services/purchase/purchase.service.ts","webpack:///./src/app/services/reservation/reservation.service.ts","webpack:///./src/app/services/sasaki/sasaki.service.ts","webpack:///./src/app/services/schedule/schedule.service.ts","webpack:///./src/app/services/select/select.service.ts","webpack:///./src/app/services/storage/storage.service.ts","webpack:///./src/app/services/user/user.service.ts","webpack:///./src/app/services/util/util.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["var map = {\n\t\"./af\": \"../../node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"../../node_modules/moment/locale/af.js\",\n\t\"./ar\": \"../../node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"../../node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"../../node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"../../node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"../../node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"../../node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"../../node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"../../node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"../../node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"../../node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"../../node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"../../node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"../../node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"../../node_modules/moment/locale/ar.js\",\n\t\"./az\": \"../../node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"../../node_modules/moment/locale/az.js\",\n\t\"./be\": \"../../node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"../../node_modules/moment/locale/be.js\",\n\t\"./bg\": \"../../node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"../../node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"../../node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"../../node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"../../node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"../../node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"../../node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"../../node_modules/moment/locale/bo.js\",\n\t\"./br\": \"../../node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"../../node_modules/moment/locale/br.js\",\n\t\"./bs\": \"../../node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"../../node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"../../node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"../../node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"../../node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"../../node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"../../node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"../../node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"../../node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"../../node_modules/moment/locale/cy.js\",\n\t\"./da\": \"../../node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"../../node_modules/moment/locale/da.js\",\n\t\"./de\": \"../../node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"../../node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"../../node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"../../node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"../../node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"../../node_modules/moment/locale/de.js\",\n\t\"./dv\": \"../../node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"../../node_modules/moment/locale/dv.js\",\n\t\"./el\": \"../../node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"../../node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"../../node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"../../node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"../../node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"../../node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"../../node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"../../node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"../../node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"../../node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"../../node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"../../node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"../../node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"../../node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"../../node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"../../node_modules/moment/locale/eo.js\",\n\t\"./es\": \"../../node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"../../node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"../../node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"../../node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"../../node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"../../node_modules/moment/locale/es.js\",\n\t\"./et\": \"../../node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"../../node_modules/moment/locale/et.js\",\n\t\"./eu\": \"../../node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"../../node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"../../node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"../../node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"../../node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"../../node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"../../node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"../../node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"../../node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"../../node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"../../node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"../../node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"../../node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"../../node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"../../node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"../../node_modules/moment/locale/fy.js\",\n\t\"./gd\": \"../../node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"../../node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"../../node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"../../node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"../../node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"../../node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"../../node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"../../node_modules/moment/locale/gu.js\",\n\t\"./he\": \"../../node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"../../node_modules/moment/locale/he.js\",\n\t\"./hi\": \"../../node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"../../node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"../../node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"../../node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"../../node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"../../node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"../../node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"../../node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"../../node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"../../node_modules/moment/locale/id.js\",\n\t\"./is\": \"../../node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"../../node_modules/moment/locale/is.js\",\n\t\"./it\": \"../../node_modules/moment/locale/it.js\",\n\t\"./it.js\": \"../../node_modules/moment/locale/it.js\",\n\t\"./ja\": \"../../node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"../../node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"../../node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"../../node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"../../node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"../../node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"../../node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"../../node_modules/moment/locale/kk.js\",\n\t\"./km\": \"../../node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"../../node_modules/moment/locale/km.js\",\n\t\"./kn\": \"../../node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"../../node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"../../node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"../../node_modules/moment/locale/ko.js\",\n\t\"./ky\": \"../../node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"../../node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"../../node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"../../node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"../../node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"../../node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"../../node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"../../node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"../../node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"../../node_modules/moment/locale/lv.js\",\n\t\"./me\": \"../../node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"../../node_modules/moment/locale/me.js\",\n\t\"./mi\": \"../../node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"../../node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"../../node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"../../node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"../../node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"../../node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"../../node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"../../node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"../../node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"../../node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"../../node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"../../node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"../../node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"../../node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"../../node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"../../node_modules/moment/locale/mt.js\",\n\t\"./my\": \"../../node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"../../node_modules/moment/locale/my.js\",\n\t\"./nb\": \"../../node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"../../node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"../../node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"../../node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"../../node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"../../node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"../../node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"../../node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"../../node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"../../node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"../../node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"../../node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"../../node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"../../node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"../../node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"../../node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"../../node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"../../node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"../../node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"../../node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"../../node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"../../node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"../../node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"../../node_modules/moment/locale/sd.js\",\n\t\"./se\": \"../../node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"../../node_modules/moment/locale/se.js\",\n\t\"./si\": \"../../node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"../../node_modules/moment/locale/si.js\",\n\t\"./sk\": \"../../node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"../../node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"../../node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"../../node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"../../node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"../../node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"../../node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"../../node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"../../node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"../../node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"../../node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"../../node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"../../node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"../../node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"../../node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"../../node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"../../node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"../../node_modules/moment/locale/ta.js\",\n\t\"./te\": \"../../node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"../../node_modules/moment/locale/te.js\",\n\t\"./tet\": \"../../node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"../../node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"../../node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"../../node_modules/moment/locale/tg.js\",\n\t\"./th\": \"../../node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"../../node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"../../node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"../../node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"../../node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"../../node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"../../node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"../../node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"../../node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"../../node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"../../node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"../../node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"../../node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"../../node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"../../node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"../../node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"../../node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"../../node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"../../node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"../../node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"../../node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"../../node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"../../node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"../../node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"../../node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"../../node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"../../node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"../../node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"../../node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"../../node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"../../node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"../../node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"../../node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"../../node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"../../node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"../../node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"../../node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","/**\n * ルーティング\n */\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ErrorComponent } from './components/pages/error/error.component';\nimport { NotFoundComponent } from './components/pages/not-found/not-found.component';\nimport { TutorialComponent } from './components/pages/tutorial/tutorial.component';\nimport * as auth from './routes/auth.route';\nimport * as common from './routes/common.route';\nimport * as fido from './routes/fido.route';\nimport * as member from './routes/member.route';\nimport * as purchase from './routes/purchase.route';\nimport * as register from './routes/register.route';\n\nconst appRoutes: Routes = [\n    { path: '', redirectTo: '/member/mypage', pathMatch: 'full' },\n    common.route,\n    auth.route,\n    auth.logoutRoute,\n    register.route,\n    member.route,\n    fido.route,\n    purchase.route,\n    { path: 'tutorial', component: TutorialComponent },\n    { path: 'error/:redirect', component: ErrorComponent },\n    { path: 'error', component: ErrorComponent },\n    { path: '**', component: NotFoundComponent }\n];\n\n// tslint:disable-next-line:no-stateless-class\n@NgModule({\n    imports: [\n        RouterModule.forRoot(\n            appRoutes,\n            { useHash: true, enableTracing: true }\n        )\n    ],\n    exports: [\n        RouterModule\n    ]\n})\nexport class AppRoutingModule { }\n","/**\n * NgModule\n */\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MomentModule } from 'angular2-moment';\nimport { SwiperModule } from 'ngx-swiper-wrapper';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './components/app/app.component';\nimport { AboutComponent } from './components/pages/about/about.component';\nimport { AuthLogoutComponent } from './components/pages/auth/auth-logout/auth-logout.component';\nimport { AuthSelectComponent } from './components/pages/auth/auth-select/auth-select.component';\nimport { AuthSigninComponent } from './components/pages/auth/auth-signin/auth-signin.component';\nimport { AuthSignoutComponent } from './components/pages/auth/auth-signout/auth-signout.component';\nimport { BaseComponent } from './components/pages/base/base.component';\nimport { BenefitsComponent } from './components/pages/benefits/benefits.component';\nimport { ErrorComponent } from './components/pages/error/error.component';\nimport { ExpiredComponent } from './components/pages/expired/expired.component';\nimport { FidoRegisterComponent } from './components/pages/fido/fido-register/fido-register.component';\nimport { FidoRemoveComponent } from './components/pages/fido/fido-remove/fido-remove.component';\nimport { LawComponent } from './components/pages/law/law.component';\nimport { MemberBenefitsComponent } from './components/pages/member/member-benefits/member-benefits.component';\nimport { MemberEditCreditComponent } from './components/pages/member/member-edit-credit/member-edit-credit.component';\nimport { MemberEditProfileComponent } from './components/pages/member/member-edit-profile/member-edit-profile.component';\nimport { MemberEditComponent } from './components/pages/member/member-edit/member-edit.component';\nimport { MemberMypageComponent } from './components/pages/member/member-mypage/member-mypage.component';\nimport { MemberPointHistoryComponent } from './components/pages/member/member-point-history/member-point-history.component';\nimport { MemberPointComponent } from './components/pages/member/member-point/member-point.component';\nimport { MemberWithdrawComponent } from './components/pages/member/member-withdraw/member-withdraw.component';\nimport { NotFoundComponent } from './components/pages/not-found/not-found.component';\nimport { PolicyComponent } from './components/pages/policy/policy.component';\nimport { PrivacyComponent } from './components/pages/privacy/privacy.component';\nimport { PurchaseBaseComponent } from './components/pages/purchase/purchase-base/purchase-base.component';\nimport { PurchaseCompleteComponent } from './components/pages/purchase/purchase-complete/purchase-complete.component';\nimport { PurchaseConfirmComponent } from './components/pages/purchase/purchase-confirm/purchase-confirm.component';\nimport { PurchaseInputComponent } from './components/pages/purchase/purchase-input/purchase-input.component';\nimport { PurchaseScheduleComponent } from './components/pages/purchase/purchase-schedule/purchase-schedule.component';\nimport { PurchaseSeatComponent } from './components/pages/purchase/purchase-seat/purchase-seat.component';\nimport { PurchaseTicketComponent } from './components/pages/purchase/purchase-ticket/purchase-ticket.component';\nimport { PurchaseTransactionComponent } from './components/pages/purchase/purchase-transaction/purchase-transaction.component';\nimport { RegisterCreditComponent } from './components/pages/register/register-credit/register-credit.component';\nimport { RegisterComponent } from './components/pages/register/register-index/register-index.component';\nimport {\n    RegisterProgramMembershipComponent\n} from './components/pages/register/register-program-membership/register-program-membership.component';\nimport { RegisterTermsComponent } from './components/pages/register/register-terms/register-terms.component';\nimport { TicketComponent } from './components/pages/ticket/ticket.component';\nimport { TutorialComponent } from './components/pages/tutorial/tutorial.component';\nimport { ButtonsComponent } from './components/parts/buttons/buttons.component';\nimport { HeaderMenuComponent } from './components/parts/header-menu/header-menu.component';\nimport { HeaderComponent } from './components/parts/header/header.component';\nimport { IconComponent } from './components/parts/icon/icon.component';\nimport { InformationComponent } from './components/parts/information/information.component';\nimport { LoadingComponent } from './components/parts/loading/loading.component';\nimport { MaintenanceComponent } from './components/parts/maintenance/maintenance.component';\nimport { MembershipBenefitsComponent } from './components/parts/membership-benefits/membership-benefits.component';\nimport { ModalComponent } from './components/parts/modal/modal.component';\nimport { NavigationComponent } from './components/parts/navigation/navigation.component';\nimport { PageComponent } from './components/parts/page/page.component';\nimport { PointHistoryListComponent } from './components/parts/point-history-list/point-history-list.component';\nimport { PointSliderComponent } from './components/parts/point-slider/point-slider.component';\nimport { PointStampsComponent } from './components/parts/point-stamps/point-stamps.component';\nimport { PurchasePerformanceFilmComponent } from './components/parts/purchase-performance-film/purchase-performance-film.component';\nimport { PurchasePerformanceTimeComponent } from './components/parts/purchase-performance-time/purchase-performance-time.component';\nimport { PurchaseStepComponent } from './components/parts/purchase-step/purchase-step.component';\nimport { ScreenComponent } from './components/parts/screen/screen.component';\nimport { SeatInfoComponent } from './components/parts/seat-info/seat-info.component';\nimport { TicketDetailComponent } from './components/parts/ticket-detail/ticket-detail.component';\nimport { TicketNotFoundComponent } from './components/parts/ticket-not-found/ticket-not-found.component';\nimport { AvailabilityPipe } from './pipes/availability/availability.pipe';\nimport { DateFormatPipe } from './pipes/date-format/date-format.pipe';\nimport { DurationPipe } from './pipes/duration/duration.pipe';\nimport { LibphonenumberFormatPipe } from './pipes/libphonenumber-format/libphonenumber-format.pipe';\nimport { TimeFormatPipe } from './pipes/time-format/time-format.pipe';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        TutorialComponent,\n        NavigationComponent,\n        HeaderComponent,\n        NotFoundComponent,\n        BaseComponent,\n        TimeFormatPipe,\n        LibphonenumberFormatPipe,\n        AvailabilityPipe,\n        DurationPipe,\n        AboutComponent,\n        LoadingComponent,\n        PolicyComponent,\n        LawComponent,\n        PrivacyComponent,\n        ErrorComponent,\n        TicketDetailComponent,\n        TicketNotFoundComponent,\n        HeaderMenuComponent,\n        TicketComponent,\n        AuthSelectComponent,\n        AuthLogoutComponent,\n        MemberBenefitsComponent,\n        MemberEditComponent,\n        MemberWithdrawComponent,\n        MemberPointComponent,\n        MemberPointHistoryComponent,\n        MemberMypageComponent,\n        PurchasePerformanceTimeComponent,\n        PurchasePerformanceFilmComponent,\n        IconComponent,\n        AuthSigninComponent,\n        AuthSignoutComponent,\n        MemberEditCreditComponent,\n        ModalComponent,\n        MemberEditProfileComponent,\n        RegisterTermsComponent,\n        RegisterComponent,\n        MembershipBenefitsComponent,\n        PointSliderComponent,\n        PointStampsComponent,\n        BenefitsComponent,\n        DateFormatPipe,\n        RegisterCreditComponent,\n        RegisterProgramMembershipComponent,\n        InformationComponent,\n        PageComponent,\n        PointHistoryListComponent,\n        MaintenanceComponent,\n        PurchaseScheduleComponent,\n        PurchaseStepComponent,\n        PurchaseBaseComponent,\n        PurchaseCompleteComponent,\n        PurchaseScheduleComponent,\n        PurchaseSeatComponent,\n        PurchaseTicketComponent,\n        PurchaseInputComponent,\n        PurchaseConfirmComponent,\n        PurchaseTransactionComponent,\n        ScreenComponent,\n        SeatInfoComponent,\n        ButtonsComponent,\n        ExpiredComponent,\n        FidoRegisterComponent,\n        FidoRemoveComponent\n    ],\n    imports: [\n        BrowserModule,\n        HttpClientModule,\n        MomentModule,\n        AppRoutingModule,\n        ReactiveFormsModule,\n        FormsModule,\n        SwiperModule\n    ],\n    providers: [\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<div class=\"wrapper\">\n    <router-outlet></router-outlet>\n</div>","/**\n * AppComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html'\n})\nexport class AppComponent implements OnInit {\n    constructor() {\n    }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"read mb-4 small-text\">\n            このアプリはシネマサンシャイン公式のチケット購入アプリです。\n            <br> このアプリを使うことで、シネマサンシャインの映画鑑賞がもっと便利になります。\n        </p>\n        <div class=\"mb-4\">\n            <div class=\"text-center mb-4\">\n                <img src=\"/assets/images/about/purchase.svg\" width=\"230\" height=\"150\">\n            </div>\n            <p class=\"small-text\">\n                一度このアプリ内でチケットをご購入いただきますとお客様情報が記録され、次回以降は入力が不要になります。※1\n            </p>\n            <p class=\"small-x-text text-secondary\">\n                ※1・スマホ紛失時などの際の安全を考慮し、クレジットカード情報は記録されません。\n            </p>\n        </div>\n        <div class=\"mb-4\">\n            <h2 class=\"mb-3 text-center large-text\">スマホがそのまま入場券に！</h2>\n            <p class=\"mb-4 small-text\">\n                購入したチケットはこのアプリ内のチケットホルダー内に登録されます。\n                <br> ご鑑賞当日は、チケットホルダー内のQRコードをスマホ画面に表示してシアター入口でスタッフにご提示いただくだけで、ご入場いただけます。発券は不要です。\n            </p>\n            <div class=\"text-center\">\n                <img src=\"/assets/images/about/ticket.svg\" width=\"211\" height=\"150\">\n            </div>\n        </div>\n        <div class=\"mb-4\">\n            <h2 class=\"mb-3 text-center large-text\">アプリ会員でさらにお得！</h2>\n            <p class=\"mb-4 small-text\">\n               有料アプリ会員になると鑑賞のたびにポイントが貯まったりとてもお得に映画鑑賞が楽しめます。\n            </p>\n            <div class=\"text-center\">\n                <img src=\"/assets/images/about/member.svg\" width=\"211\" height=\"150\">\n            </div>\n        </div>\n    </div>\n</app-page>","/**\n * AboutComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-about',\n    templateUrl: './about.component.html',\n    styleUrls: ['./about.component.scss']\n})\nexport class AboutComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner position-center\">\n        <p class=\"read text-center mb-4\">\n            ログアウトします。\n            <br>再びログインする際にユーザーネームとパスワードをご入力いただきます。\n        </p>\n\n        <div>\n            <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" (click)=\"signOut()\">ログアウト</button>\n        </div>\n    </div>\n</app-page>\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\n\n@Component({\n    selector: 'app-auth-logout',\n    templateUrl: './auth-logout.component.html',\n    styleUrls: ['./auth-logout.component.scss']\n})\nexport class AuthLogoutComponent implements OnInit {\n    public isLoading: boolean;\n\n    constructor(\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.isLoading = false;\n    }\n\n    /**\n     * サインアウト\n     * @method signOut\n     */\n    public async signOut() {\n        this.isLoading = true;\n        try {\n            await this.sasaki.signOut();\n        } catch {\n            this.isLoading = false;\n        }\n    }\n\n}\n","<app-page>\n    <div class=\"inner mx-auto\">\n        <div class=\"logo text-center mb-5\">\n            <img src=\"/assets/images/common/logo_text.svg\">\n        </div>\n        <p class=\"read text-center mb-5\">\n            アプリの始め方を選択してください。\n        </p>\n\n        <div class=\"mb-xx-large\">\n            <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" routerLink=\"/register\">\n                新規会員（年会費500円）\n            </button>\n        </div>\n        <div class=\"buttons\">\n            <p class=\"mb-3 text-center\">\n                <u class=\"text-primary\" (click)=\"signIn()\">ログイン</u>\n            </p>\n        </div>\n    </div>\n</app-page>\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\nimport { MemberType, UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-auth-select',\n    templateUrl: './auth-select.component.html',\n    styleUrls: ['./auth-select.component.scss']\n})\nexport class AuthSelectComponent implements OnInit {\n\n    public isLoading: boolean;\n\n    constructor(\n        private sasaki: SasakiService,\n        private user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.isLoading = false;\n    }\n\n    /**\n     * サインイン\n     * @method signIn\n     */\n    public async signIn() {\n        this.isLoading = true;\n        try {\n            await this.sasaki.signIn();\n            this.user.data.memberType = MemberType.Member;\n            this.user.save();\n        } catch (error) {\n            console.error(error);\n            this.isLoading = false;\n        }\n    }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-auth-signin',\n    templateUrl: './auth-signin.component.html',\n    styleUrls: ['./auth-signin.component.scss']\n})\nexport class AuthSigninComponent implements OnInit {\n\n    constructor(\n        private router: Router,\n        private user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        try {\n            await this.user.initMember();\n            this.router.navigate(['/']);\n        } catch (err) {\n            console.error(err);\n            this.router.navigate(['/error', { redirect: '/auth/select' }]);\n        }\n\n    }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MemberType, UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-auth-signout',\n    templateUrl: './auth-signout.component.html',\n    styleUrls: ['./auth-signout.component.scss']\n})\nexport class AuthSignoutComponent implements OnInit {\n\n    constructor(\n        private router: Router,\n        private user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.user.data.memberType = MemberType.NotMember;\n        this.user.reset();\n        this.router.navigate(['/auth/select']);\n    }\n\n}\n","<div class=\"base\">\n    <app-header></app-header>\n    <router-outlet></router-outlet>\n    <app-navigation></app-navigation>\n</div>","/**\n * BaseComponent\n */\nimport { Component, OnInit } from '@angular/core';\nimport 'rxjs/add/operator/toPromise';\nimport { UserService } from '../../../services/user/user.service';\n\n@Component({\n    selector: 'app-base',\n    templateUrl: './base.component.html',\n    styleUrls: ['./base.component.scss']\n})\nexport class BaseComponent implements OnInit {\n\n    constructor(\n        public user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <div class=\"mb-4\">\n            <app-membership-benefits></app-membership-benefits>\n        </div>\n        <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto mb-3\" routerLink=\"/register/terms\">会員登録（年会費500円）をする</button>\n    </div>\n</app-page>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-benefits',\n    templateUrl: './benefits.component.html',\n    styleUrls: ['./benefits.component.scss']\n})\nexport class BenefitsComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page>\n    <div class=\"inner position-center\">\n        <div class=\"text-center mb-4\">\n            <img src=\"/assets/images/error/off_line.svg\" width=\"100\" height=\"75\">\n        </div>\n        <p class=\"large-text text-center mb-3\">読み込みができません。</p>\n        <p class=\"text-center mb-4\">回線の状態を確認して\n            <br>再度読み込みを行ってください</p>\n        <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" (click)=\"connect()\">再度読み込み</button>\n    </div>\n</app-page>","/**\n * ErrorComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-error',\n    templateUrl: './error.component.html',\n    styleUrls: ['./error.component.scss']\n})\nexport class ErrorComponent implements OnInit {\n    public isLoading: boolean;\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n    /**\n     * 接続\n     * @method connect\n     */\n    public async connect() {\n        this.isLoading = true;\n        location.href = '/';\n    }\n\n}\n","<div *ngIf=\"!isLoading\" class=\"inner position-center\">\n    <div class=\"card text-dark pt-3\">\n        <div class=\"text-center\">\n            <i class=\"fas fa-fingerprint\"></i>\n        </div>\n        <div class=\"card-body text-center\">\n            <h5 class=\"card-title\">生体認証登録</h5>\n            <p class=\"card-text\">生体認証を登録してください</p>\n            <button type=\"button\" class=\"btn btn-success btn-block py-3\" (click)=\"register()\">登録</button>\n        </div>\n    </div>\n</div>\n\n<app-modal [open]=\"alertModal\" [layout]=\"true\" (close)=\"alertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>{{ errorMessage }}</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CallNativeService, FidoAction, IDeviceResult } from '../../../../services/call-native/call-native.service';\n\n@Component({\n    selector: 'app-fido-register',\n    templateUrl: './fido-register.component.html',\n    styleUrls: ['./fido-register.component.scss']\n})\nexport class FidoRegisterComponent implements OnInit {\n\n    public isLoading: boolean;\n    public device: IDeviceResult;\n    public alertModal: boolean;\n    public errorMessage: string;\n\n    constructor(\n        private native: CallNativeService,\n        private router: Router\n    ) { }\n\n    public async ngOnInit() {\n        this.isLoading = true;\n        try {\n            const device = await this.native.device();\n            if (device === null) {\n                throw new Error('device is null');\n            }\n            this.device = device;\n            const registerListResult = await this.native.fido({\n                action: FidoAction.RegisterList,\n                user: `fido-frontend-${this.device.uuid}`\n            });\n            if (!registerListResult.isSuccess) {\n                throw new Error('registerList fail');\n            }\n            if (registerListResult.result.length > 0) {\n                this.router.navigate(['/']);\n\n                return;\n            }\n            this.isLoading = false;\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    public async register() {\n        this.isLoading = true;\n        try {\n            const registerResult = await this.native.fido({\n                action: FidoAction.Register,\n                user: `fido-frontend-${this.device.uuid}`\n            });\n            if (!registerResult.isSuccess) {\n                throw Error(registerResult.error);\n            }\n            this.router.navigate(['/']);\n        } catch (err) {\n            this.isLoading = false;\n            this.errorMessage = err.message;\n            this.alertModal = true;\n        }\n    }\n\n}\n","<div *ngIf=\"!isLoading\" class=\"inner position-center\">\n    <div class=\"card text-dark pt-3\">\n        <div class=\"text-center\">\n            <i class=\"fas fa-fingerprint\"></i>\n        </div>\n        <div class=\"card-body text-center\">\n            <h5 class=\"card-title\">生体認証削除</h5>\n            <p class=\"card-text\">生体認証を削除しますか</p>\n            <button type=\"button\" class=\"btn btn-success btn-block py-3\" (click)=\"remove()\">削除</button>\n        </div>\n    </div>\n</div>\n\n<app-modal [open]=\"alertModal\" [layout]=\"true\" (close)=\"alertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>{{ errorMessage }}</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CallNativeService, FidoAction, IDeviceResult } from '../../../../services/call-native/call-native.service';\n\n@Component({\n    selector: 'app-fido-remove',\n    templateUrl: './fido-remove.component.html',\n    styleUrls: ['./fido-remove.component.scss']\n})\nexport class FidoRemoveComponent implements OnInit {\n\n    public isLoading: boolean;\n    public device: IDeviceResult;\n    public alertModal: boolean;\n    public errorMessage: string;\n    public registerList: any[];\n\n    constructor(\n        private native: CallNativeService,\n        private router: Router\n    ) { }\n\n    public async ngOnInit() {\n        this.isLoading = true;\n        try {\n            const device = await this.native.device();\n            if (device === null) {\n                throw new Error('device is null');\n            }\n            this.device = device;\n            const registerListResult = await this.native.fido({\n                action: FidoAction.RegisterList,\n                user: `fido-frontend-${this.device.uuid}`\n            });\n            if (!registerListResult.isSuccess) {\n                throw new Error('registerList fail');\n            }\n            if (registerListResult.result.length === 0) {\n                this.router.navigate(['/fido/register']);\n\n                return;\n            }\n            this.registerList = registerListResult.result;\n            this.isLoading = false;\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    public async remove() {\n        this.isLoading = true;\n        try {\n            const authenticationResult = await this.native.fido({\n                action: FidoAction.Authentication,\n                user: `fido-frontend-${this.device.uuid}`\n            });\n            if (!authenticationResult.isSuccess) {\n                throw Error(authenticationResult.error);\n            }\n            const removeResult = await this.native.fido({\n                action: FidoAction.Remove,\n                user: `fido-frontend-${this.device.uuid}`,\n                handle: this.registerList[0].handle\n            });\n            if (!removeResult.isSuccess) {\n                throw Error(removeResult.error);\n            }\n            this.router.navigate(['/fido/register']);\n        } catch (err) {\n            this.isLoading = false;\n            this.errorMessage = err.message;\n            this.alertModal = true;\n        }\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <div class=\"box\">\n            <p>「特定商取引に関する法律」第11条（通信販売についての広告）に基づき、商品の提供条件を次のとおり明示します。\n            </p>\n            <hr class=\"mb-3\">\n            <h3 class=\"large-text mb-1\">事業者</h3>\n            <p class=\"mb-3\">\n                <span class=\"text-red\">販売事業者</span>\n                <br> 佐々木興業株式会社\n                <br>\n                <span class=\"text-red\">お問合せ先</span>\n                <br> 〒170-0013 東京都豊島区東池袋1-14-3\n                <br> 佐々木興業株式会社 シネマサンシャイン運営部\n                <br>\n                <span class=\"text-red\">電話</span>\n                <br> 03-3982-6101(月曜～金曜 10:00～18:00、ただし祝日・年末年始は除く)\n            </p>\n\n            <h3 class=\"large-text mb-1\">ご購入に際して</h3>\n            <p>\n                <span class=\"text-red\">ご購入対象・価格・期間</span>\n                <br> チケットの販売価格は、本サイトにおいて表示された価格となります。\n                <br> その他お客様にご負担いただく費用消費税をご負担いただきます。なお、本サイト内の表示価格は、消費税込みの金額を表示しております。\n                <br> スマートフォンアプリ内でご購入完了後チケットホルダーページに表示されるQRコードが入場用チケットとなります。\n                <br> そちらのQRコードを劇場スタッフにご提示頂きご入場ください。\n                <br> 購入枚数の制限一回のご購入手続において購入いただけますチケット枚数の上限は、6枚までとさせていただきます。7枚以上購入される場合には、 再度お手続きをお願いいたします。\n                <br> チケットは映画上映当日の上映開始1時間前までご購入いただけます。\n                <br>\n                <span class=\"text-red\">お支払い方法</span>\n                <br> クレジットカードによる決済のみとなっております。\n                <br> 利用可能なクレジットカード：MUFG、DC、UFJ、NICOS、Master、VISA、UC、JCB、American Express\n                <br> お支払い時期：\n                <br> クレジットカード決済画面におけるクレジットカード情報の送信完了時に各カード会社にお客様情報を送信し、決済させていただきます。なお、 ご請求日は各カード会社により異なります。\n                <br> キャンセルおよび払い戻し：\n                <br> ご購入手続完了後においては、上映中止または延期の場合を除き、お客様の不可抗力による来場遅延等の理由にかかわらず、ご鑑賞作品の変更、 他の上映時間または座席への変更、もしくはチケットの払い戻しは一切いたしません。また、ご購入されたチケットのお引き取りがない場合においても、払い戻しはいたしません。\n                弊社の事情により上映を中止または延期した場合、期間および場所を定めて当該中止にかかわるチケットの払い戻しを実施します。ただし、 払い戻しの期間を過ぎた場合、発券済のチケットを紛失・破損し、または甚だしく汚損し判読しがたい場合には、一切払い戻しはいたしません。また、\n                チケットの購入金額以外の費用（手数料、交通費、宿泊費、通信費、送付料等）はお支払いいたしません。\n                <br> 払い戻しの期間・場所：\n                <br> 原則として、チケットご購入時にWEB上の確認画面または、弊社から送信させていただきます確認の電子メールに記載された「劇場」において 払い戻しを行います。払い戻しの期間については、各「シネマサンシャイン」までお問い合わせ下さい。\n                <br>\n                <span class=\"text-red\">払い戻しの方法</span>\n                <br> 原則として、チケットとの交換による現金での払い戻しとなります。\n            </p>\n        </div>\n    </div>\n</app-page>","/**\n * LawComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-law',\n    templateUrl: './law.component.html',\n    styleUrls: ['./law.component.scss']\n})\nexport class LawComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <div class=\"mb-4\">\n            <app-membership-benefits></app-membership-benefits>\n        </div>\n        <div class=\"text-center\">\n            <a routerLink=\"/member/point\" class=\"prev-link\">\n                <app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>会員ポイントへ戻る</a>\n        </div>\n    </div>\n</app-page>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-member-benefits',\n    templateUrl: './member-benefits.component.html',\n    styleUrls: ['./member-benefits.component.scss']\n})\nexport class MemberBenefitsComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"read mb-3\">\n            クレジットカードを変更してください。\n        </p>\n        <div class=\"image mb-3 text-center\">\n            <img alt=\"\" src=\"/assets/images/common/credit_card.png\">\n        </div>\n        <div class=\"payment\">\n            <form [formGroup]=\"paymentForm\" (ngSubmit)=\"onSubmit()\">\n                <dl class=\"mb-4\">\n                    <dt>カード番号</dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"paymentForm.controls['cardNumber'].invalid && paymentForm.controls['cardNumber'].touched\" type=\"text\"\n                                pattern=\"\\d*\" formControlName=\"cardNumber\" id=\"cardNumber\" autocomplete=\"off\" placeholder=\"(例)1234567890\"\n                                maxlength=\"16\">\n                        </div>\n                        <div class=\"small-text mb-1\" *ngIf=\"paymentForm.controls['cardNumber'].invalid && paymentForm.controls['cardNumber'].touched\">\n                            <div *ngIf=\"paymentForm.controls['cardNumber'].errors.required\" class=\"validation-text text-red mb-1\">カード番号が未入力です</div>\n                            <div *ngIf=\"paymentForm.controls['cardNumber'].errors.pattern\" class=\"validation-text text-red mb-1\">カード番号は数字で入力してください</div>\n                        </div>\n                        <p class=\"small-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-1\">有効期限</dt>\n                    <dd>\n\n                        <select formControlName=\"cardExpirationMonth\" id=\"cardExpirationMonth\">\n\n                            <option *ngFor=\"let month of cardExpiration.month\" [value]=\"month\">{{ month }}</option>\n\n                        </select> 月\n                        <select formControlName=\"cardExpirationYear\" id=\"cardExpirationYear\">\n\n                            <option *ngFor=\"let year of cardExpiration.year\" [value]=\"year\">{{ year }}</option>\n\n                        </select> 年\n\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt>セキュリティーコード</dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"paymentForm.controls['securityCode'].invalid && paymentForm.controls['securityCode'].touched\"\n                                type=\"text\" pattern=\"\\d*\" formControlName=\"securityCode\" autocomplete=\"off\" placeholder=\"(例)123\"\n                                maxlength=\"4\">\n                        </div>\n                        <div class=\"small-text mb-1\" *ngIf=\"paymentForm.controls['securityCode'].invalid && paymentForm.controls['securityCode'].touched\">\n                            <div *ngIf=\"paymentForm.controls['securityCode'].errors.required\" class=\"validation-text text-red mb-1\">セキュリティーコードが未入力です</div>\n                        </div>\n                        <p>\n                            <u class=\"text-primary\" (click)=\"securityCodeModal = true\">セキュリティーコードについて</u>\n                        </p>\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt>カード名義人</dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"paymentForm.controls['holderName'].invalid && paymentForm.controls['holderName'].touched\" type=\"text\"\n                                formControlName=\"holderName\" autocomplete=\"off\" placeholder=\"(例)TARO CINEMA\">\n                        </div>\n                        <div class=\"small-text mb-1\" *ngIf=\"paymentForm.controls['holderName'].invalid && paymentForm.controls['holderName'].touched\">\n                            <div *ngIf=\"paymentForm.controls['holderName'].errors.required\" class=\"validation-text text-red mb-1\">カード名義人が未入力です</div>\n                        </div>\n                    </dd>\n                </dl>\n\n                <button type=\"submit\" class=\"small-text btn btn-primary center btn-block py-3 rounded-0 mb-4\" [class.invalid]=\"paymentForm.invalid\">変更する</button>\n                <div class=\"text-center\">\n                    <a routerLink=\"/member/edit\" class=\"prev-link\"><app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n                </div>\n            </form>\n        </div>\n    </div>\n</app-page>\n\n<app-modal class=\"security-code-modal\" [open]=\"securityCodeModal\" [layout]=\"true\" (close)=\"securityCodeModal = false\">\n    <div class=\"mb-1 text-center\">セキュリティーコードについて</div>\n    <p class=\"mb-4 small-text\">※カード会社により表示箇所および名称が異なります。</p>\n    <dl class=\"mb-4\">\n        <dt class=\"mb-1\">\n            <strong>VISA / MASTER / DINERS / JCBの場合</strong>\n        </dt>\n        <dd class=\"mb-1\">\n            <p>【カード裏面】セキュリティーコード(末尾3桁)</p>\n        </dd>\n        <dd>\n            <img src=\"/assets/images/common/credit_back.svg\" alt=\"\">\n        </dd>\n    </dl>\n    <dl>\n        <dt class=\"mb-1\">\n            <strong>AMEXの場合</strong>\n        </dt>\n        <dd class=\"mb-1\">\n            <p>【カード表面】セキュリティーコード(4桁)</p>\n        </dd>\n        <dd>\n            <img src=\"/assets/images/common/credit_front.svg\" alt=\"\">\n        </dd>\n    </dl>\n</app-modal>\n\n<app-modal [open]=\"creditCardAlertModal\" [layout]=\"true\" (close)=\"creditCardAlertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>入力内容をご確認ください。</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-edit-credit',\n    templateUrl: './member-edit-credit.component.html',\n    styleUrls: ['./member-edit-credit.component.scss']\n})\nexport class MemberEditCreditComponent implements OnInit {\n\n    public cardExpiration: {\n        year: string[];\n        month: string[];\n    };\n    public paymentForm: FormGroup;\n    public isLoading: boolean;\n    public securityCodeModal: boolean;\n    public creditCardAlertModal: boolean;\n    public disable: boolean;\n\n    constructor(\n        private router: Router,\n        private elementRef: ElementRef,\n        private formBuilder: FormBuilder,\n        private user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.isLoading = false;\n        this.cardExpiration = {\n            year: [],\n            month: []\n        };\n        this.paymentForm = this.createForm();\n        this.disable = false;\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        const creditrCard = {\n            cardNumber: { value: '', validators: [Validators.required, Validators.pattern(/^[0-9]+$/)] },\n            cardExpirationMonth: { value: '01', validators: [Validators.required] },\n            cardExpirationYear: { value: moment().format('YYYY'), validators: [Validators.required] },\n            securityCode: { value: '', validators: [Validators.required] },\n            holderName: { value: '', validators: [Validators.required] }\n        };\n\n        for (let i = 0; i < 12; i++) {\n            const DIGITS = -2;\n            this.cardExpiration.month.push(`0${String(i + 1)}`.slice(DIGITS));\n        }\n        for (let i = 0; i < 10; i++) {\n            this.cardExpiration.year.push(moment().add(i, 'year').format('YYYY'));\n        }\n\n        return this.formBuilder.group({\n            cardNumber: [creditrCard.cardNumber.value, creditrCard.cardNumber.validators],\n            cardExpirationMonth: [creditrCard.cardExpirationMonth.value, creditrCard.cardExpirationMonth.validators],\n            cardExpirationYear: [creditrCard.cardExpirationYear.value, creditrCard.cardExpirationYear.validators],\n            securityCode: [creditrCard.securityCode.value, creditrCard.securityCode.validators],\n            holderName: [creditrCard.holderName.value, creditrCard.holderName.validators]\n        });\n    }\n\n    /**\n     * フォーム確定\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.paymentForm.invalid) {\n            // フォームのステータス変更\n            this.paymentForm.controls.cardNumber.markAsTouched();\n            this.paymentForm.controls.cardExpirationMonth.markAsTouched();\n            this.paymentForm.controls.cardExpirationYear.markAsTouched();\n            this.paymentForm.controls.securityCode.markAsTouched();\n            this.paymentForm.controls.holderName.markAsTouched();\n            setTimeout(() => {\n                const element: HTMLElement = this.elementRef.nativeElement;\n                const validation = <HTMLElement>element.querySelector('.validation');\n                if (validation === null) {\n                    return;\n                }\n                const rect = validation.getBoundingClientRect();\n                const contents = (<HTMLElement>element.querySelector('app-page .scroll'));\n                const scrollTop = contents.scrollTop;\n                const top = rect.top + scrollTop - 80;\n                contents.scrollTo(0, top);\n            }, 0);\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n\n        try {\n            // GMOトークン取得\n            const gmoTokenObject = await this.user.getGmoObject({\n                cardno: this.paymentForm.controls.cardNumber.value,\n                expire: this.paymentForm.controls.cardExpirationYear.value + this.paymentForm.controls.cardExpirationMonth.value,\n                securitycode: this.paymentForm.controls.securityCode.value,\n                holdername: this.paymentForm.controls.holderName.value\n            });\n\n            // 会員 クレジットカード情報保存\n            await this.user.registerCreditCard(gmoTokenObject);\n            this.router.navigate(['/member/edit']);\n        } catch (err) {\n            console.error(err);\n            // クレジットカード処理失敗\n            this.isLoading = false;\n            this.creditCardAlertModal = true;\n            this.paymentForm.controls.cardNumber.setValue('');\n            this.paymentForm.controls.securityCode.setValue('');\n            this.paymentForm.controls.holderName.setValue('');\n            this.disable = false;\n        }\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"read mb-4\">\n            基本情報を変更してください。\n        </p>\n        <div class=\"profile\">\n            <form *ngIf=\"!isLoading\" [formGroup]=\"profileForm\" (ngSubmit)=\"onSubmit()\">\n\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-3\">\n                        <strong>お名前（カタカナ）</strong>\n                        <span class=\"text-red small-text\">必須</span>\n                    </dt>\n                    <dd class=\"mb-3\">\n                        <div>セイ</div>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"profileForm.controls['familyName'].invalid && profileForm.controls['familyName'].touched\" type=\"text\"\n                                formControlName=\"familyName\" autocomplete=\"family-name\" placeholder=\"全角カタカナで入力してください\">\n                        </div>\n                        <div *ngIf=\"profileForm.controls['familyName'].invalid && profileForm.controls['familyName'].touched\">\n                            <div *ngIf=\"profileForm.controls['familyName'].errors.required\" class=\"validation-text text-red mb-1\">セイが未入力です</div>\n                            <div *ngIf=\"profileForm.controls['familyName'].errors.maxlength\" class=\"validation-text text-red mb-1\">セイは{{ profileForm.controls['familyName'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                            <div *ngIf=\"profileForm.controls['familyName'].errors.pattern\" class=\"validation-text text-red mb-1\">セイは全角カタカナで入力してください</div>\n                        </div>\n                    </dd>\n                    <dd>\n                        <div>メイ</div>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"profileForm.controls['givenName'].invalid && profileForm.controls['givenName'].touched\" type=\"text\"\n                                formControlName=\"givenName\" autocomplete=\"given-name\" placeholder=\"全角カタカナで入力してください\">\n                        </div>\n                        <div *ngIf=\"profileForm.controls['givenName'].invalid && profileForm.controls['givenName'].touched\">\n                            <div *ngIf=\"profileForm.controls['givenName'].errors.required\" class=\"validation-text text-red mb-1\">メイが未入力です</div>\n                            <div *ngIf=\"profileForm.controls['givenName'].errors.maxlength\" class=\"validation-text text-red mb-1\">メイは{{ profileForm.controls['givenName'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                            <div *ngIf=\"profileForm.controls['givenName'].errors.pattern\" class=\"validation-text text-red mb-1\">メイは全角カタカナで入力してください</div>\n                        </div>\n                    </dd>\n                </dl>\n\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-3\">\n                        <strong>メールアドレス</strong>\n                    </dt>\n                    <dd>\n                        {{ staticProfile.email }}\n                    </dd>\n                </dl>\n\n                <dl class=\"mb-4\">\n                    <dt>\n                        <strong>電話番号</strong>\n                        <span class=\"text-red small-text\">必須</span>\n                    </dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"profileForm.controls['telephone'].invalid && profileForm.controls['telephone'].touched\" type=\"tel\"\n                                formControlName=\"telephone\" autocomplete=\"tel\" placeholder=\"電話番号を入力してください\">\n                        </div>\n                        <div class=\"mb-1\" *ngIf=\"profileForm.controls['telephone'].invalid && profileForm.controls['telephone'].touched\">\n                            <div *ngIf=\"profileForm.controls['telephone'].errors.required\" class=\"validation-text text-red mb-1\">電話番号が未入力です</div>\n                            <div *ngIf=\"profileForm.controls['telephone'].errors.minlength\" class=\"validation-text text-red mb-1\">電話番号は{{ profileForm.controls['telephone'].errors.minlength.requiredLength }}文字以上で入力してください</div>\n                            <div *ngIf=\"profileForm.controls['telephone'].errors.maxlength\" class=\"validation-text text-red mb-1\">電話番号は{{ profileForm.controls['telephone'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                            <div *ngIf=\"profileForm.controls['telephone'].errors.pattern\" class=\"validation-text text-red mb-1\">電話番号は数字で入力してください</div>\n                            <div *ngIf=\"profileForm.controls['telephone'].errors.telephone\" class=\"validation-text text-red mb-1\">電話番号が正しくありません</div>\n                        </div>\n                        <p class=\"small-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                    </dd>\n                </dl>\n\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-3\">\n                        <strong>よく行く劇場</strong>\n                    </dt>\n                    <dd>\n                        {{ user.getTheaterName(0) }}\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-3\">\n                        <strong>会員コード</strong>\n                    </dt>\n                    <dd>\n                        {{ user.getAccount(0)?.accountNumber }}\n                    </dd>\n                </dl>\n                <!-- <dl class=\"mb-4\">\n                            <dt>生年月日\n                                <span class=\"text-red small-text\">必須</span>\n                            </dt>\n                            <dd>\n                                \n                            </dd>\n                        </dl>\n                        <dl class=\"mb-4\">\n                            <dt>性別\n                                <span class=\"text-red small-text\">必須</span>\n                            </dt>\n                            <dd>\n                                \n                            </dd>\n                        </dl> -->\n                <!-- <dl class=\"mb-4\">\n                    <dt>\n                        <strong>郵便番号</strong>\n                        <span class=\"text-red small-text\">必須</span>\n                    </dt>\n                    <dd>\n                        <input [class.validation]=\"profileForm.controls['postalCode'].invalid && profileForm.controls['postalCode'].touched\" type=\"text\"\n                            formControlName=\"postalCode\" autocomplete=\"zip\" placeholder=\"電話番号を入力してください\">\n                    </dd>\n                </dl> -->\n                <button type=\"submit\" class=\"small-text btn btn-primary center btn-block py-3 rounded-0 mb-4\" [class.invalid]=\"profileForm.invalid\">変更する</button>\n                <div class=\"text-center\">\n                    <a routerLink=\"/member/edit\" class=\"prev-link\"><app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n                </div>\n            </form>\n        </div>\n    </div>\n</app-page>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as libphonenumber from 'libphonenumber-js';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-edit-profile',\n    templateUrl: './member-edit-profile.component.html',\n    styleUrls: ['./member-edit-profile.component.scss']\n})\nexport class MemberEditProfileComponent implements OnInit {\n    public profileForm: FormGroup;\n    public isLoading: boolean;\n    public disable: boolean;\n    public staticProfile: {\n        email: string;\n    };\n    constructor(\n        private formBuilder: FormBuilder,\n        private elementRef: ElementRef,\n        private router: Router,\n        private user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        try {\n            this.profileForm = this.createForm();\n            this.isLoading = false;\n            this.disable = false;\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/member/edit/profile' }]);\n        }\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        const NAME_MAX_LENGTH = 12;\n        const TEL_MAX_LENGTH = 11;\n        const TEL_MIN_LENGTH = 9;\n\n        const profile = {\n            familyName: {\n                value: '',\n                validators: [\n                    Validators.required,\n                    Validators.maxLength(NAME_MAX_LENGTH),\n                    Validators.pattern(/^[ァ-ヶー]+$/)\n                ]\n            },\n            givenName: {\n                value: '',\n                validators: [\n                    Validators.required,\n                    Validators.maxLength(NAME_MAX_LENGTH),\n                    Validators.pattern(/^[ァ-ヶー]+$/)\n                ]\n            },\n            telephone: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(TEL_MAX_LENGTH),\n                    Validators.minLength(TEL_MIN_LENGTH),\n                    Validators.pattern(/^[0-9]+$/),\n                    (control: AbstractControl): ValidationErrors | null => {\n                        const field = control.root.get('telephone');\n                        if (field !== null) {\n                            const parsedNumber = libphonenumber.parse(field.value, 'JP');\n                            if (parsedNumber.phone === undefined) {\n                                return { telephone: true };\n                            }\n                            const isValid = libphonenumber.isValidNumber(parsedNumber);\n                            if (!isValid) {\n                                return { telephone: true };\n                            }\n                        }\n\n                        return null;\n                    }\n                ]\n            },\n            postalCode: {\n                value: '',\n                validators: []\n            },\n        };\n\n        const contact = this.user.data.contact;\n        if (contact === undefined) {\n            throw new Error('contact is undefined');\n        }\n        profile.givenName.value = contact.givenName;\n        profile.familyName.value = contact.familyName;\n        profile.telephone.value = contact.telephone.replace(/\\-/g, '');\n        this.staticProfile = {\n            email: contact.email\n        };\n\n        return this.formBuilder.group({\n            familyName: [profile.familyName.value, profile.familyName.validators],\n            givenName: [profile.givenName.value, profile.givenName.validators],\n            telephone: [profile.telephone.value, profile.telephone.validators],\n            postalCode: [profile.postalCode.value, profile.postalCode.validators]\n        });\n    }\n\n    /**\n     * フォーム確定\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.profileForm.invalid) {\n            // フォームのステータス変更\n            this.profileForm.controls.familyName.markAsTouched();\n            this.profileForm.controls.givenName.markAsTouched();\n            this.profileForm.controls.telephone.markAsTouched();\n            this.profileForm.controls.postalCode.markAsTouched();\n            setTimeout(() => {\n                const element: HTMLElement = this.elementRef.nativeElement;\n                const validation = <HTMLElement>element.querySelector('.validation');\n                if (validation === null) {\n                    return;\n                }\n                const rect = validation.getBoundingClientRect();\n                const contents = (<HTMLElement>element.querySelector('app-page .scroll'));\n                const scrollTop = contents.scrollTop;\n                const top = rect.top + scrollTop - 80;\n                contents.scrollTo(0, top);\n            }, 0);\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n\n        try {\n            await this.user.updateProfile({\n                familyName: this.profileForm.controls.familyName.value,\n                givenName: this.profileForm.controls.givenName.value,\n                email: this.staticProfile.email,\n                telephone: this.profileForm.controls.telephone.value,\n                postalCode: this.profileForm.controls.postalCode.value,\n            });\n            this.router.navigate(['/member/edit']);\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/member/edit/profile' }]);\n        }\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"read mb-3 small-text\">\n            会員情報の変更ができます\n        </p>\n        <div class=\"profile mb-4\">\n            <div class=\"text-center\">基本情報</div>\n            <ul class=\"mb-3\">\n                <li>\n                    <app-icon iconName=\"user-white\" width=\"15\" height=\"15\"></app-icon>{{ user.getName() }}\n                </li>\n                <li>\n                    <app-icon iconName=\"email-white\" width=\"15\" height=\"15\"></app-icon>{{ user.data.contact?.email }}\n                </li>\n                <li>\n                    <app-icon iconName=\"telephone-white\" width=\"15\" height=\"15\"></app-icon>{{ user.getTelephone() }}\n                </li>\n                <li>\n                    <app-icon iconName=\"my-theater-white\" width=\"15\" height=\"15\"></app-icon>{{ user.getTheaterName(0) }}\n                </li>\n                <li>\n                    <app-icon iconName=\"account-white\" width=\"15\" height=\"15\"></app-icon>{{ user.getAccount(0)?.accountNumber }}\n                </li>\n            </ul>\n            <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" routerLink=\"/member/edit/profile\">基本情報変更</button>\n        </div>\n        <div class=\"credit\">\n            <div class=\"text-center\">カード情報</div>\n            <ul class=\"mb-3\">\n                <li>\n                    <app-icon iconName=\"credit-no-white\" width=\"15\" height=\"15\"></app-icon>{{ user.getCreditCard(0)?.cardNo }}\n                </li>\n                <li>\n                    <app-icon iconName=\"credit-expire-white\" width=\"15\" height=\"15\"></app-icon>{{ user.getCreditCard(0)?.expire }}\n                </li>\n            </ul>\n            <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto mb-4\" routerLink=\"/member/edit/credit\">クレジットカード変更</button>\n        </div>\n    </div>\n</app-page>","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-edit',\n    templateUrl: './member-edit.component.html',\n    styleUrls: ['./member-edit.component.scss']\n})\nexport class MemberEditComponent implements OnInit {\n\n    constructor(\n        public user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page>\n    <div class=\"inner\">\n        <div *ngIf=\"!isLoading\" class=\"text-center mb-4\">\n            <div class=\"mb-4\">{{ user.getName() }}様</div>\n            <!-- <div class=\"mb-4\">\n                現在\n                <span class=\"large-xx-text\">{{ user.data.accounts[0].availableBalance }}</span>\n                ポイント\n            </div>\n            <div *ngIf=\"user.data.accounts[0].availableBalance < 6\" class=\"mb-4\">\n                あと{{ (6 - user.data.accounts[0].availableBalance) }}ポイントで無料鑑賞\n            </div>\n            <div *ngIf=\"user.data.accounts[0].availableBalance >= 6\" class=\"mb-4\">\n                無料鑑賞券を使用できます\n            </div>\n            <app-point-slider class=\"px-3\" [point]=\"user.data.accounts[0].availableBalance\"></app-point-slider> -->\n        </div>\n        <ul class=\"menu mb-0 text-center\">\n            <li class=\"d-flex justify-content-center align-items-center\" (click)=\"redirectToPurchaseTime()\">\n                <div>\n                    <div class=\"large-x-text mb-2\">\n                        <i class=\"far fa-clock\"></i>\n                    </div>\n                    <div>今スグ観る</div>\n                </div>\n            </li>\n            <li class=\"d-flex justify-content-center align-items-center\" (click)=\"redirectToPurchaseFilm()\">\n                <div>\n                    <div class=\"large-x-text mb-2\">\n                        <i class=\"fas fa-film\"></i>\n                    </div>\n                    <div>チケット購入</div>\n                </div>\n            </li>\n            <li class=\"d-flex justify-content-center align-items-center\" routerLink=\"/member/edit\">\n                <div>\n                    <div class=\"large-x-text mb-2\">\n                        <i class=\"fas fa-cog\"></i>\n                    </div>\n                    <div>登録情報確認・変更</div>\n                </div>\n            </li>\n            <li class=\"d-flex justify-content-center align-items-center\" routerLink=\"/fido/remove\">\n                <div>\n                    <div class=\"large-x-text mb-2\">\n                        <i class=\"fas fa-fingerprint\"></i>\n                    </div>\n                    <div>生体認証削除</div>\n                </div>\n            </li>\n        </ul>\n    </div>\n</app-page>\n\n<app-loading [show]=\"isLoading\"></app-loading>\n<app-information [isMember]=\"true\"></app-information>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { PurchaseSort, SelectService } from '../../../../services/select/select.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-mypage',\n    templateUrl: './member-mypage.component.html',\n    styleUrls: ['./member-mypage.component.scss']\n})\nexport class MemberMypageComponent implements OnInit {\n    public isLoading: boolean;\n\n    constructor(\n        public user: UserService,\n        private select: SelectService,\n        private router: Router\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.isLoading = true;\n        try {\n            await this.user.updateAccount();\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/member/mypage' }]);\n            console.log('MemberMypageComponent.ngOnInit', err);\n        }\n        this.isLoading = false;\n    }\n\n    /**\n     * チケット購入へ移動（上映時間順）\n     * @method redirectToPurchaseTime\n     */\n    public redirectToPurchaseTime() {\n        this.select.data.purchase.date = moment().format('YYYYMMDD');\n        this.select.data.purchase.sort = PurchaseSort.Time;\n        this.router.navigate(['/purchase/schedule']);\n    }\n\n    /**\n     * チケット購入へ移動（作品順）\n     * @method redirectToPurchaseFilm\n     */\n    public redirectToPurchaseFilm() {\n        this.select.data.purchase.sort = PurchaseSort.Film;\n        this.router.navigate(['/purchase/schedule']);\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"mb-3 text-center small-text\">\n            貯まったポイントの確認ができます。\n        </p>\n        <div class=\"mb-4 text-center\">\n            現在\n            <span class=\"large-xx-text\">{{ user.data.accounts[0].availableBalance }}</span>\n            ポイント\n        </div>\n        <ul class=\"mb-4\">\n            <li *ngFor=\"let action of accountMoneyTransferActions\">\n                <app-point-history-list [action]=\"action\" [accountNumber]=\"user.data.accounts[0].accountNumber\"></app-point-history-list>\n            </li>\n        </ul>\n        <div class=\"text-center\">\n            <a routerLink=\"/member/point\" class=\"prev-link\"><app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>会員ポイントへ戻る</a>\n        </div>\n    </div>\n</app-page>\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-point-history',\n    templateUrl: './member-point-history.component.html',\n    styleUrls: ['./member-point-history.component.scss']\n})\nexport class MemberPointHistoryComponent implements OnInit {\n    public isLoading: boolean;\n    public accountMoneyTransferActions: factory.pecorino.action.transfer.moneyTransfer.IAction[];\n\n    constructor(\n        public user: UserService,\n        private router: Router,\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.isLoading = true;\n        try {\n            this.sasaki.getServices();\n            await this.user.updateAccount();\n            if (this.user.data.accounts.length === 0) {\n                throw new Error('account is not found');\n            }\n            this.accountMoneyTransferActions = await this.sasaki.person.searchAccountMoneyTransferActions({\n                personId: 'me',\n                accountNumber: this.user.data.accounts[0].accountNumber\n            });\n            console.log(this.accountMoneyTransferActions);\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/member/point/history' }]);\n            console.log('MemberPointHistoryComponent.ngOnInit', err);\n        }\n        this.isLoading = false;\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"mb-3 text-center small-text\">\n            貯まったポイントの確認ができます。\n        </p>\n        <div *ngIf=\"!isLoading\">\n            <div class=\"mb-3 text-center\">\n                現在\n                <span class=\"large-xx-text\">{{ user.data.accounts[0].availableBalance }}</span>\n                ポイント\n            </div>\n\n            <div class=\"mb-3\">\n                <app-point-stamps [point]=\"user.data.accounts[0].availableBalance\"></app-point-stamps>\n            </div>\n            \n            <div class=\"mb-3\">\n                <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" (click)=\"pointUseModal = true\">ポイント使用方法</button>\n            </div>\n            <div class=\"buttons d-grid\">\n                <button type=\"button\" class=\"small-text btn btn-outline-light py-2 rounded-0\" routerLink=\"/member/point/history\">ポイント使用履歴</button>\n                <button type=\"button\" class=\"small-text btn btn-outline-light py-2 rounded-0\" routerLink=\"/member/point/benefits\">ポイント特典一覧</button>\n            </div>\n        </div>\n\n    </div>\n</app-page>\n\n<app-loading [show]=\"isLoading\"></app-loading>\n\n<app-modal class=\"point-use-modal\" [open]=\"pointUseModal\" [layout]=\"true\" (close)=\"pointUseModal = false\">\n    <div class=\"mb-1 text-center\"><strong>ポイント使用方法</strong></div>\n    <p class=\"small-text\">\n        チケット購入ページで券種選択を選択する際に、会員ポイントを使用することができます。\n        <br> そちらでポイントを使用してください。\n    </p>\n</app-modal>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-point',\n    templateUrl: './member-point.component.html',\n    styleUrls: ['./member-point.component.scss']\n})\nexport class MemberPointComponent implements OnInit {\n    public isLoading: boolean;\n    public pointUseModal: boolean;\n\n    constructor(\n        public user: UserService,\n        private router: Router\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.pointUseModal = false;\n        this.isLoading = true;\n        try {\n            await this.user.updateAccount();\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/member/point' }]);\n            console.log('MemberPointComponent.ngOnInit', err);\n        }\n        this.isLoading = false;\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner position-center\">\n        <p class=\"read text-center mb-4\">\n            退会を行います。\n            <br> 下記注意文言をご確認のうえ\n            <br> 問題なければ退会ボタンを押してください。\n        </p>\n\n        <div>\n            <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" (click)=\"confirmModal = true\">退会</button>\n        </div>\n    </div>\n</app-page>\n\n<app-modal class=\"confirm-modal\" [open]=\"confirmModal\" [layout]=\"true\" (close)=\"confirmModal = false\">\n    <div class=\"mb-1 text-center\">\n        <strong>本当に退会しますか？</strong>\n    </div>\n    <p class=\"small-text mb-3\">\n        退会注意文言！\n    </p>\n    <button type=\"button\" class=\"button button-danger btn-block py-3 rounded-0 mx-auto\" (click)=\"withdraw()\">退会する</button>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { MemberService } from '../../../../services/member/member.service';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-member-withdraw',\n    templateUrl: './member-withdraw.component.html',\n    styleUrls: ['./member-withdraw.component.scss']\n})\nexport class MemberWithdrawComponent implements OnInit {\n    public isLoading: boolean;\n    public confirmModal: boolean;\n    constructor(\n        private sasaki: SasakiService,\n        private user: UserService,\n        private member: MemberService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.isLoading = false;\n        this.confirmModal = false;\n    }\n\n    /**\n     * 退会\n     * @method withdraw\n     */\n    public async withdraw() {\n        this.isLoading = true;\n        try {\n            // 会員プログラム削除\n            const ownershipInfoIdentifier = this.user.data.programMembershipOwnershipInfos[0].identifier;\n            await this.member.unRegister({\n                ownershipInfoIdentifier: ownershipInfoIdentifier\n            });\n\n            // クレジットカード削除\n            await this.user.deleteCreditCard().catch((err) => {\n                console.error(err);\n            });\n            await this.sasaki.signOut();\n        } catch (err) {\n            console.error(err);\n            this.isLoading = false;\n        }\n    }\n\n}\n","<app-page>\n    <div class=\"inner position-center\">\n        <p class=\"large-text text-center mb-4\">ページが見つかりません。</p>\n        <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" routerLink=\"/ticket\">チケットホルダーへ戻る</button>\n    </div>\n</app-page>","/**\n * NotFoundComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-not-found',\n    templateUrl: './not-found.component.html',\n    styleUrls: ['./not-found.component.scss']\n})\n/**\n * NotFound\n * @class NotFoundComponent\n * @implements OnInit\n */\nexport class NotFoundComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <div class=\"box\">\n            <h3 class=\"large-text mb-1\">利用規約について</h3>\n            <p>\n                本規約は、佐々木興業株式会社（以下「当社」）が独自に規定するものであり、当社の運営する「シネマサンシャイン」が提供するサービスに提供されるものとします。\n                <br> 当社が提供するシネマサンシャインをご利用になる場合には、本規約に従っていただく必要があります。ご利用の皆様はシネマサンシャインの利用をもって、本規約の内容を承諾いただけたものとみなします。\n                <br> 本規約は必要に応じて適宜見直しを行ないますので、ご利用の際には本ページに掲載されている最新の利用規約をご確認下さい。\n                <br> <span class=\"text-red\">1.個人登録情報の取り扱いについて</span>\n                <br> 個人情報に関してはシネマサンシャインにて最大限の注意を払い管理いたします。個人情報の取り扱いについては、プライバシーポリシーにまとめてありますので、そちらもご覧下さい。\n                <br> またシネマサンシャインの営業譲渡が行なわれる際は、譲渡を受けた獲得者に移管いたします。なお、退会申請には速やかに応じ、個人情報を削除いたします。\n                <br> <span class=\"text-red\">2.ID及びパスワードの管理について</span>\n                <br> ID及びパスワードの管理は、登録ユーザーの責任において行なっていただきます。ID及びパスワードを利用して行なわれた行為は、そのIDを保有している登録ユーザーの責任とみなします。\n                <br> 第三者への漏洩の疑いがある場合は、直ちにシネマサンシャインまでご連絡下さい。シネマサンシャインはID及びパスワードの不正使用などから生じた損害について一切責任を負いません。\n                <br> <span class=\"text-red\">3.登録事項の変更について</span>\n                <br> ユーザー登録の必須項目に変更があった際には、速やかに情報の変更をお願いいたします。\n                <br> <span class=\"text-red\">4.禁止事項</span>\n                <br> 他の利用者や第三者を誹謗中傷する行為や、不当に足を引っ張ろうとする行為。\n                <br> 公正な場を不当に歪めようとする行為。\n                <br> 運営者が、不適切と判断した行為。\n                <br> <span class=\"text-red\">5.登録ユーザーの資格保留又は削除について</span>\n                <br> シネマサンシャインは、上記禁止事項に違反した登録ユーザーに対し、資格を保留・削除する権利を保有します。また、コンテンツを削除する権利も保有します。その判断に関しては、運営者の裁量にて行使されます。これにより損害が発生した場合でもシネマサンシャインは責任を負いません。\n                <br> <span class=\"text-red\">6.サービスの中断</span>\n                <br> シネマサンシャインは、設備的事情等のやむを得ない場合に限って、利用者に事前通知なくサービスを一時的に中断することがあります。その際に利用者に生じた不利益や損失などに対して、一切の責任を負わないものとします。\n                <br> 7.営業の中止について\n                <br> シネマサンシャインは、利用者にWebサイト上またはメールによる通知の上、サービスの全部または一部を中止できるものとします。サービスの終了に伴い生じる利用者の不利益や損害などに対して、一切の責任を負わないものとします。\n                <br> <span class=\"text-red\">8.免責事項</span>\n                <br> シネマサンシャインは、本サイトの利用に際して利用者が生じた不利益や損害などに対して、一切の責任を負わないものとします。\n                <br> 利用者が本サイトから得る情報などについての一切は、その受け手の責任において判断するものとし、シネマサンシャインは、いかなる保証も行なわないものにします。\n                <br> 利用者が使用する機器・ソフトウェアについて、シネマサンシャインは、その動作保証は一切行なわないものとします。\n                <br> シネマサンシャインをきっかけに契約に至った案件に関して、その後に生じたトラブルなど、シネマサンシャインでは一切の責任を負わないものとします。\n                <br> <span class=\"text-red\">9.準拠法および裁判管轄について</span>\n                <br> 本規約には、日本法が適用されます。また、本規約に関連する利用者とシネマサンシャイン間の紛争については、東京地方裁判所を第一審専属管轄裁判所とします。\n            </p>\n        </div>\n    </div>\n</app-page>","/**\n * PolicyComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-policy',\n    templateUrl: './policy.component.html',\n    styleUrls: ['./policy.component.scss']\n})\nexport class PolicyComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <div class=\"box\">\n            <h3 class=\"large-text mb-1\">プライバシーポリシーについて</h3>\n            <p>\n                2009年4月15日\n                <br> 当社はお客様の氏名・性別・生年月日・お住まい・職種のお申し込み内容等の個人情報の保護に関し、以下の取組みを実施いたしております。\n                <br> 1.当社は、個人情報に関する法令おおびその他の規範を遵守し、お客さまの大切な個人情報の保護に万全を尽くします。\n                <br> 2.当社はお客さまの個人情報について、下記の目的の範囲内で適正に取り扱いさせていただきます。\n                <br> ・ご本人確認、ご利用サービスの停止・中止の通知並びにその他当社のサービスの提供に係わること。\n                <br> ・電子メールによる当社または提携先の提供するサービスに関する情報提供、販売の推奨、アンケート調査および景品等の送付あるいは提供を行うこと。\n                <br> ・集計、分析処理を行い、個人を認識できない形状に加工して利用または提携先等に提供すること。\n                <br> ・当社のサービス改善または新たなサービスの開発を行うこと。\n                <br> ・お問い合わせ、ご相談にお答えすること。\n                <br> なお、上記利用目的等を定める場合があります。また、お客さまとのお電話での対応時において、ご意見・ご要望等の正確な把握、 今後のサービス向上のために、通話を録音させていただく場合がございます。\n                <br> 当社の提供するウェブサイトやサービスをより便利にご利用いただくために、クッキー等の技術を利用する場合があります。\n                <br> クッキー等を利用して取得したサービスの利用状況を個人を特定して利用する場合は、個人情報として取り扱います。\n                <br> 3.当社は、お客さまの個人情報を適正に取扱うため、社内規定及び管理体制の整備、従業員の教育、並びに、個人情報への不正アクセスや 個人情報の紛失、破壊、改ざんおよび漏洩防止等に関する適切な措置を行ない、またその見直しを継続して図ることにより、個人情報の保護に\n                努めてまいります。\n                <br> 4.当社は、お客さまの個人情報については、上記利用目的を達成するために、業務委託先または提携先に預託する場合がございます。その場合は個人情報保護の契約を締結する等の必要かつ適切な処置を実施いたします。なお法令等に基づき裁判所からの開示の要請があった場合については、当該公的機関に提供することがございます。\n                <br> 5.当社は、本サービスをご利用のお客さまについて、利用目的の達成に必要な範囲でお客様の個人データを共同利用する場合があります。\n                <br> ・共同利用される個人データは、お客さまのお名前、生年月日、お住まい、性別、サービス利用状況等です。\n                <br> ・共同利用者の範囲は当社および当社関連会社です。\n                <br> ・共同利用における利用目的は、当社の利用目的と同じです。\n                <br> ・共同利用における管理責任者佐々木興業株式会社(会社概要)です。\n            </p>\n        </div>\n    </div>\n</app-page>","/**\n * PrivacyComponent\n */\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-privacy',\n    templateUrl: './privacy.component.html',\n    styleUrls: ['./privacy.component.scss']\n})\nexport class PrivacyComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<div class=\"base\">\n    <app-header></app-header>\n    <app-page class=\"bg-02\">\n        <app-purchase-step class=\"pt-3 mb-3 mr-3\"></app-purchase-step>\n        <router-outlet></router-outlet>\n    </app-page>\n    <app-navigation></app-navigation>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-purchase-base',\n    templateUrl: './purchase-base.component.html',\n    styleUrls: ['./purchase-base.component.scss']\n})\nexport class PurchaseBaseComponent implements OnInit {\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n}\n","<div class=\"inner\">\n    <p class=\"read\">ご購入ありがとうございました。\n        <br>購入者情報入力画面で入力していただいたメールアドレス宛に購入完了メールを送信しました。\n        <br>ご入場方法に関しましてはページ下部をご確認ください。\n        <br>※購入完了メールの送信に時間がかかる事がありますのでご注意ください。</p>\n\n    <ul class=\"border border-white p-3 mb-4\">\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">予約番号</div>\n            <div>\n                <strong class=\"red-text large-x-text mb-2\">{{ data.order.confirmationNumber }}</strong>\n                <div class=\"small-x-text\">※チケットの発行等に必要な番号となりますので必ず忘れないようにしてください。</div>\n            </div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">劇場 / スクリーン</div>\n            <div>{{ getTheaterName() }} / {{ getScreenName() }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">作品名</div>\n            <div>{{ getTitle() }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">鑑賞日時</div>\n            <div>\n                {{ getAppreciationDate() }} {{ getStartDate() }} - {{ getEndDate() }}\n            </div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">座席</div>\n            <div class=\"mb-2\" *ngFor=\"let offer of data.order.acceptedOffers\">\n                {{ offer.itemOffered.reservedTicket.coaTicketInfo.seatNum }} {{ offer.itemOffered.reservedTicket.coaTicketInfo.ticketName\n                }} ￥{{ offer.itemOffered.reservedTicket.coaTicketInfo.salePrice }}\n            </div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">ご利用金額</div>\n            <div>￥{{ data.order.price }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">メールアドレス</div>\n            <div>{{ data.order.customer.email }}</div>\n        </li>\n        <li *ngIf=\"user.isMember()\">\n            <div class=\"mb-2\">獲得ポイント</div>\n            <div>\n                <strong class=\"red-text\">{{ data.incentive }}ポイント</strong>\n            </div>\n        </li>\n    </ul>\n\n    <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" routerLink=\"/ticket\">チケットホルダーに戻る</button>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { environment } from '../../../../../environments/environment';\nimport { TimeFormatPipe } from '../../../../pipes/time-format/time-format.pipe';\nimport { SaveType, StorageService } from '../../../../services/storage/storage.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-purchase-complete',\n    templateUrl: './purchase-complete.component.html',\n    styleUrls: ['./purchase-complete.component.scss']\n})\nexport class PurchaseCompleteComponent implements OnInit {\n    public data: {\n        order: factory.order.IOrder;\n        transaction: factory.transaction.placeOrder.ITransaction;\n        movieTheaterOrganization: factory.organization.movieTheater.IPublicFields;\n        sendEmailNotification?: factory.task.sendEmailMessage.ITask\n    };\n    public environment = environment;\n\n    constructor(\n        private storage: StorageService,\n        public user: UserService,\n        private router: Router\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.data = this.storage.load('complete', SaveType.Session);\n        if (this.data === null) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    /**\n     * 印刷\n     * @method print\n     */\n    public print() {\n        print();\n    }\n\n    /**\n     * 劇場名取得\n     * @method getTheaterName\n     * @returns {string}\n     */\n    public getTheaterName() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n            return '';\n        }\n\n        return itemOffered.reservationFor.superEvent.location.name.ja;\n    }\n\n    /**\n     * スクリーン名取得\n     * @method getScreenName\n     * @returns {string}\n     */\n    public getScreenName() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n            return '';\n        }\n\n        return itemOffered.reservationFor.location.name.ja;\n    }\n\n    /**\n     * 作品名取得\n     * @method getTitle\n     * @returns {string}\n     */\n    public getTitle() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n            return '';\n        }\n\n        return itemOffered.reservationFor.name.ja;\n    }\n\n    /**\n     * 鑑賞日取得\n     * @method getAppreciationDate\n     * @returns {string}\n     */\n    public getAppreciationDate() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n            return '';\n        }\n        moment.locale('ja');\n\n        return moment(itemOffered.reservationFor.startDate).format('YYYY年MM月DD日(ddd)');\n    }\n\n    /**\n     * 上映開始時間取得\n     * @method getStartDate\n     * @returns {string}\n     */\n    public getStartDate() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            itemOffered.reservationFor.startDate,\n            itemOffered.reservationFor.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 上映終了取得\n     * @method getEndDate\n     * @returns {string}\n     */\n    public getEndDate() {\n        const itemOffered = this.data.order.acceptedOffers[0].itemOffered;\n        if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n            return '';\n        }\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            itemOffered.reservationFor.endDate,\n            itemOffered.reservationFor.coaInfo.dateJouei\n        );\n    }\n\n}\n","<div class=\"inner\">\n    <p class=\"read\">\n        <strong class=\"large-text red-text\">まだ購入は完了していません。</strong>\n        <br>ご購入内容をご確認頂き「購入完了」ボタンを押して購入を確定してください。</p>\n\n    <div class=\"large-text mb-2\">\n        作品情報\n        <!-- <div class=\"right ticket-app-hide\">\n                <div class=\"button light-gray-button change-button\">\n                    <a href=\"{{ purchase.data.movieTheaterOrganization?.url }}\">変更</a>\n                </div>\n            </div>\n            <div class=\"right ticket-app-show\">\n                <div class=\"button light-gray-button change-button\">\n                    <a href=\"{{ environment.APP_SITE_URL }}/#/purchase\">変更</a>\n                </div>\n            </div> -->\n    </div>\n    <ul class=\"border border-white p-3 mb-4\">\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">劇場 / スクリーン</div>\n            <div>{{ purchase.getTheaterName() }} / {{ purchase.getScreenName() }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">作品名</div>\n            <div>{{ purchase.getTitle() }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">鑑賞日時</div>\n            <div>\n                <div class=\"mb-xx-small\">\n                    <strong class=\"red-text\">\n                        {{ purchase.getAppreciationDate() }} {{ purchase.getStartDate() }} - {{ purchase.getEndDate() }}\n                    </strong>\n                </div>\n                <p class=\"small-x-text red-text\">※鑑賞日時を必ずご確認ください。</p>\n            </div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">座席</div>\n            <div class=\"mb-2\" *ngFor=\"let offer of purchase.data.seatReservationAuthorization?.object.offers\">\n                {{ offer.seatNumber }} {{ offer.ticketInfo.ticketName }} ￥{{ offer.ticketInfo.salePrice }}\n            </div>\n        </li>\n        <!-- <li *ngIf=\"user.isMember()\">\n                \n                    <div>獲得ポイント</div>\n                    <div>\n                        <strong class=\"red-text\">0ポイント</strong>\n                    </div>\n                \n            </li> -->\n    </ul>\n\n    <div class=\"large-text mb-2\">\n        購入情報\n        <!-- <div class=\"right\">\n                <div class=\"button light-gray-button change-button\">\n                    <a routerLink=\"/purchase/input\">変更</a>\n                </div>\n            </div> -->\n    </div>\n    <ul class=\"border border-white p-3 mb-4\">\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">お名前（ひらがな）</div>\n            <div>{{ purchase.data.customerContact?.familyName }} {{ purchase.data.customerContact?.givenName }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">メールアドレス</div>\n            <div>{{ purchase.data.customerContact?.email }}</div>\n        </li>\n        <li class=\"mb-3\">\n            <div class=\"mb-2\">電話番号</div>\n            <div>{{ (purchase.data.customerContact?.telephone | libphonenumberFormat) }}</div>\n        </li>\n\n        <li *ngIf=\"purchase.getTotalPrice() > 0\">\n            <div class=\"mb-2\">カード番号</div>\n            <div *ngIf=\"purchase.data.gmoTokenObject !== undefined\">{{ purchase.data.gmoTokenObject?.maskedCardNo }}</div>\n            <div *ngIf=\"purchase.data.gmoTokenObject === undefined && user.data.creditCards !== undefined\">{{ user.data.creditCards[0].cardNo }}</div>\n\n        </li>\n\n    </ul>\n\n    <!-- <div class=\"large-text mb-2\">注意事項(重要)</div>\n<p class=\"mb-2\">下記項目をご確認いただきチェックを入れて「購入完了」ボタンを押してください。</p> -->\n\n    <form [formGroup]=\"confirmForm\" (ngSubmit)=\"onSubmit()\">\n        <!-- <div class=\"mb-x-large text-center\">\n        <input type=\"checkbox\" formControlName=\"notes\" id=\"notes\">\n        <label for=\"notes\">\n            <strong>上記内容に同意する</strong>\n        </label>\n        <div *ngIf=\"confirmForm.controls['notes'].invalid && (confirmForm.controls['notes'].dirty || confirmForm.controls['notes'].touched)\"\n            class=\"validation-text\">利用規約に同意してください</div>\n    </div> -->\n        <app-buttons nextLabel=\"購入完了\" prevLabel=\"戻る\" prevLink=\"/purchase/input\"></app-buttons>\n    </form>\n</div>\n\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { environment } from '../../../../../environments/environment';\nimport { PurchaseService } from '../../../../services/purchase/purchase.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-purchase-confirm',\n    templateUrl: './purchase-confirm.component.html',\n    styleUrls: ['./purchase-confirm.component.scss']\n})\nexport class PurchaseConfirmComponent implements OnInit {\n    public confirmForm: FormGroup;\n    public isLoading: boolean;\n    public disable: boolean;\n    public environment = environment;\n\n    constructor(\n        public purchase: PurchaseService,\n        public user: UserService,\n        private formBuilder: FormBuilder,\n        private router: Router\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = false;\n        this.confirmForm = this.formBuilder.group({\n            notes: [true, [Validators.requiredTrue]]\n        });\n        this.disable = false;\n    }\n\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.confirmForm.invalid) {\n            this.confirmForm.controls.notes.markAsDirty();\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        if (this.purchase.getTotalPrice() > 0) {\n            try {\n                // クレジットカード処理\n                await this.purchase.creditCardPaymentProcess();\n            } catch (err) {\n                this.purchase.data.isCreditCardError = true;\n                this.router.navigate(['/purchase/input']);\n                return;\n            }\n        }\n        try {\n            // if (this.user.isMember() && this.purchase.isReservePoint()) {\n            //     // 会員かつポイント使用\n            //     await this.purchase.pointPaymentProcess();\n            // }\n            // if (this.user.isMember() && this.purchase.isIncentive()) {\n            //     // 会員かつポイント未使用\n            //     await this.purchase.incentiveProcess();\n            // }\n            await this.purchase.purchaseRegistrationProcess();\n            this.router.navigate(['/purchase/complete']);\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n}\n","<div class=\"inner\">\n\n    <p class=\"read\">必須項目を入力し「次へ」ボタンを押してください。</p>\n\n    <form [formGroup]=\"inputForm\" (ngSubmit)=\"onSubmit()\">\n        <div class=\"large-text mb-3\">お名前（ひらがな）\n            <span class=\"text-icon-red small-x-text\">入力必須</span>\n        </div>\n        <div class=\"mb-4\">\n            <dl>\n                <dt>せい</dt>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['familyName'].invalid && inputForm.controls['familyName'].touched\" type=\"text\"\n                        formControlName=\"familyName\" autocomplete=\"family-name\" placeholder=\"(例)しねま\">\n                    <div *ngIf=\"inputForm.controls['familyName'].invalid && inputForm.controls['familyName'].touched\" class=\"mt-2\">\n                        <div *ngIf=\"inputForm.controls['familyName'].errors.required\" class=\"validation-text\">せいが未入力です</div>\n                        <div *ngIf=\"inputForm.controls['familyName'].errors.maxlength\" class=\"validation-text\">せいは{{ inputForm.controls['familyName'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['familyName'].errors.pattern\" class=\"validation-text\">せいは全角ひらがなで入力してください</div>\n                    </div>\n                </dd>\n            </dl>\n            <dl>\n                <dt>めい</dt>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['givenName'].invalid && inputForm.controls['givenName'].touched\" type=\"text\"\n                        formControlName=\"givenName\" autocomplete=\"given-name\" placeholder=\"(例)たろう\">\n                    <div *ngIf=\"inputForm.controls['givenName'].invalid && inputForm.controls['givenName'].touched\" class=\"mt-2\">\n                        <div *ngIf=\"inputForm.controls['givenName'].errors.required\" class=\"validation-text\">めいが未入力です</div>\n                        <div *ngIf=\"inputForm.controls['givenName'].errors.maxlength\" class=\"validation-text\">めいは{{ inputForm.controls['givenName'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['givenName'].errors.pattern\" class=\"validation-text\">めいは全角ひらがなで入力してください</div>\n                    </div>\n                </dd>\n            </dl>\n        </div>\n        <div class=\"large-text mb-3\">メールアドレス\n            <span class=\"text-icon-red small-x-text\">入力必須</span>\n        </div>\n        <div class=\"mb-4\">\n            <dl>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['email'].invalid && inputForm.controls['email'].touched\" type=\"email\" formControlName=\"email\"\n                        autocomplete=\"email\" placeholder=\"(例)cinema@cinemasunshine.co.jp\">\n                    <div *ngIf=\"inputForm.controls['email'].invalid && inputForm.controls['email'].touched\" class=\"mt-2\">\n                        <div *ngIf=\"inputForm.controls['email'].errors.required\" class=\"validation-text\">メールアドレスが未入力です</div>\n                        <div *ngIf=\"inputForm.controls['email'].errors.maxlength\" class=\"validation-text\">メールアドレスは{{ inputForm.controls['email'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['email'].errors.email\" class=\"validation-text\">メールアドレスが正しくありません</div>\n                    </div>\n                </dd>\n            </dl>\n            <dl>\n                <dt>メールアドレス確認</dt>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['emailConfirm'].invalid && inputForm.controls['emailConfirm'].touched\" type=\"email\"\n                        formControlName=\"emailConfirm\" placeholder=\"(例)cinema@cinemasunshine.co.jp\">\n                    <div *ngIf=\"inputForm.controls['emailConfirm'].invalid && inputForm.controls['emailConfirm'].touched\" class=\"mt-2\">\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.required\" class=\"validation-text\">メールアドレス確認が未入力です</div>\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.maxlength\" class=\"validation-text\">メールアドレス確認は{{ inputForm.controls['emailConfirm'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.email\" class=\"validation-text\">メールアドレス確認が正しくありません</div>\n                        <div *ngIf=\"inputForm.controls['emailConfirm'].errors.equals\" class=\"validation-text\">メールアドレス確認が一致しません</div>\n                    </div>\n                    <p class=\"small-x-text mt-2\">\n                        <strong>【ドメイン指定受信をご利用の場合について】</strong>\n                        <br>※ 携帯電話のドメイン指定受信をされている場合、「@ticket-cinemasunshine.com」を追加設定してください。\n                        <br>※ au(@ezweb.ne.jp)をご利用の場合、上記に加え「なりすまし規制回避リスト」にも「@ticket-cinemasunshine.com」の追加設定をしてください。</p>\n                </dd>\n            </dl>\n        </div>\n\n        <div class=\"large-text mb-3\">電話番号\n            <span class=\"text-icon-red small-x-text\">入力必須</span>\n        </div>\n        <div class=\"mb-4\">\n            <dl>\n                <dd>\n                    <input [class.validation]=\"inputForm.controls['telephone'].invalid && inputForm.controls['telephone'].touched\" type=\"tel\"\n                        formControlName=\"telephone\" autocomplete=\"tel\" placeholder=\"(例)08000000000\">\n                    <div *ngIf=\"inputForm.controls['telephone'].invalid && inputForm.controls['telephone'].touched\" class=\"mt-2\">\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.required\" class=\"validation-text\">電話番号が未入力です</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.minlength\" class=\"validation-text\">電話番号は{{ inputForm.controls['telephone'].errors.minlength.requiredLength }}文字以上で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.maxlength\" class=\"validation-text\">電話番号は{{ inputForm.controls['telephone'].errors.maxlength.requiredLength }}文字以下で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.pattern\" class=\"validation-text\">電話番号は数字で入力してください</div>\n                        <div *ngIf=\"inputForm.controls['telephone'].errors.telephone\" class=\"validation-text\">電話番号が正しくありません</div>\n                    </div>\n                    <p class=\"small-x-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                </dd>\n            </dl>\n        </div>\n\n        <div *ngIf=\"purchase.getTotalPrice() > 0\">\n            <div class=\"large-text mb-3\">\n                お支払情報\n                <span class=\"text-icon-red small-x-text\">入力必須</span>\n            </div>\n\n            <div class=\"image credit-image mb-3\">\n                <img src=\"/assets/images/common/credit_card.png\" alt=\"\">\n            </div>\n\n            <p class=\"mb-2\">クレジットカード決済の必要事項を入力ください。</p>\n            <div *ngIf=\"creditCardType === 'input'\" class=\"credit-input mb-3\">\n                <ul class=\"mb-4 credit\">\n                    <li class=\"price\">\n                        <dl>\n                            <dt class=\"mb-2\">ご利用金額</dt>\n                            <dd class=\"large-text mb-3 red-text\">\n                                <strong>￥{{ purchase.getTotalPrice() }}</strong>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>カード番号</dt>\n                            <dd>\n                                <input [class.validation]=\"inputForm.controls['cardNumber'].invalid && inputForm.controls['cardNumber'].touched\" type=\"text\"\n                                    pattern=\"\\d*\" formControlName=\"cardNumber\" id=\"cardNumber\" autocomplete=\"off\" placeholder=\"(例)1234567890\"\n                                    maxlength=\"16\">\n                                <div *ngIf=\"inputForm.controls['cardNumber'].invalid && inputForm.controls['cardNumber'].touched\" class=\"mt-2\">\n                                    <div *ngIf=\"inputForm.controls['cardNumber'].errors.required\" class=\"validation-text\">カード番号が未入力です</div>\n                                    <div *ngIf=\"inputForm.controls['cardNumber'].errors.pattern\" class=\"validation-text\">カード番号は数字で入力してください</div>\n                                </div>\n                                <p class=\"small-x-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt class=\"mb-2\">有効期限</dt>\n                            <dd>\n\n                                <select formControlName=\"cardExpirationMonth\" id=\"cardExpirationMonth\">\n\n                                    <option *ngFor=\"let month of cardExpiration.month\" [value]=\"month\">{{ month }}</option>\n\n                                </select> 月\n                                <select formControlName=\"cardExpirationYear\" id=\"cardExpirationYear\">\n\n                                    <option *ngFor=\"let year of cardExpiration.year\" [value]=\"year\">{{ year }}</option>\n\n                                </select> 年\n\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>セキュリティーコード</dt>\n                            <dd>\n                                <input [class.validation]=\"inputForm.controls['securityCode'].invalid && inputForm.controls['securityCode'].touched\" type=\"text\"\n                                    pattern=\"\\d*\" formControlName=\"securityCode\" autocomplete=\"off\" placeholder=\"(例)123\" maxlength=\"4\">\n                                <div *ngIf=\"inputForm.controls['securityCode'].invalid && inputForm.controls['securityCode'].touched\" class=\"mt-2\">\n                                    <div *ngIf=\"inputForm.controls['securityCode'].errors.required\" class=\"validation-text\">セキュリティーコードが未入力です</div>\n                                </div>\n                                <p>\n                                    <a (click)=\"securityCodeModal = true\">セキュリティーコードについて</a>\n                                </p>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt>カード名義人</dt>\n                            <dd>\n                                <input [class.validation]=\"inputForm.controls['holderName'].invalid && inputForm.controls['holderName'].touched\" type=\"text\"\n                                    formControlName=\"holderName\" autocomplete=\"off\" placeholder=\"(例)TARO CINEMA\">\n                                <div *ngIf=\"inputForm.controls['holderName'].invalid && inputForm.controls['holderName'].touched\" class=\"mt-2\">\n                                    <div *ngIf=\"inputForm.controls['holderName'].errors.required\" class=\"validation-text\">カード名義人が未入力です</div>\n                                </div>\n                            </dd>\n                        </dl>\n                    </li>\n                </ul>\n\n                <!-- <div *ngIf=\"user.isMember()\" class=\"text-center mb-3\">\n                    <input type=\"checkbox\" formControlName=\"saveCreditCard\" id=\"saveCreditCard\">\n                    <label for=\"saveCreditCard\">\n                        <strong>クレジットカード情報を保存する</strong>\n                    </label>\n                </div> -->\n\n                <button *ngIf=\"user.isRegisteredCreditCards()\" class=\"btn btn-success btn-block small-text py-3 rounded-0\" type=\"button\"\n                    (click)=\"changeRegisteredCreditCard()\">登録済みクレジットカードを使用する</button>\n            </div>\n\n            <div *ngIf=\"creditCardType === 'registered'\" class=\"credit-registered mb-3\">\n                <ul class=\"mb-4 credit\">\n                    <li class=\"price\">\n                        <dl>\n                            <dt class=\"mb-2\">ご利用金額</dt>\n                            <dd class=\"large-text mb-3 red-text\">\n                                <strong>￥{{ purchase.getTotalPrice() }}</strong>\n                            </dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt class=\"mb-2\">カード番号</dt>\n                            <dd>{{ user.data.creditCards[0]?.cardNo }}</dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt class=\"mb-2\">有効期限</dt>\n                            <dd>{{ user.data.creditCards[0]?.expire }}</dd>\n                        </dl>\n                    </li>\n                    <li>\n                        <dl>\n                            <dt class=\"mb-2\">カード名義人</dt>\n                            <dd>{{ user.data.creditCards[0]?.holderName }}</dd>\n                        </dl>\n                    </li>\n                </ul>\n                <input type=\"hidden\" formControlName=\"cardNumber\">\n                <input type=\"hidden\" formControlName=\"cardExpirationMonth\">\n                <input type=\"hidden\" formControlName=\"cardExpirationYear\">\n                <input type=\"hidden\" formControlName=\"securityCode\">\n                <input type=\"hidden\" formControlName=\"holderName\">\n                <button (click)=\"changeInputCreditCard()\" class=\"btn btn-secondary btn-block small-text py-3 rounded-0\" type=\"button\">クレジットカードを変更する</button>\n            </div>\n            <div>\n                <div class=\"mb-1\">\n                    <strong>ご注意事項</strong>\n                </div>\n                <p class=\"small-x-text\">\n                    購入完了画面まで進まずにお取引を中断された場合でもご利用のカードによっては下記の事象が起こることがございますので、悪しからずご了承ください。\n                    <br>\n                    <strong>一部のクレジットカード会社からはカード利用速報のメールが配信される。</strong>\n                    <br> ⇒カード利用速報メールが配信されましても購入完了していなければ引き落とされることはありませんので、カード会社の月々の確定利用明細などをご確認ください。\n                    <br>\n                    <strong>プリペイド形式（デビットカード、LINEPayカード等）で一時的に残高が減る。</strong>\n                    <br> ⇒購入完了していない場合は後ほど残高が戻ります。残高が戻るまでの期間は各カード会社様によって異なります。\n                </p>\n            </div>\n        </div>\n\n        <app-buttons nextLabel=\"次へ\" prevLabel=\"戻る\" prevLink=\"/purchase/ticket\"></app-buttons>\n    </form>\n</div>\n\n<app-loading [show]=\"isLoading\"></app-loading>\n\n<app-modal class=\"security-code-modal\" [open]=\"securityCodeModal\" [layout]=\"false\" (close)=\"securityCodeModal = false\">\n    <div inner class=\"box radius bg-white\">\n        <div class=\"modal-title mb-xx-small text-center\">セキュリティーコードについて</div>\n        <p class=\"mb-3 small-x-text text-center\">※カード会社により表示箇所および名称が異なります。</p>\n        <div class=\"box radius bg-light-gray\">\n            <dl class=\"mb-3\">\n                <dt>\n                    <strong>VISA / MASTER / DINERS / JCBの場合</strong>\n                </dt>\n                <dd>【カード裏面】セキュリティーコード(末尾3桁)</dd>\n                <dd>\n                    <img src=\"/assets/images/common/credit_back.svg\" alt=\"\">\n                </dd>\n            </dl>\n            <dl>\n                <dt>\n                    <strong>AMEXの場合</strong>\n                </dt>\n                <dd>【カード表面】セキュリティーコード(4桁)</dd>\n                <dd>\n                    <img src=\"/assets/images/common/credit_front.svg\" alt=\"\">\n                </dd>\n            </dl>\n        </div>\n    </div>\n</app-modal>\n\n<app-modal [open]=\"creditCardAlertModal\" [layout]=\"true\" (close)=\"creditCardAlertModal = false\">\n    <div class=\"modal-title large-text mb-3 text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>クレジットカード情報をご確認ください</p>\n</app-modal>\n\n<app-modal [open]=\"alertModal\" [layout]=\"true\" (close)=\"alertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>{{ errorMessage }}</p>\n</app-modal>","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as libphonenumber from 'libphonenumber-js';\nimport * as moment from 'moment';\nimport { LibphonenumberFormatPipe } from '../../../../pipes/libphonenumber-format/libphonenumber-format.pipe';\nimport { CallNativeService, FidoAction } from '../../../../services/call-native/call-native.service';\nimport { IGmoTokenObject, PurchaseService } from '../../../../services/purchase/purchase.service';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\nimport { UserService } from '../../../../services/user/user.service';\nimport { UtilService } from '../../../../services/util/util.service';\n\n/**\n * クレジットカードタイプ\n */\nenum CreditCardType {\n    Input = 'input',\n    Registered = 'registered'\n}\n\n@Component({\n    selector: 'app-purchase-input',\n    templateUrl: './purchase-input.component.html',\n    styleUrls: ['./purchase-input.component.scss']\n})\nexport class PurchaseInputComponent implements OnInit {\n    public cardExpiration: {\n        year: string[];\n        month: string[];\n    };\n    public inputForm: FormGroup;\n    public isLoading: boolean;\n    public securityCodeModal: boolean;\n    public creditCardAlertModal: boolean;\n    public disable: boolean;\n    public creditCardType: CreditCardType;\n    public alertModal: boolean;\n    public errorMessage: string;\n\n    constructor(\n        public purchase: PurchaseService,\n        public user: UserService,\n        private elementRef: ElementRef,\n        private formBuilder: FormBuilder,\n        private router: Router,\n        private sasaki: SasakiService,\n        private utill: UtilService,\n        private native: CallNativeService\n\n    ) { }\n\n    public async ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = false;\n        this.cardExpiration = {\n            year: [],\n            month: []\n        };\n        this.inputForm = this.createForm();\n        this.disable = false;\n        this.creditCardType = CreditCardType.Input;\n        this.creditCardAlertModal = this.purchase.data.isCreditCardError;\n        this.alertModal = false;\n        this.errorMessage = '';\n        if (this.purchase.data.isCreditCardError) {\n            // クレジットカードエラー\n            this.purchase.data.isCreditCardError = false;\n            this.inputForm.controls.cardNumber.markAsTouched();\n            this.inputForm.controls.cardExpirationMonth.markAsTouched();\n            this.inputForm.controls.cardExpirationYear.markAsTouched();\n            this.inputForm.controls.securityCode.markAsTouched();\n            this.inputForm.controls.holderName.markAsTouched();\n            this.validationScroll();\n        }\n        this.securityCodeModal = false;\n        try {\n            if (this.user.isMember()) {\n                // 会員\n                if (this.user.data.contact === undefined) {\n                    throw new Error('contact is undefined');\n                }\n                const contacts = this.user.data.contact;\n\n                this.inputForm.controls.familyName.setValue(this.utill.convertToHira(contacts.familyName));\n                this.inputForm.controls.givenName.setValue(this.utill.convertToHira(contacts.givenName));\n                this.inputForm.controls.email.setValue(contacts.email);\n                this.inputForm.controls.emailConfirm.setValue(contacts.email);\n                this.inputForm.controls.telephone.setValue(contacts.telephone.replace(/-/g, ''));\n\n            }\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n\n    }\n\n    /**\n     * バリデーションスクロール\n     * @method validationScroll\n     */\n    private validationScroll() {\n        setTimeout(() => {\n            const element: HTMLElement = this.elementRef.nativeElement;\n            const validation = <HTMLElement>element.querySelector('.validation');\n            if (validation === null) {\n                return;\n            }\n            const rect = validation.getBoundingClientRect();\n            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n            const top = rect.top + scrollTop - 50;\n            window.scrollTo(undefined, top);\n        }, 0);\n    }\n\n    /**\n     * 次へ\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n\n        if (this.inputForm.invalid) {\n            // フォームのステータス変更\n            this.inputForm.controls.familyName.markAsTouched();\n            this.inputForm.controls.givenName.markAsTouched();\n            this.inputForm.controls.email.markAsTouched();\n            this.inputForm.controls.emailConfirm.markAsTouched();\n            this.inputForm.controls.telephone.markAsTouched();\n            if (this.purchase.getTotalPrice() > 0) {\n                this.inputForm.controls.cardNumber.markAsTouched();\n                this.inputForm.controls.cardExpirationMonth.markAsTouched();\n                this.inputForm.controls.cardExpirationYear.markAsTouched();\n                this.inputForm.controls.securityCode.markAsTouched();\n                this.inputForm.controls.holderName.markAsTouched();\n            }\n            this.validationScroll();\n\n            return;\n        }\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            if (this.purchase.data.transaction === undefined) {\n                throw new Error('status is different');\n            }\n            if (this.purchase.getTotalPrice() > 0) {\n                try {\n                    if (this.creditCardType === CreditCardType.Input) {\n                        this.purchase.data.gmoTokenObject = await this.getGmoObject();\n                        this.purchase.data.paymentCreditCard = {\n                            token: (<IGmoTokenObject>this.purchase.data.gmoTokenObject).token\n                        };\n                    } else {\n                        if (this.user.data.creditCards === undefined) {\n                            throw new Error('creditCards is undefined');\n                        }\n                        this.purchase.data.paymentCreditCard = {\n                            memberId: 'me',\n                            cardSeq: Number(this.user.data.creditCards[0].cardSeq)\n                        };\n                    }\n                } catch (err) {\n                    console.error(err);\n                    // クレジットカード処理失敗\n                    this.isLoading = false;\n                    this.creditCardAlertModal = true;\n                    if (this.creditCardType === CreditCardType.Input) {\n                        this.inputForm.controls.cardNumber.setValue('');\n                        this.inputForm.controls.securityCode.setValue('');\n                        this.inputForm.controls.holderName.setValue('');\n                    }\n                    this.disable = false;\n\n                    return;\n                }\n                if (this.user.isMember()\n                    && this.inputForm.controls.saveCreditCard.value\n                    && this.purchase.data.gmoTokenObject !== undefined) {\n                    // 会員 クレジットカード情報保存\n                    await this.sasaki.getServices();\n                    const gmoTokenObject = await this.getGmoObject();\n                    const addCreditCardArgs = {\n                        personId: 'me',\n                        creditCard: {\n                            token: gmoTokenObject.token\n                        }\n                    };\n                    await this.sasaki.person.addCreditCard(addCreditCardArgs);\n                }\n            }\n\n            // 入力情報を登録\n            const contact = {\n                familyName: this.inputForm.controls.familyName.value,\n                givenName: this.inputForm.controls.givenName.value,\n                email: this.inputForm.controls.email.value,\n                telephone: this.inputForm.controls.telephone.value\n            };\n            await this.purchase.customerContactRegistrationProcess(contact);\n            this.router.navigate(['/purchase/confirm']);\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    /**\n     * GMOトークン取得\n     * @method getGmoToken\n     */\n    private async getGmoObject(): Promise<IGmoTokenObject> {\n        const sendParam = {\n            cardno: this.inputForm.controls.cardNumber.value,\n            expire: this.inputForm.controls.cardExpirationYear.value + this.inputForm.controls.cardExpirationMonth.value,\n            securitycode: this.inputForm.controls.securityCode.value,\n            holdername: this.inputForm.controls.holderName.value\n        };\n        // console.log(sendParam);\n        return new Promise<IGmoTokenObject>((resolve, reject) => {\n            if (this.purchase.data.movieTheaterOrganization === undefined) {\n                return reject(new Error('status is different'));\n            }\n            (<any>window).someCallbackFunction = function someCallbackFunction(response: any) {\n                if (response.resultCode === '000') {\n                    resolve(response.tokenObject);\n                } else {\n                    reject(new Error(response.resultCode));\n                }\n            };\n            const Multipayment = (<any>window).Multipayment;\n            Multipayment.init(this.purchase.data.movieTheaterOrganization.gmoInfo.shopId);\n            Multipayment.getToken(sendParam, (<any>window).someCallbackFunction);\n        });\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        const payment = this.purchase.getTotalPrice();\n        const NAME_MAX_LENGTH = 12;\n        const MAIL_MAX_LENGTH = 50;\n        const TEL_MAX_LENGTH = 11;\n        const TEL_MIN_LENGTH = 9;\n        const customerContact = {\n            familyName: {\n                value: '',\n                validators: [\n                    Validators.required,\n                    Validators.maxLength(NAME_MAX_LENGTH),\n                    Validators.pattern(/^[ぁ-ゞー]+$/)\n                ]\n            },\n            givenName: {\n                value: '',\n                validators: [\n                    Validators.required,\n                    Validators.maxLength(NAME_MAX_LENGTH),\n                    Validators.pattern(/^[ぁ-ゞー]+$/)\n                ]\n            },\n            email: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(MAIL_MAX_LENGTH),\n                    Validators.email\n                ]\n            },\n            emailConfirm: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(MAIL_MAX_LENGTH),\n                    Validators.email,\n                    (control: AbstractControl): ValidationErrors | null => {\n                        const field = control.root.get('email');\n                        if (field !== null) {\n                            if (control.value !== field.value) {\n                                return { equals: true };\n                            }\n                        }\n\n                        return null;\n                    }\n                ]\n            },\n            telephone: {\n                value: '', validators: [\n                    Validators.required,\n                    Validators.maxLength(TEL_MAX_LENGTH),\n                    Validators.minLength(TEL_MIN_LENGTH),\n                    Validators.pattern(/^[0-9]+$/),\n                    (control: AbstractControl): ValidationErrors | null => {\n                        const field = control.root.get('telephone');\n                        if (field !== null) {\n                            const parsedNumber = libphonenumber.parse(field.value, 'JP');\n                            if (parsedNumber.phone === undefined) {\n                                return { telephone: true };\n                            }\n                            const isValid = libphonenumber.isValidNumber(parsedNumber);\n                            if (!isValid) {\n                                return { telephone: true };\n                            }\n                        }\n\n                        return null;\n                    }\n                ]\n            },\n            cardNumber: { value: '', validators: [Validators.required, Validators.pattern(/^[0-9]+$/)] },\n            cardExpirationMonth: { value: '01', validators: [Validators.required] },\n            cardExpirationYear: { value: moment().format('YYYY'), validators: [Validators.required] },\n            securityCode: { value: '', validators: [Validators.required] },\n            holderName: { value: '', validators: [Validators.required] }\n        };\n\n        if (this.purchase.data.customerContact !== undefined) {\n            // 購入者情報入力済み\n            customerContact.familyName.value = this.purchase.data.customerContact.familyName;\n            customerContact.givenName.value = this.purchase.data.customerContact.givenName;\n            customerContact.email.value = this.purchase.data.customerContact.email;\n            customerContact.emailConfirm.value = this.purchase.data.customerContact.email;\n            customerContact.telephone.value =\n                new LibphonenumberFormatPipe().transform(this.purchase.data.customerContact.telephone);\n        }\n        if (payment > 0) {\n            // 決済あり\n            for (let i = 0; i < 12; i++) {\n                const DIGITS = -2;\n                this.cardExpiration.month.push(`0${String(i + 1)}`.slice(DIGITS));\n            }\n            for (let i = 0; i < 10; i++) {\n                this.cardExpiration.year.push(moment().add(i, 'year').format('YYYY'));\n            }\n\n            if (this.user.isMember()) {\n                // 会員\n                return this.formBuilder.group({\n                    familyName: [customerContact.familyName.value, customerContact.familyName.validators],\n                    givenName: [customerContact.givenName.value, customerContact.givenName.validators],\n                    email: [customerContact.email.value, customerContact.email.validators],\n                    emailConfirm: [customerContact.emailConfirm.value, customerContact.emailConfirm.validators],\n                    telephone: [customerContact.telephone.value, customerContact.telephone.validators],\n                    cardNumber: [customerContact.cardNumber.value, customerContact.cardNumber.validators],\n                    cardExpirationMonth: [customerContact.cardExpirationMonth.value, customerContact.cardExpirationMonth.validators],\n                    cardExpirationYear: [customerContact.cardExpirationYear.value, customerContact.cardExpirationYear.validators],\n                    securityCode: [customerContact.securityCode.value, customerContact.securityCode.validators],\n                    holderName: [customerContact.holderName.value, customerContact.holderName.validators],\n                    saveCreditCard: [false]\n                });\n            } else {\n                // 非会員\n                return this.formBuilder.group({\n                    familyName: [customerContact.familyName.value, customerContact.familyName.validators],\n                    givenName: [customerContact.givenName.value, customerContact.givenName.validators],\n                    email: [customerContact.email.value, customerContact.email.validators],\n                    emailConfirm: [customerContact.emailConfirm.value, customerContact.emailConfirm.validators],\n                    telephone: [customerContact.telephone.value, customerContact.telephone.validators],\n                    cardNumber: [customerContact.cardNumber.value, customerContact.cardNumber.validators],\n                    cardExpirationMonth: [customerContact.cardExpirationMonth.value, customerContact.cardExpirationMonth.validators],\n                    cardExpirationYear: [customerContact.cardExpirationYear.value, customerContact.cardExpirationYear.validators],\n                    securityCode: [customerContact.securityCode.value, customerContact.securityCode.validators],\n                    holderName: [customerContact.holderName.value, customerContact.holderName.validators]\n                });\n            }\n\n        } else {\n            // 決済なし\n            return this.formBuilder.group({\n                familyName: [customerContact.familyName.value, customerContact.familyName.validators],\n                givenName: [customerContact.givenName.value, customerContact.givenName.validators],\n                email: [customerContact.email.value, customerContact.email.validators],\n                emailConfirm: [customerContact.emailConfirm.value, customerContact.emailConfirm.validators],\n                telephone: [customerContact.telephone.value, customerContact.telephone.validators]\n            });\n        }\n    }\n\n    /**\n     * クレジットカード情報入力へ変更\n     */\n    public changeInputCreditCard() {\n        this.creditCardType = CreditCardType.Input;\n        this.inputForm.controls.cardNumber.setValue('');\n        this.inputForm.controls.cardExpirationMonth.setValue('01');\n        this.inputForm.controls.cardExpirationYear.setValue(moment().format('YYYY'));\n        this.inputForm.controls.securityCode.setValue('');\n        this.inputForm.controls.holderName.setValue('');\n    }\n\n    /**\n     * 登録済みクレジットカードへ変更\n     */\n    public async changeRegisteredCreditCard() {\n        this.isLoading = true;\n        try {\n            const device = await this.native.device();\n            if (device === null) {\n                throw new Error('device is null');\n            }\n            const authenticationResult = await this.native.fido({\n                action: FidoAction.Authentication,\n                user: `fido-frontend-${device.uuid}`\n            });\n            if (!authenticationResult.isSuccess) {\n                throw Error(authenticationResult.error);\n            }\n            this.creditCardType = CreditCardType.Registered;\n            this.inputForm.controls.cardNumber.setValue('4111111111111111');\n            this.inputForm.controls.cardExpirationMonth.setValue('01');\n            this.inputForm.controls.cardExpirationYear.setValue(moment().format('YYYY'));\n            this.inputForm.controls.securityCode.setValue('123');\n            this.inputForm.controls.holderName.setValue('TEST');\n        } catch (err) {\n            this.errorMessage = err.message;\n            this.alertModal = true;\n        }\n        this.isLoading = false;\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div *ngIf=\"!isLoading && !maintenanceInfo.isMaintenance\">\n        <div class=\"inner\">\n            <p class=\"read mb-4 small-text\">鑑賞劇場、鑑賞作品、鑑賞日時を選択してください。</p>\n            <ul class=\"conditions\">\n                <li class=\"mb-3 position-relative\">\n                    <div class=\"control-label mb-1 small-x-text text-secondary\">鑑賞劇場</div>\n                    <select class=\"w-100\" name=\"theater\" [(ngModel)]=\"conditions.theater\" (change)=\"changeConditions()\">\n                        <option value=\"\">選択してください</option>\n                        <option *ngFor=\"let theater of theaters\" value=\"{{ theater.location.branchCode }}\">{{ theater.name.ja }}</option>\n                    </select>\n                    <div class=\"btn btn-secondary btn-sm rounded-0 update-button small-text\" (click)=\"update()\">\n                        <app-icon iconName=\"update-white\" width=\"12\" height=\"12\"></app-icon> 更新</div>\n                </li>\n                <li *ngIf=\"conditions.theater !==''\">\n                    <div class=\"control-label mb-1\">\n                        <span class=\"text-secondary small-x-text\">鑑賞日時</span>\n                        <div *ngIf=\"isPreSale\" class=\"preSale small-text text-red\">先行販売\n                            <app-icon iconName=\"arrow-red\" width=\"12\" height=\"12\"></app-icon>\n                        </div>\n                    </div>\n                    <div class=\"dateList\">\n                        <ul class=\"scroll mb-0\">\n                            <li *ngFor=\"let date of dateList\" class=\"text-center text-secondary\" [class.active]=\"conditions.date === date.value\" (click)=\"selectDate(date)\">\n                                <div class=\"inner\">\n                                    <div class=\"month mb-1\">{{ date.display.month }}</div>\n                                    <div class=\"day mb-1\">\n                                        <strong class=\"large-text\">{{ date.display.day }}</strong>\n                                        <span class=\"small-x-text\">({{ date.display.week }})</span>\n                                    </div>\n                                    <div class=\"service-day small-text mb-1\">{{ date.serviceDay }}</div>\n                                    <div *ngIf=\"date.preSale\" class=\"pre-sale small-text\">先行販売</div>\n                                </div>\n                            </li>\n                        </ul>\n                    </div>\n                    <input type=\"hidden\" name=\"date\" [(ngModel)]=\"conditions.date\">\n                </li>\n            </ul>\n        </div>\n        <div class=\"inner\">\n            <p *ngIf=\"conditions.date !== '' && conditions.theater !==''\" class=\"text-center mb-1\">{{ conditions.date | dateFormat:'YYYY年MM月DD日(ddd)' }}</p>\n            <ul *ngIf=\"conditions.theater !==''\" class=\"sort mb-3\">\n                <li [class.active]=\"conditions.sort === purchaseSort.Film\" class=\"small-text text-center\" (click)=\"changeSort(purchaseSort.Film)\">作品順</li>\n                <li [class.active]=\"conditions.sort === purchaseSort.Time\" class=\"small-text text-center\" (click)=\"changeSort(purchaseSort.Time)\">上映時間順</li>\n            </ul>\n\n            <div *ngIf=\"!isLoading && filmOrder.length > 0 && conditions.sort === purchaseSort.Film\">\n                <div *ngFor=\"let filmData of filmOrder\" class=\"film-order mb-1\">\n                    <div class=\"info\">\n                        <p class=\"title mb-1\">{{ filmData.films[0].name.ja }}</p>\n                        <div class=\"date small-x-text text-secondary\">\n                            <app-icon iconName=\"time-gray\" width=\"15\" height=\"15\"></app-icon>\n                            {{ filmData.films[0].workPerformed.duration | duration: 'minutes' }}分\n                        </div>\n                    </div>\n                    <app-purchase-performance-film *ngFor=\"let performance of filmData.films\" [performance]=\"performance\" (select)=\"performanceSelect(performance)\"></app-purchase-performance-film>\n                </div>\n            </div>\n\n            <div *ngIf=\"!isLoading && timeOrder.length > 0 && conditions.sort === purchaseSort.Time\">\n                <app-purchase-performance-time *ngFor=\"let performance of timeOrder\" [performance]=\"performance\" (select)=\"performanceSelect(performance)\"></app-purchase-performance-time>\n            </div>\n\n            <div class=\"no-schedule\" *ngIf=\"!isLoading && filmOrder.length === 0\">\n                <div class=\"mb-1\" *ngIf=\"conditions.theater === ''\">鑑賞劇場が選択されていません。</div>\n                <div class=\"mb-1\" *ngIf=\"conditions.date === '' && conditions.theater !== ''\">鑑賞日時が選択されていません。</div>\n                <div class=\"mb-1\" *ngIf=\"conditions.theater !== '' && conditions.date !== ''\">上映作品がありません。</div>\n            </div>\n        </div>\n    </div>\n    <div *ngIf=\"!isLoading && maintenanceInfo.isMaintenance\" class=\"inner\">\n        <app-maintenance [maintenanceInfo]=\"maintenanceInfo\"></app-maintenance>\n    </div>\n</app-page>\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IMaintenance, MaintenanceService } from '../../../../services/maintenance/maintenance.service';\nimport { PurchaseService } from '../../../../services/purchase/purchase.service';\nimport {\n    IDate, IFilmOrder, IIndividualScreeningEvent, IMovieTheater, ScheduleService\n} from '../../../../services/schedule/schedule.service';\nimport { IPurchaseConditions, PurchaseSort, SelectService } from '../../../../services/select/select.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-purchase-schedule',\n    templateUrl: './purchase-schedule.component.html',\n    styleUrls: ['./purchase-schedule.component.scss']\n})\n/**\n * チケット購入\n * @class PurchaseComponent\n * @implements OnInit\n */\nexport class PurchaseScheduleComponent implements OnInit {\n    public isLoading: boolean;\n    public theaters: IMovieTheater[];\n    public dateList: IDate[];\n    public filmOrder: IFilmOrder[];\n    public timeOrder: IIndividualScreeningEvent[];\n    public conditions: IPurchaseConditions;\n    public error: string;\n    public purchaseSort: typeof PurchaseSort;\n    public isPreSale: boolean;\n    public maintenanceInfo: IMaintenance;\n\n    constructor(\n        private router: Router,\n        private schedule: ScheduleService,\n        private purchase: PurchaseService,\n        private select: SelectService,\n        private user: UserService,\n        private maintenance: MaintenanceService\n    ) {\n        this.purchaseSort = PurchaseSort;\n        this.theaters = [];\n        this.dateList = [];\n        this.filmOrder = [];\n        this.timeOrder = [];\n    }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.isLoading = true;\n        try {\n            this.maintenanceInfo = await this.maintenance.isMaintenance();\n            // console.log(this.maintenanceInfo);\n            if (this.maintenanceInfo.isMaintenance) {\n                this.isLoading = false;\n\n                return;\n            }\n            this.conditions = this.select.data.purchase;\n            // console.log('conditions', this.conditions);\n            if (this.user.isMember()) {\n                // 会員\n                this.conditions.theater = this.user.getTheaterCode(0);\n            }\n            await this.schedule.getSchedule();\n            this.theaters = this.schedule.getTheater();\n            await this.changeConditions();\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/purchase' }]);\n            console.log('PurchaseComponent.ngOnInit', err);\n        }\n\n        this.isLoading = false;\n    }\n\n    /**\n     * 条件変更\n     * @method changeConditions\n     */\n    public async changeConditions() {\n        this.isLoading = true;\n        this.select.data.purchase = this.conditions;\n        this.select.save();\n        this.filmOrder = [];\n        this.timeOrder = [];\n        try {\n            await this.schedule.getSchedule();\n            this.theaters = this.schedule.getTheater();\n            const selectTheater = this.theaters.find((theater) => {\n                return (theater.location.branchCode === this.conditions.theater);\n            });\n            if (selectTheater === undefined) {\n                this.select.data.purchase.theater = '';\n                this.select.data.purchase.date = '';\n                this.select.save();\n                this.isLoading = false;\n\n                return;\n            }\n            this.dateList = await this.schedule.getDate(selectTheater.location.branchCode);\n            const selectDate = this.dateList.find((date) => {\n                return (date.value === this.conditions.date);\n            });\n            const preSaleList = this.dateList.filter((date) => {\n                return (date.preSale);\n            });\n            this.isPreSale = (preSaleList.length > 0);\n            if (selectDate === undefined) {\n                this.select.data.purchase.date = '';\n                this.select.save();\n                this.isLoading = false;\n\n                return;\n            }\n\n            const getScreeningEventsResult = this.schedule.getScreeningEvents({\n                theater: this.conditions.theater,\n                date: this.conditions.date,\n                sort: this.conditions.sort\n            });\n            this.timeOrder = getScreeningEventsResult.time;\n            this.filmOrder = getScreeningEventsResult.film;\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/purchase' }]);\n            console.log(err);\n        }\n        this.isLoading = false;\n    }\n\n    /**\n     * ソート変更\n     * @method changeSort\n     */\n    public async changeSort(sort: PurchaseSort) {\n        this.select.data.purchase.sort = sort;\n        this.select.save();\n        await this.changeConditions();\n    }\n\n    /**\n     * 日付選択\n     * @method selectDate\n     */\n    public async selectDate(date: IDate) {\n        this.conditions.date = date.value;\n        await this.changeConditions();\n    }\n\n    /**\n     * スケジュール更新\n     */\n    public async update() {\n        this.schedule.reset();\n        await this.changeConditions();\n    }\n\n    /**\n     * パフォーマンス選択\n     * @method performanceSelect\n     */\n    public async performanceSelect(performance: IIndividualScreeningEvent) {\n        console.log(performance);\n        this.purchase.reset();\n        this.purchase.data.individualScreeningEvent = performance;\n        this.purchase.save();\n        this.router.navigate(['/purchase/transaction']);\n    }\n\n}\n","<div class=\"inner\">\n    <p class=\"read\">ご希望の座席を選択して「次へ」ボタンを押してください。\n        <br>選択できる座席数は最大\n        <span class=\"seat-limit-text\">{{ purchase.data.individualScreeningEvent?.coaInfo.availableNum }}</span>席までとなります。\n        <br>\n        <span class=\"sp-text\">画面をタッチすると画面がズームしますので座席を選択してください。\n            <br>\n        </span>\n        <span class=\"small-x-text\">※車椅子席をご希望の方は、お手数ですが通常のお席をご購入の上、対象の劇場にご連絡ください。</span>\n    </p>\n    <div class=\"mb-3\">\n        <app-screen [inputData]=\"screenData\" [test]=\"false\" (select)=\"seatSelect($event)\" (alert)=\"seatSelectionAlert()\" (load)=\"loadScreen($event)\">\n            <app-seat-info type=\"{{ purchase.data.individualScreeningEvent?.superEvent.coaInfo.kbnJoueihousiki?.kubunCode }}\"></app-seat-info>\n        </app-screen>\n    </div>\n\n    <div class=\"border border-white p-3 mb-4\">\n        <p class=\"mb-2\">現在、選択されているチケットは下記のとおりです。</p>\n        <dl class=\"mb-0\">\n            <dt class=\"mb-2\">劇場 / スクリーン</dt>\n            <dd class=\"mb-3\">\n                {{ purchase.getTheaterName() }} / {{ purchase.getScreenName() }}\n            </dd>\n            <dt class=\"mb-2\">鑑賞日時</dt>\n            <dd class=\"mb-3\">\n                {{ purchase.getAppreciationDate() }} {{ purchase.getStartDate() }} - {{ purchase.getEndDate() }}\n            </dd>\n            <dt class=\"mb-2\">作品名</dt>\n            <dd class=\"mb-0\">{{ purchase.getTitle() }}</dd>\n        </dl>\n    </div>\n\n    <!-- <div class=\"section-ttl\">利用規約</div>\n    <p class=\"mb-2\">利用規約に同意した上で「次へ」ボタンを押してください。</p> -->\n\n    <form [formGroup]=\"seatForm\" (ngSubmit)=\"onSubmit()\">\n        <!-- <div class=\"mb-x-large text-center\">\n            <input type=\"checkbox\" formControlName=\"terms\" id=\"terms\">\n            <label for=\"terms\" class=\"agree-label\">\n                <strong>利用規約に同意する</strong>\n            </label>\n            <div *ngIf=\"seatForm.controls['terms'].invalid && (seatForm.controls['terms'].dirty || seatForm.controls['terms'].touched)\"\n                class=\"validation-text\">利用規約に同意してください</div>\n        </div> -->\n\n        <app-buttons nextLabel=\"次へ\" prevLabel=\"戻る\" prevLink=\"/purchase/schedule\"></app-buttons>\n    </form>\n</div>\n<app-modal [open]=\"notSelectSeatModal\" [layout]=\"true\" (close)=\"notSelectSeatModal = false\">\n    <div class=\"modal-title large-text text-center mb-3\">\n        <strong>座席が未選択です</strong>\n    </div>\n    <p class=\"text-center\">ご希望の空席を選択して「次へ」ボタンを押してください。</p>\n</app-modal>\n\n<app-modal [open]=\"upperLimitModal\" [layout]=\"true\" (close)=\"upperLimitModal = false\">\n    <div class=\"modal-title large-text text-center mb-3\">\n        <strong>予約座席数が上限です</strong>\n    </div>\n    <p class=\"text-center\">予約座席数は最大\n        <span class=\"seat-limit-text\">{{ purchase.data.individualScreeningEvent?.coaInfo.availableNum }}</span>席までとなります。</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { environment } from '../../../../../environments/environment';\nimport { IIndividualScreeningEvent, ISalesTicketResult, PurchaseService } from '../../../../services/purchase/purchase.service';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\nimport { MemberType, UserService } from '../../../../services/user/user.service';\nimport { IInputScreenData, ISeat } from '../../../parts/screen/screen.component';\n\n@Component({\n    selector: 'app-purchase-seat',\n    templateUrl: './purchase-seat.component.html',\n    styleUrls: ['./purchase-seat.component.scss']\n})\nexport class PurchaseSeatComponent implements OnInit, AfterViewInit {\n    public isLoading: boolean;\n    public seatForm: FormGroup;\n    public notSelectSeatModal: boolean;\n    public upperLimitModal: boolean;\n    public seats: ISeat[];\n    public disable: boolean;\n    public screenData: IInputScreenData;\n    public environment = environment;\n\n    constructor(\n        public purchase: PurchaseService,\n        private router: Router,\n        private formBuilder: FormBuilder,\n        private sasaki: SasakiService,\n        private user: UserService\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.isLoading = true;\n        this.notSelectSeatModal = false;\n        this.seats = [];\n        this.seatForm = this.formBuilder.group({\n            terms: [true, [Validators.requiredTrue]]\n        });\n        this.disable = false;\n        if (this.purchase.data.individualScreeningEvent === undefined) {\n            console.error('individualScreeningEvent is undefined');\n            this.router.navigate(['/error']);\n\n            return;\n        }\n\n        this.screenData = {\n            theaterCode: this.purchase.data.individualScreeningEvent.coaInfo.theaterCode,\n            dateJouei: this.purchase.data.individualScreeningEvent.coaInfo.dateJouei,\n            titleCode: this.purchase.data.individualScreeningEvent.coaInfo.titleCode,\n            titleBranchNum: this.purchase.data.individualScreeningEvent.coaInfo.titleBranchNum,\n            timeBegin: this.purchase.data.individualScreeningEvent.coaInfo.timeBegin,\n            screenCode: this.purchase.data.individualScreeningEvent.coaInfo.screenCode\n        };\n\n    }\n\n    public async ngAfterViewInit() {\n        if (this.purchase.data.salesTickets.length === 0) {\n            this.purchase.data.salesTickets = await this.fitchSalesTickets();\n        }\n    }\n\n    /**\n     * スクリーン読み込み完了\n     * @method loadScreen\n     * @param {ISeat[]} seats\n     */\n    public loadScreen(seats: ISeat[]) {\n        this.isLoading = false;\n        this.seats = seats;\n    }\n\n    /**\n     * 販売可能チケット情報取得\n     * @method getSalesTickets\n     */\n    public async fitchSalesTickets() {\n        const individualScreeningEvent = <IIndividualScreeningEvent>this.purchase.data.individualScreeningEvent;\n        await this.sasaki.getServices();\n        const salesTicketArgs = {\n            theaterCode: individualScreeningEvent.coaInfo.theaterCode,\n            dateJouei: individualScreeningEvent.coaInfo.dateJouei,\n            titleCode: individualScreeningEvent.coaInfo.titleCode,\n            titleBranchNum: individualScreeningEvent.coaInfo.titleBranchNum,\n            timeBegin: individualScreeningEvent.coaInfo.timeBegin,\n            flgMember: (this.user.isMember()) ? (<any>MemberType.Member) : (<any>MemberType.NotMember)\n        };\n        const salesTickets = await this.sasaki.getSalesTickets(salesTicketArgs);\n        // console.log('salesTickets', salesTicketArgs, salesTickets);\n\n        return salesTickets;\n    }\n\n    /**\n     * 次へ\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.seats.length === 0) {\n            this.notSelectSeatModal = true;\n            return;\n        }\n        if (this.disable) {\n            return;\n        }\n        if (this.seatForm.invalid) {\n            this.seatForm.controls.terms.markAsDirty();\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            if (this.purchase.data.salesTickets.length === 0) {\n                this.purchase.data.salesTickets = await this.fitchSalesTickets();\n            }\n            const offers = this.seats.map((seat) => {\n                const salesTicket = (<ISalesTicketResult[]>this.purchase.data.salesTickets)[0];\n\n                return {\n                    seatSection: seat.section,\n                    seatNumber: seat.code,\n                    ticketInfo: {\n                        ticketCode: salesTicket.ticketCode,\n                        mvtkAppPrice: 0,\n                        ticketCount: 1,\n                        addGlasses: 0,\n                        kbnEisyahousiki: '00',\n                        mvtkNum: '',\n                        mvtkKbnDenshiken: '00',\n                        mvtkKbnMaeuriken: '00',\n                        mvtkKbnKensyu: '00',\n                        mvtkSalesPrice: 0\n                    }\n                };\n            });\n            await this.purchase.seatRegistrationProcess(offers);\n            this.router.navigate(['/purchase/ticket']);\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    /**\n     * 座席選択\n     * @method seatSelect\n     * @param {Iseat[]} seats\n     */\n    public seatSelect(seats: ISeat[]) {\n        this.seats = seats;\n    }\n\n    /**\n     * 座席選択数警告\n     * @method seatSelectionAlert\n     */\n    public seatSelectionAlert() {\n        this.upperLimitModal = true;\n    }\n\n}\n\n","<div class=\"inner\">\n    <p class=\"read\">ご希望の券種を選択して「次へ」ボタンを押してください。</p>\n\n    <!-- <dl *ngIf=\"user.isMember() && purchase.data.pointTickets.length === 0\" class=\"bg-white mb-3 p-3 point\">\n        <dt class=\"mb-2 text-dark\">会員ポイントを利用される方</dt>\n        <dd class=\"mb-0\">\n            <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto\" routerLink=\"/purchase/point\">\n                会員ポイントを利用する\n            </button>\n        </dd>\n    </dl> -->\n\n    <ul class=\"bg-white mb-3 p-3 seats\">\n        <li *ngFor=\"let offer of offers\" class=\"d-grid align-items-center border-bottom py-3\">\n            <div class=\"text-dark\">{{ offer.seatNumber }}</div>\n            <div>\n                <button class=\"small-text btn btn-primary btn-block py-3 rounded-0\" *ngIf=\"!offer.selected\" type=\"button\" (click)=\"ticketSelect(offer)\">\n                    券種を選択してください\n                </button>\n                <button class=\"small-text btn btn-primary btn-block py-3 rounded-0\" *ngIf=\"offer.selected\" type=\"button\" (click)=\"ticketSelect(offer)\">\n                    {{ offer.ticketInfo.ticketName }} ￥{{ offer.ticketInfo.salePrice }}\n                </button>\n            </div>\n        </li>\n    </ul>\n\n    <div class=\"bg-white mb-4 p-3 total\">\n        <div class=\"text-right\">\n            <div class=\"length mb-1 text-dark\">購入枚数\n                <strong class=\"text-danger large-text\">{{ offers.length }}枚</strong>\n            </div>\n            <div class=\"price text-dark\">合計金額\n                <strong class=\"red-text large-text\">\n                    <span>{{ totalPrice }}</span>円</strong>\n            </div>\n        </div>\n        <!-- <div class=\"border-bottom-dot mb-2\"></div>\n        <p *ngIf=\"(purchase.data.individualScreeningEvent?.superEvent.coaInfo.kbnJoueihousiki?.kubunCode === '002')\" class=\"small-x-text mb-1\">\n            ※[４DXをご鑑賞のお客様へ]\n            <br> ４DX®作品は「身長100cm未満の方は入場不可」「身長120cm未満のお子様は保護者同伴」の入場制限がありますので、ご注意くださいませ。\n            <br> また、妊娠されている方、ご高齢の方、心臓・背中・腰・首などに障害のある方、特別な疾病のある方、乗り物酔いしやすい方、体調に不安のある方はご利用になれません。\n            <br> 上映中のホットドリンク・アルコールはご遠慮ください。\n        </p>\n        <p class=\"small-x-text\">※メンバーズカード提示による割引やその他割引券などのご利用はできません。\n            <br>※車椅子席をご希望の方は、お手数ですが通常のお席をご購入の上、対象の劇場にご連絡ください。\n            <br>※ムビチケ券によっては別途追加料金が発生する場合がありますのでご了承ください。\n        </p> -->\n    </div>\n    <form [formGroup]=\"ticketForm\" (ngSubmit)=\"onSubmit()\">\n        <app-buttons nextLabel=\"次へ\" prevLabel=\"戻る\" prevLink=\"/purchase/seat\"></app-buttons>\n    </form>\n</div>\n\n<app-modal [open]=\"ticketsModal\" [layout]=\"false\" (close)=\"ticketsModal = false\" class=\"tickets-modal\">\n    <ul inner class=\"bg-white p-3 text-dark\">\n        <li *ngFor=\"let pointTicket of salesPointTickets\" class=\"d-grid align-items-center border-bottom py-3\" [class.disabled]=\"pointTicket.selected\">\n            <div>\n                <div class=\"mb-1\">\n                    <strong>{{ pointTicket.ticketName }} ￥{{ pointTicket.salePrice }}</strong>\n                </div>\n                <p class=\"small-x-text mb-0\">{{ pointTicket.ticketNote }}</p>\n            </div>\n            <div>\n                <button class=\"small-text btn btn-primary btn-block py-2 rounded-0\" type=\"button\" (click)=\"selectSalseTicket(pointTicket)\">選択</button>\n            </div>\n        </li>\n        <li *ngFor=\"let ticket of salesTickets\" class=\"d-grid align-items-center border-bottom py-3\">\n            <div>\n                <div class=\"mb-1\">\n                    <strong>{{ ticket.ticketName }} ￥{{ ticket.salePrice }}</strong>\n                </div>\n                <p class=\"small-x-text mb-0\">{{ ticket.ticketNote }}</p>\n            </div>\n            <div>\n                <button class=\"small-text btn btn-primary btn-block py-2 rounded-0\" type=\"button\" (click)=\"selectSalseTicket(ticket)\">選択</button>\n            </div>\n        </li>\n    </ul>\n</app-modal>\n\n<app-modal [open]=\"notSelectModal\" [layout]=\"true\" (close)=\"notSelectModal = false\">\n    <div class=\"modal-title large-text text-center mb-3\">\n        <strong>券種が未選択です</strong>\n    </div>\n    <p class=\"text-center\">ご希望の券種を選択して「次へ」ボタンを押してください。</p>\n</app-modal>\n\n<app-modal [open]=\"discountConditionsModal\" [layout]=\"true\" (close)=\"discountConditionsModal = false\">\n    <div class=\"modal-title large-text text-center mb-3\">\n        <strong>割引条件が満たされていません</strong>\n    </div>\n    <p class=\"text-center\">選択した券種の中に、割引券が含まれています。\n        <br> 割引券の適用条件を再度ご確認ください。\n    </p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ISalesTicketResult, PurchaseService } from '../../../../services/purchase/purchase.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n\ninterface Ioffer {\n    price: number;\n    priceCurrency: string;\n    seatNumber: string;\n    seatSection: string;\n    selected: boolean;\n    limitCount: number;\n    limitUnit: string;\n    validation: boolean;\n    ticketInfo: {\n        mvtkNum: string;\n        ticketCode: string;\n        ticketName: string;\n        mvtkAppPrice: number;\n        addGlasses: number;\n        kbnEisyahousiki: string;\n        mvtkKbnDenshiken: string;\n        mvtkKbnMaeuriken: string;\n        mvtkKbnKensyu: string;\n        mvtkSalesPrice: number;\n        addPrice: number,\n        disPrice: number,\n        salePrice: number,\n        seatNum: string;\n        stdPrice: number,\n        ticketCount: number,\n        ticketNameEng: string;\n        ticketNameKana: string;\n        usePoint?: number;\n    };\n}\n\ninterface ISalesPointTicket extends ISalesTicketResult {\n    id: string;\n    selected: boolean;\n}\n\n@Component({\n    selector: 'app-purchase-ticket',\n    templateUrl: './purchase-ticket.component.html',\n    styleUrls: ['./purchase-ticket.component.scss']\n})\nexport class PurchaseTicketComponent implements OnInit {\n    public offers: Ioffer[];\n    public totalPrice: number;\n    public selectOffer: Ioffer;\n    public ticketsModal: boolean;\n    public isLoading: boolean;\n    public discountConditionsModal: boolean;\n    public notSelectModal: boolean;\n    public salesTickets: ISalesTicketResult[];\n    public salesPointTickets: ISalesPointTicket[];\n    public ticketForm: FormGroup;\n    public disable: boolean;\n\n    constructor(\n        public purchase: PurchaseService,\n        public user: UserService,\n        private formBuilder: FormBuilder,\n        private router: Router\n    ) { }\n\n    public ngOnInit() {\n        window.scrollTo(0, 0);\n        this.purchase.load();\n        this.isLoading = false;\n        this.ticketsModal = false;\n        this.discountConditionsModal = false;\n        this.notSelectModal = false;\n        this.ticketForm = this.formBuilder.group({});\n        this.disable = false;\n        try {\n            this.salesTickets = this.createSalseTickets();\n            this.salesPointTickets = this.createSalsePointTickets();\n            this.setOffers();\n            this.totalPrice = this.getTotalPrice();\n            this.upDateSalseTickets();\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    /**\n     * 販売可能チケット生成\n     * @method createSalseTickets\n     */\n    private createSalseTickets() {\n        const results = [];\n        for (const salesTicket of this.purchase.data.salesTickets) {\n            const noGlassesBase = {};\n            const noGlasses = Object.assign(noGlassesBase, salesTicket);\n            noGlasses.addGlasses = 0;\n            results.push(noGlasses);\n            if (salesTicket.addGlasses > 0) {\n                // メガネあり券種作成\n                const glassesBase = {};\n                const glasses = Object.assign(glassesBase, salesTicket);\n                glasses.salePrice = glasses.salePrice + glasses.addGlasses;\n                glasses.ticketName = `${glasses.ticketName}メガネ込み`;\n                results.push(glasses);\n            }\n        }\n\n        return results;\n    }\n\n    /**\n     * ポイントチケット生成\n     * @method createSalsePointTickets\n     */\n    private createSalsePointTickets() {\n        const results = [];\n        let count = 0;\n        for (const pointTicket of this.purchase.data.pointTickets) {\n            const salesTicket = {\n                ticketCode: pointTicket.ticketCode,\n                ticketName: pointTicket.ticketName,\n                ticketNameKana: pointTicket.ticketNameKana,\n                ticketNameEng: pointTicket.ticketNameEng,\n                stdPrice: 0,\n                addPrice: 0,\n                salePrice: 0,\n                limitCount: 1,\n                limitUnit: '001',\n                ticketNote: '',\n                addGlasses: 0,\n                selected: false,\n                id: `${pointTicket.ticketCode}${count}`\n            };\n            const noGlassesBase = {};\n            const noGlasses = Object.assign(noGlassesBase, salesTicket);\n            noGlasses.addGlasses = 0;\n            results.push(noGlasses);\n            if (salesTicket.addGlasses > 0) {\n                // メガネあり券種作成\n                const glassesBase = {};\n                const glasses = Object.assign(glassesBase, salesTicket);\n                glasses.salePrice = glasses.salePrice + glasses.addGlasses;\n                glasses.ticketName = `${glasses.ticketName}メガネ込み`;\n                results.push(glasses);\n            }\n            count++;\n        }\n\n        return results;\n    }\n\n    /**\n     * 券種リスト更新\n     * @method upDateSalseTickets\n     */\n    public upDateSalseTickets() {\n        // ポイント券種\n        for (const ticket of this.salesPointTickets) {\n            ticket.selected = false;\n        }\n        for (const offer of this.offers) {\n            if (offer.ticketInfo.mvtkNum !== ''\n                || offer.ticketInfo.salePrice > 0) {\n                continue;\n            }\n            // 選択済みへ変更\n            const sameTicket = this.salesPointTickets.find((ticket) => {\n                return (offer.ticketInfo.ticketCode === ticket.ticketCode\n                    && !ticket.selected);\n            });\n            if (sameTicket !== undefined) {\n                sameTicket.selected = true;\n            }\n        }\n    }\n\n    /**\n     * 次へ\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        const notSelectOffers = this.offers.filter((offer) => {\n            return (!offer.selected);\n        });\n        if (notSelectOffers.length > 0) {\n            this.notSelectModal = true;\n\n            return;\n        }\n        if (this.ticketValidation()) {\n            window.scrollTo(0, 0);\n            this.discountConditionsModal = true;\n\n            return;\n        }\n        if (this.disable) {\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        if (this.purchase.isExpired()) {\n            this.router.navigate(['expired']);\n\n            return;\n        }\n        try {\n            const offers = this.offers.map((offer) => {\n                return {\n                    seatSection: offer.seatSection,\n                    seatNumber: offer.seatNumber,\n                    ticketInfo: offer.ticketInfo\n                };\n            });\n            await this.purchase.ticketRegistrationProcess(offers);\n            this.router.navigate(['/purchase/input']);\n        } catch (err) {\n            this.router.navigate(['/error']);\n        }\n    }\n\n    /**\n     * オファーを登録\n     * @method setOffers\n     */\n    private setOffers() {\n        if (this.purchase.data.seatReservationAuthorization === undefined\n            && this.purchase.data.tmpSeatReservationAuthorization !== undefined) {\n            this.offers = this.purchase.data.tmpSeatReservationAuthorization.object.offers.map((offer) => {\n                return {\n                    price: offer.price,\n                    priceCurrency: offer.priceCurrency,\n                    seatNumber: offer.seatNumber,\n                    seatSection: offer.seatSection,\n                    mvtkNum: '',\n                    selected: false,\n                    limitCount: 0,\n                    limitUnit: '',\n                    validation: false,\n                    ticketInfo: offer.ticketInfo\n                };\n            });\n        } else if (this.purchase.data.seatReservationAuthorization !== undefined) {\n            this.offers = this.purchase.data.seatReservationAuthorization.object.offers.map((offer) => {\n                if (offer.ticketInfo.mvtkNum === '') {\n                    let ticket = this.salesTickets.find((salseTicket) => {\n                        return (offer.ticketInfo.ticketCode === salseTicket.ticketCode\n                            && offer.ticketInfo.addGlasses === salseTicket.addGlasses);\n                    });\n\n                    if (ticket === undefined) {\n                        // ポイント券種\n                        ticket = <ISalesTicketResult>{\n                            limitCount: 1,\n                            limitUnit: '001'\n                        };\n                    }\n\n                    return {\n                        price: offer.price,\n                        priceCurrency: offer.priceCurrency,\n                        seatNumber: offer.seatNumber,\n                        seatSection: offer.seatSection,\n                        mvtkNum: offer.ticketInfo.mvtkNum,\n                        selected: true,\n                        limitCount: ticket.limitCount,\n                        limitUnit: ticket.limitUnit,\n                        validation: false,\n                        ticketInfo: offer.ticketInfo\n                    };\n                } else {\n                    return {\n                        price: offer.price,\n                        priceCurrency: offer.priceCurrency,\n                        seatNumber: offer.seatNumber,\n                        seatSection: offer.seatSection,\n                        mvtkNum: offer.ticketInfo.mvtkNum,\n                        selected: true,\n                        limitCount: 1,\n                        limitUnit: '001',\n                        validation: false,\n                        ticketInfo: offer.ticketInfo\n                    };\n                }\n            });\n        }\n    }\n\n    /**\n     * 制限単位、人数制限判定\n     * @method ticketValidation\n     */\n    public ticketValidation(): boolean {\n        let result = false;\n        for (const offer of this.offers) {\n            if (offer.limitUnit === '001') {\n                const unitLimitTickets = this.offers.filter((targetOffer) => {\n                    return (targetOffer.limitUnit === '001' && targetOffer.limitCount === offer.limitCount);\n                });\n                if (unitLimitTickets.length % offer.limitCount !== 0) {\n                    offer.validation = true;\n                    result = true;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * 合計金額計算\n     * @method getTotalPrice\n     */\n    public getTotalPrice(): number {\n        let result = 0;\n        const selectedOffers = this.offers.filter((offer) => {\n            return (offer.selected);\n        });\n        for (const offer of selectedOffers) {\n            result += offer.ticketInfo.salePrice;\n        }\n\n        return result;\n    }\n\n    /**\n     * 券種選択\n     * @method ticketSelect\n     * @param {Event} event\n     * @param {Ioffer} offer\n     */\n    public ticketSelect(offer: Ioffer) {\n        this.selectOffer = offer;\n        this.ticketsModal = true;\n    }\n\n    /**\n     * 販売可能券種選択\n     * @method selectSalseTicket\n     * @param {ISalesTicket} ticket\n     * @param {boolean} glass\n     */\n    public selectSalseTicket(ticket: ISalesTicketResult) {\n        const target = this.offers.find((offer) => {\n            return (offer.seatNumber === this.selectOffer.seatNumber);\n        });\n        if (target === undefined) {\n            this.ticketsModal = false;\n\n            return;\n        }\n        const findTicket = this.purchase.data.pointTickets.find((pointTicket) => {\n            return (pointTicket.ticketCode === ticket.ticketCode);\n        });\n        const usePoint = (findTicket !== undefined) ? findTicket.usePoint : 0;\n        target.price = ticket.salePrice;\n        target.priceCurrency = this.selectOffer.priceCurrency;\n        target.seatNumber = this.selectOffer.seatNumber;\n        target.seatSection = this.selectOffer.seatSection;\n        target.selected = true;\n        target.limitCount = ticket.limitCount;\n        target.limitUnit = ticket.limitUnit;\n        target.ticketInfo = {\n            mvtkNum: '',\n            ticketCode: ticket.ticketCode,\n            ticketName: ticket.ticketName,\n            mvtkAppPrice: 0,\n            addGlasses: ticket.addGlasses,\n            kbnEisyahousiki: '00',\n            mvtkKbnDenshiken: '00',\n            mvtkKbnMaeuriken: '00',\n            mvtkKbnKensyu: '00',\n            mvtkSalesPrice: 0,\n            addPrice: ticket.addPrice,\n            disPrice: 0,\n            salePrice: ticket.salePrice,\n            seatNum: this.selectOffer.seatNumber,\n            stdPrice: ticket.stdPrice,\n            ticketCount: 1,\n            ticketNameEng: ticket.ticketNameEng,\n            ticketNameKana: ticket.ticketNameKana,\n            usePoint: usePoint\n        };\n        this.totalPrice = this.getTotalPrice();\n        this.upDateSalseTickets();\n        this.ticketsModal = false;\n    }\n\n}\n","<app-loading [show]=\"true\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { PurchaseService } from '../../../../services/purchase/purchase.service';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\n\n@Component({\n    selector: 'app-purchase-transaction',\n    templateUrl: './purchase-transaction.component.html',\n    styleUrls: ['./purchase-transaction.component.scss']\n})\nexport class PurchaseTransactionComponent implements OnInit {\n    public parameters: {\n        /**\n         * パフォーマンスId\n         */\n        performanceId?: string;\n        /**\n         * WAITER許可証トークン\n         */\n        passportToken?: string;\n        /**\n         * awsCognitoIdentityId\n         */\n        identityId?: string;\n        /**\n         * ネイティブアプリ\n         */\n        native?: string;\n        /**\n         * 会員\n         */\n        member?: string;\n        /**\n         * アクセストークン\n         */\n        accessToken?: string;\n        /**\n         * signinリダイレクト\n         */\n        signInRedirect: boolean;\n    };\n    constructor(\n        private router: Router,\n        private sasaki: SasakiService,\n        private purchase: PurchaseService\n    ) { }\n\n    /**\n     * 初期化\n     */\n    public async ngOnInit() {\n        try {\n            if (this.purchase.data.individualScreeningEvent === undefined) {\n                this.router.navigate(['/error']);\n                return;\n            }\n            await this.sasaki.getServices();\n            const individualScreeningEvent = this.purchase.data.individualScreeningEvent;\n            // 開始可能日判定\n            if (!this.purchase.isSalse(individualScreeningEvent)) {\n                throw new Error('Unable to start sales');\n            }\n            const END_TIME = 30;\n            // 終了可能日判定\n            if (moment().add(END_TIME, 'minutes').unix() > moment(individualScreeningEvent.startDate).unix()) {\n                throw new Error('unable to end sales');\n            }\n\n            const passport = await this.sasaki.getPassportToken(individualScreeningEvent.coaInfo.theaterCode);\n\n            await this.purchase.transactionStartProcess({\n                passportToken: passport.token,\n                individualScreeningEvent: individualScreeningEvent\n            });\n            this.router.navigate(['/purchase/seat'], { replaceUrl: true });\n        } catch (err) {\n            console.error(err);\n            this.router.navigate(['/error']);\n        }\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"read mb-3\">\n            クレジットカード情報を登録してください\n        </p>\n        <div class=\"mb-3 text-center annual-fee\">\n            ご利用金額（年会費）\n            <span class=\"large-text\">￥500</span>\n        </div>\n        <div class=\"image mb-3 text-center\">\n            <img alt=\"\" src=\"/assets/images/common/credit_card.png\">\n        </div>\n        <div class=\"credit\">\n            <form [formGroup]=\"creditForm\" (ngSubmit)=\"onSubmit()\">\n                <dl class=\"mb-4\">\n                    <dt>カード番号</dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"creditForm.controls['cardNumber'].invalid && creditForm.controls['cardNumber'].touched\" type=\"text\"\n                                pattern=\"\\d*\" formControlName=\"cardNumber\" id=\"cardNumber\" autocomplete=\"off\" placeholder=\"(例)1234567890\"\n                                maxlength=\"16\">\n                        </div>\n                        <div class=\"small-text mb-1\" *ngIf=\"creditForm.controls['cardNumber'].invalid && creditForm.controls['cardNumber'].touched\">\n                            <div *ngIf=\"creditForm.controls['cardNumber'].errors.required\" class=\"validation-text mb-1\">カード番号が未入力です</div>\n                            <div *ngIf=\"creditForm.controls['cardNumber'].errors.pattern\" class=\"validation-text mb-1\">カード番号は数字で入力してください</div>\n                        </div>\n                        <p class=\"small-text\">※半角数字、ハイフン「-」なしで入力してください</p>\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-1\">有効期限</dt>\n                    <dd>\n\n                        <select formControlName=\"cardExpirationMonth\" id=\"cardExpirationMonth\">\n\n                            <option *ngFor=\"let month of cardExpiration.month\" [value]=\"month\">{{ month }}</option>\n\n                        </select> 月\n                        <select formControlName=\"cardExpirationYear\" id=\"cardExpirationYear\">\n\n                            <option *ngFor=\"let year of cardExpiration.year\" [value]=\"year\">{{ year }}</option>\n\n                        </select> 年\n\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt>セキュリティーコード</dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"creditForm.controls['securityCode'].invalid && creditForm.controls['securityCode'].touched\" type=\"text\"\n                                pattern=\"\\d*\" formControlName=\"securityCode\" autocomplete=\"off\" placeholder=\"(例)123\" maxlength=\"4\">\n                        </div>\n                        <div class=\"small-text mb-1\" *ngIf=\"creditForm.controls['securityCode'].invalid && creditForm.controls['securityCode'].touched\">\n                            <div *ngIf=\"creditForm.controls['securityCode'].errors.required\" class=\"validation-text mb-1\">セキュリティーコードが未入力です</div>\n                        </div>\n                        <p>\n                            <a (click)=\"securityCodeModal = true\">セキュリティーコードについて</a>\n                        </p>\n                    </dd>\n                </dl>\n                <dl class=\"mb-4\">\n                    <dt>カード名義人</dt>\n                    <dd>\n                        <div class=\"mb-1\">\n                            <input [class.validation]=\"creditForm.controls['holderName'].invalid && creditForm.controls['holderName'].touched\" type=\"text\"\n                                formControlName=\"holderName\" autocomplete=\"off\" placeholder=\"(例)TARO CINEMA\">\n                        </div>\n                        <div class=\"small-text mb-1\" *ngIf=\"creditForm.controls['holderName'].invalid && creditForm.controls['holderName'].touched\">\n                            <div *ngIf=\"creditForm.controls['holderName'].errors.required\" class=\"validation-text mb-1\">カード名義人が未入力です</div>\n                        </div>\n                    </dd>\n                </dl>\n\n                <button type=\"submit\" class=\"small-text btn btn-primary center btn-block py-3 rounded-0 mb-4\">クレジットカード登録</button>\n                <div class=\"text-center\">\n                    <a (click)=\"signOut()\">アプリの始め方へ</a>\n                </div>\n            </form>\n        </div>\n    </div>\n</app-page>\n\n<app-modal class=\"security-code-modal\" [open]=\"securityCodeModal\" [layout]=\"true\" (close)=\"securityCodeModal = false\">\n    <div class=\"mb-1 text-center\">セキュリティーコードについて</div>\n    <p class=\"mb-4 small-text\">※カード会社により表示箇所および名称が異なります。</p>\n    <dl class=\"mb-4\">\n        <dt class=\"mb-1\">\n            <strong>VISA / MASTER / DINERS / JCBの場合</strong>\n        </dt>\n        <dd class=\"mb-1\">\n            <p>【カード裏面】セキュリティーコード(末尾3桁)</p>\n        </dd>\n        <dd>\n            <img src=\"/assets/images/common/credit_back.svg\" alt=\"\">\n        </dd>\n    </dl>\n    <dl>\n        <dt class=\"mb-1\">\n            <strong>AMEXの場合</strong>\n        </dt>\n        <dd class=\"mb-1\">\n            <p>【カード表面】セキュリティーコード(4桁)</p>\n        </dd>\n        <dd>\n            <img src=\"/assets/images/common/credit_front.svg\" alt=\"\">\n        </dd>\n    </dl>\n</app-modal>\n\n<app-modal [open]=\"creditCardAlertModal\" [layout]=\"true\" (close)=\"creditCardAlertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>入力内容をご確認ください。</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, ElementRef, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\nimport { UserService } from '../../../../services/user/user.service';\n\n@Component({\n    selector: 'app-register-credit',\n    templateUrl: './register-credit.component.html',\n    styleUrls: ['./register-credit.component.scss']\n})\nexport class RegisterCreditComponent implements OnInit {\n\n    public cardExpiration: {\n        year: string[];\n        month: string[];\n    };\n    public creditForm: FormGroup;\n    public isLoading: boolean;\n    public securityCodeModal: boolean;\n    public creditCardAlertModal: boolean;\n    public disable: boolean;\n\n    constructor(\n        private router: Router,\n        private elementRef: ElementRef,\n        private formBuilder: FormBuilder,\n        private user: UserService,\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.isLoading = true;\n        this.cardExpiration = {\n            year: [],\n            month: []\n        };\n        this.creditForm = this.createForm();\n        this.disable = false;\n        this.creditCardAlertModal = false;\n        this.isLoading = false;\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        const creditrCard = {\n            cardNumber: { value: '', validators: [Validators.required, Validators.pattern(/^[0-9]+$/)] },\n            cardExpirationMonth: { value: '01', validators: [Validators.required] },\n            cardExpirationYear: { value: moment().format('YYYY'), validators: [Validators.required] },\n            securityCode: { value: '', validators: [Validators.required] },\n            holderName: { value: '', validators: [Validators.required] }\n        };\n\n        for (let i = 0; i < 12; i++) {\n            const DIGITS = -2;\n            this.cardExpiration.month.push(`0${String(i + 1)}`.slice(DIGITS));\n        }\n        for (let i = 0; i < 10; i++) {\n            this.cardExpiration.year.push(moment().add(i, 'year').format('YYYY'));\n        }\n\n        return this.formBuilder.group({\n            cardNumber: [creditrCard.cardNumber.value, creditrCard.cardNumber.validators],\n            cardExpirationMonth: [creditrCard.cardExpirationMonth.value, creditrCard.cardExpirationMonth.validators],\n            cardExpirationYear: [creditrCard.cardExpirationYear.value, creditrCard.cardExpirationYear.validators],\n            securityCode: [creditrCard.securityCode.value, creditrCard.securityCode.validators],\n            holderName: [creditrCard.holderName.value, creditrCard.holderName.validators]\n        });\n    }\n\n    /**\n     * フォーム確定\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.creditForm.invalid) {\n            // フォームのステータス変更\n            this.creditForm.controls.cardNumber.markAsTouched();\n            this.creditForm.controls.cardExpirationMonth.markAsTouched();\n            this.creditForm.controls.cardExpirationYear.markAsTouched();\n            this.creditForm.controls.securityCode.markAsTouched();\n            this.creditForm.controls.holderName.markAsTouched();\n            setTimeout(() => {\n                const element: HTMLElement = this.elementRef.nativeElement;\n                const validation = <HTMLElement>element.querySelector('.validation');\n                if (validation === null) {\n                    return;\n                }\n                const rect = validation.getBoundingClientRect();\n                const contents = (<HTMLElement>element.querySelector('app-page .scroll'));\n                const scrollTop = contents.scrollTop;\n                const top = rect.top + scrollTop - 80;\n                contents.scrollTo(0, top);\n            }, 0);\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n\n        try {\n            await this.sasaki.getServices();\n            // GMOトークン取得\n            const gmoTokenObject = await this.user.getGmoObject({\n                cardno: this.creditForm.controls.cardNumber.value,\n                expire: this.creditForm.controls.cardExpirationYear.value + this.creditForm.controls.cardExpirationMonth.value,\n                securitycode: this.creditForm.controls.securityCode.value,\n                holdername: this.creditForm.controls.holderName.value\n            });\n\n            // 会員 クレジットカード情報保存\n            await this.user.registerCreditCard(gmoTokenObject);\n            this.router.navigate(['/register/membership']);\n        } catch (err) {\n            console.error(err);\n            // クレジットカード処理失敗\n            this.isLoading = false;\n            this.creditCardAlertModal = true;\n            this.creditForm.controls.cardNumber.setValue('');\n            this.creditForm.controls.securityCode.setValue('');\n            this.creditForm.controls.holderName.setValue('');\n            this.disable = false;\n        }\n    }\n\n    /**\n     * サインアウト\n     * @method signOut\n     */\n    public async signOut() {\n        await this.sasaki.getServices();\n        await this.sasaki.signOut();\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <div class=\"mb-4\">\n            <app-membership-benefits></app-membership-benefits>\n        </div>\n        <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto mb-3\" routerLink=\"/register/terms\">会員登録（年会費500円）をする</button>\n        <div class=\"text-center\">\n            <a routerLink=\"/auth/select\" class=\"prev-link\"><app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n        </div>\n    </div>\n</app-page>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-register',\n    templateUrl: './register-index.component.html',\n    styleUrls: ['./register-index.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <p class=\"read mb-3\">\n            よく行く劇場を選択して登録してください\n        </p>\n        \n        <div *ngIf=\"!isLoading\" class=\"options\">\n            <form [formGroup]=\"optionsForm\" (ngSubmit)=\"onSubmit()\">\n                <dl class=\"mb-4\">\n                    <dt class=\"mb-1\">よく行く劇場</dt>\n                    <dd>\n                        <select formControlName=\"theater\" class=\"mb-1\" id=\"theater\">\n                            <option value=\"\">選択してください</option>\n                            <option *ngFor=\"let theater of theaters\" [value]=\"theater.location.branchCode\">{{ theater.location.name.ja }}</option>\n                        </select>\n                        <div class=\"small-text mb-1\" *ngIf=\"optionsForm.controls['theater'].invalid && optionsForm.controls['theater'].touched\">\n                            <div *ngIf=\"optionsForm.controls['theater'].errors.required\" class=\"validation-text mb-1\">よく行く劇場が未入力です</div>\n                        </div>\n                    </dd>\n                </dl>\n\n                <button type=\"submit\" class=\"small-text btn btn-primary center btn-block py-3 rounded-0 mb-4\">登録</button>\n                <div class=\"text-center\">\n                    <a routerLink=\"/register/credit\" class=\"prev-link\"><app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n                </div>\n            </form>\n        </div>\n    </div>\n</app-page>\n\n<app-modal [open]=\"alertModal\" [layout]=\"true\" (close)=\"alertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>再度ご登録してください。</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { MemberService } from '../../../../services/member/member.service';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\n\n@Component({\n    selector: 'app-register-program-membership',\n    templateUrl: './register-program-membership.component.html',\n    styleUrls: ['./register-program-membership.component.scss']\n})\nexport class RegisterProgramMembershipComponent implements OnInit {\n    public programMemberships: factory.programMembership.IProgramMembership[];\n    public isLoading: boolean;\n    public alertModal: boolean;\n    public disable: boolean;\n    public optionsForm: FormGroup;\n    public theaters: factory.organization.movieTheater.IPublicFields[];\n\n    constructor(\n        private router: Router,\n        private formBuilder: FormBuilder,\n        private sasaki: SasakiService,\n        private member: MemberService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.disable = false;\n        this.alertModal = false;\n        this.isLoading = true;\n        this.optionsForm = this.createForm();\n        try {\n            await this.sasaki.getServices();\n            // 劇場一覧取得\n            this.theaters = await this.sasaki.organization.searchMovieTheaters();\n            // 会員プログラム取得\n            this.programMemberships = await this.member.getProgramMemberships();\n\n            if (this.programMemberships.length === 0) {\n                throw new Error('programMemberships is not found');\n            }\n        } catch (err) {\n            console.log(err);\n            this.router.navigate(['/error', { redirect: '/register/credit' }]);\n        }\n        this.isLoading = false;\n    }\n\n    /**\n     * フォーム作成\n     * @method createForm\n     */\n    private createForm() {\n        return this.formBuilder.group({\n            theater: ['', [Validators.required]]\n        });\n    }\n\n    /**\n     * フォーム確定\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.optionsForm.invalid) {\n            // フォームのステータス変更\n            this.optionsForm.controls.theater.markAsTouched();\n\n            return;\n        }\n        this.disable = true;\n        this.isLoading = true;\n        try {\n            // 販売劇場検索\n            const theaterCode = this.optionsForm.controls.theater.value;\n            const programMembership = this.programMemberships[0];\n            // 会員登録\n            await this.member.register({\n                theaterCode: theaterCode,\n                programMembership: programMembership\n            });\n\n            // 会員登録確認\n            await this.member.isRegister();\n            // if (!isRegister) {\n            //     this.isLoading = false;\n            //     this.disable = false;\n            //     this.alertModal = true;\n\n            //     return;\n            // }\n\n            this.router.navigate(['/']);\n        } catch (err) {\n            console.error(err);\n            // 会員プログラム登録失敗\n            this.isLoading = false;\n            this.disable = false;\n            this.alertModal = true;\n        }\n    }\n\n}\n","<app-page class=\"bg-02\">\n    <div class=\"inner\">\n        <h2 class=\"text-center mb-3 large-text\">利用規約</h2>\n        <p class=\"read mb-3 small-text\">\n            シネマサンシャインの会員（年会費500円）になるとお得な特典が受けられます。以下の利用規約に同意した上で「次へ」ボタンを押してください。\n        </p>\n        <div class=\"box mb-3 scroll-box\">\n            <h3 class=\"large-text mb-1\">利用規約について</h3>\n            <p>\n                本規約は、佐々木興業株式会社（以下「当社」）が独自に規定するものであり、当社の運営する「シネマサンシャイン」が提供するサービスに提供されるものとします。\n                <br> 当社が提供するシネマサンシャインをご利用になる場合には、本規約に従っていただく必要があります。ご利用の皆様はシネマサンシャインの利用をもって、本規約の内容を承諾いただけたものとみなします。\n                <br> 本規約は必要に応じて適宜見直しを行ないますので、ご利用の際には本ページに掲載されている最新の利用規約をご確認下さい。\n                <br>\n                <span class=\"text-red\">1.個人登録情報の取り扱いについて</span>\n                <br> 個人情報に関してはシネマサンシャインにて最大限の注意を払い管理いたします。個人情報の取り扱いについては、プライバシーポリシーにまとめてありますので、そちらもご覧下さい。\n                <br> またシネマサンシャインの営業譲渡が行なわれる際は、譲渡を受けた獲得者に移管いたします。なお、退会申請には速やかに応じ、個人情報を削除いたします。\n                <br>\n                <span class=\"text-red\">2.ID及びパスワードの管理について</span>\n                <br> ID及びパスワードの管理は、登録ユーザーの責任において行なっていただきます。ID及びパスワードを利用して行なわれた行為は、そのIDを保有している登録ユーザーの責任とみなします。\n                <br> 第三者への漏洩の疑いがある場合は、直ちにシネマサンシャインまでご連絡下さい。シネマサンシャインはID及びパスワードの不正使用などから生じた損害について一切責任を負いません。\n                <br>\n                <span class=\"text-red\">3.登録事項の変更について</span>\n                <br> ユーザー登録の必須項目に変更があった際には、速やかに情報の変更をお願いいたします。\n                <br>\n                <span class=\"text-red\">4.禁止事項</span>\n                <br> 他の利用者や第三者を誹謗中傷する行為や、不当に足を引っ張ろうとする行為。\n                <br> 公正な場を不当に歪めようとする行為。\n                <br> 運営者が、不適切と判断した行為。\n                <br>\n                <span class=\"text-red\">5.登録ユーザーの資格保留又は削除について</span>\n                <br> シネマサンシャインは、上記禁止事項に違反した登録ユーザーに対し、資格を保留・削除する権利を保有します。また、コンテンツを削除する権利も保有します。その判断に関しては、運営者の裁量にて行使されます。これにより損害が発生した場合でもシネマサンシャインは責任を負いません。\n                <br>\n                <span class=\"text-red\">6.サービスの中断</span>\n                <br> シネマサンシャインは、設備的事情等のやむを得ない場合に限って、利用者に事前通知なくサービスを一時的に中断することがあります。その際に利用者に生じた不利益や損失などに対して、一切の責任を負わないものとします。\n                <br> 7.営業の中止について\n                <br> シネマサンシャインは、利用者にWebサイト上またはメールによる通知の上、サービスの全部または一部を中止できるものとします。サービスの終了に伴い生じる利用者の不利益や損害などに対して、一切の責任を負わないものとします。\n                <br>\n                <span class=\"text-red\">8.免責事項</span>\n                <br> シネマサンシャインは、本サイトの利用に際して利用者が生じた不利益や損害などに対して、一切の責任を負わないものとします。\n                <br> 利用者が本サイトから得る情報などについての一切は、その受け手の責任において判断するものとし、シネマサンシャインは、いかなる保証も行なわないものにします。\n                <br> 利用者が使用する機器・ソフトウェアについて、シネマサンシャインは、その動作保証は一切行なわないものとします。\n                <br> シネマサンシャインをきっかけに契約に至った案件に関して、その後に生じたトラブルなど、シネマサンシャインでは一切の責任を負わないものとします。\n                <br>\n                <span class=\"text-red\">9.準拠法および裁判管轄について</span>\n                <br> 本規約には、日本法が適用されます。また、本規約に関連する利用者とシネマサンシャイン間の紛争については、東京地方裁判所を第一審専属管轄裁判所とします。\n            </p>\n        </div>\n        <form [formGroup]=\"termsForm\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"text-center mb-3\">\n                <div class=\"mb-3\">\n                    <input type=\"checkbox\" formControlName=\"terms\" id=\"terms\">\n                    <label for=\"terms\" class=\"agree-label\">利用規約に同意する</label>\n                </div>\n                <div *ngIf=\"termsForm.controls['terms'].invalid && (termsForm.controls['terms'].dirty || termsForm.controls['terms'].touched)\"\n                    class=\"validation-text\">利用規約に同意してください</div>\n            </div>\n            <button type=\"submit\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto mb-3\">次へ</button>\n            <div class=\"text-center\">\n                <a (click)=\"prev()\" class=\"prev-link\">\n                    <app-icon iconName=\"prev-circle-white\" width=\"15\" height=\"15\"></app-icon>戻る</a>\n            </div>\n        </form>\n    </div>\n</app-page>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { SasakiService } from '../../../../services/sasaki/sasaki.service';\n\n@Component({\n    selector: 'app-register-terms',\n    templateUrl: './register-terms.component.html',\n    styleUrls: ['./register-terms.component.scss']\n})\nexport class RegisterTermsComponent implements OnInit {\n\n    public isLoading: boolean;\n    public termsForm: FormGroup;\n    public disable: boolean;\n\n    constructor(\n        private sasaki: SasakiService,\n        private formBuilder: FormBuilder\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.termsForm = this.formBuilder.group({\n            terms: [false, [Validators.requiredTrue]]\n        });\n        // console.log(this.termsForm);\n        this.disable = false;\n    }\n\n    /**\n     * フォーム確定\n     * @method onSubmit\n     */\n    public async onSubmit() {\n        if (this.disable) {\n            return;\n        }\n        if (this.termsForm.invalid) {\n            this.termsForm.controls.terms.markAsDirty();\n\n            return;\n        }\n        this.disable = true;\n        try {\n            await this.sasaki.signUp();\n        } catch (error) {\n            console.error(error);\n            this.disable = false;\n        }\n    }\n\n    /**\n     * 戻る\n     */\n    public prev() {\n        window.history.back();\n    }\n\n}\n","<app-page [touch]=\"touch\">\n    <div class=\"inner\">\n        <p class=\"mb-3 text-center small-text\">\n            購入した鑑賞作品の下記チケットのQRコードを\n            <br>入場口スタッフに提示してください。\n        </p>\n        <div *ngIf=\"reservations.length > 0;\">\n            <div class=\"swiper-container\" #swiper [swiper]=\"config\" (slideChangeTransitionStart)=\"slideChangeTransitionStart()\" (slideChangeTransitionEnd)=\"slideChangeTransitionEnd()\">\n                <div class=\"swiper-wrapper\">\n                    <div *ngFor=\"let reservation of reservations\" class=\"swiper-slide\">\n                        <app-ticket-detail [reservation]=\"reservation\" [device]=\"device\" (alert)=\"openAlert($event)\"\n                            (start)=\"authStart()\" (end)=\"authEnd()\"></app-ticket-detail>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pagination-wrapper\">\n                <div class=\"swiper-pagination\"></div>\n            </div>\n        </div>\n        <app-ticket-not-found *ngIf=\"!isLoading && reservations.length === 0;\" [isMember]=\"user.isMember()\"></app-ticket-not-found>\n    </div>\n</app-page>\n<app-modal [open]=\"alertModal\" [layout]=\"true\" (close)=\"alertModal = false\">\n    <div class=\"modal-ttl large-text text-center mb-3\">\n        <strong>エラーが発生しました</strong>\n    </div>\n    <p>{{ errorMessage }}</p>\n</app-modal>\n\n<app-loading [show]=\"isLoading\"></app-loading>\n<app-information *ngIf=\"!user.isMember()\" [isMember]=\"false\"></app-information>","/**\n * TicketComponent\n */\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SwiperComponent, SwiperConfigInterface, SwiperDirective, SwiperPaginationInterface } from 'ngx-swiper-wrapper';\nimport { CallNativeService, IDeviceResult } from '../../../services/call-native/call-native.service';\nimport { IReservation, ReservationService } from '../../../services/reservation/reservation.service';\nimport { UserService } from '../../../services/user/user.service';\n\n@Component({\n    selector: 'app-ticket',\n    templateUrl: './ticket.component.html',\n    styleUrls: ['./ticket.component.scss']\n})\n/**\n * チケットホルダー\n * @class TicketComponent\n * @implements OnInit\n */\nexport class TicketComponent implements OnInit {\n    @ViewChild(SwiperComponent) public componentRef?: SwiperComponent;\n    @ViewChild(SwiperDirective) public directiveRef?: SwiperDirective;\n    public config: SwiperConfigInterface;\n    public isLoading: boolean;\n    public reservations: IReservation[];\n    public touch: boolean;\n    public device: IDeviceResult;\n    public alertModal: boolean;\n    public errorMessage: string;\n\n    constructor(\n        private router: Router,\n        private reservation: ReservationService,\n        public user: UserService,\n        private native: CallNativeService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.touch = true;\n        this.isLoading = true;\n        this.alertModal = false;\n        this.errorMessage = '';\n        this.reservations = [];\n        const pagination: SwiperPaginationInterface = {\n            el: '.swiper-pagination',\n            clickable: true\n        };\n        this.config = {\n            pagination: pagination,\n            autoHeight: true\n        };\n        this.reservation.isMember = this.user.isMember();\n        try {\n            const device = await this.native.device();\n            if (device === null) {\n                throw new Error('device is null');\n            }\n            this.device = device;\n            this.reservations = await this.reservation.getReservationByAppreciationDayOrder();\n        } catch (err) {\n            this.router.navigate(['/error', { redirect: '/ticket' }]);\n            console.log(err);\n        }\n\n        this.isLoading = false;\n    }\n\n    public slideChangeTransitionStart() {\n        // console.log('slideChangeTransitionStart');\n        this.touch = false;\n    }\n\n    public slideChangeTransitionEnd() {\n        // console.log('slideChangeTransitionEnd');\n        this.touch = true;\n    }\n\n    public openAlert(message: string) {\n        this.errorMessage = message;\n        this.alertModal = true;\n    }\n\n    public authStart() {\n        this.isLoading = true;\n        this.touch = false;\n    }\n\n    public authEnd() {\n        this.isLoading = false;\n        if (this.directiveRef !== undefined) {\n            this.directiveRef.update();\n        }\n        this.touch = true;\n    }\n\n}\n","<app-page [ngClass]=\"'step-' + step\">\n    <div class=\"swiper-container\" [swiper]=\"config\" (indexChange)=\"indexChange($event)\">\n        <div class=\"swiper-wrapper walk-through\">\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center large-text mb-4\">シネマサンシャイン\n                            <br>公式アプリへようこそ!</p>\n                        <div class=\"image text-center\">\n                            <img src=\"/assets/images/tutorial/welcome.svg\" width=\"230\" height=\"150\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center large-text mb-4\">チケットを\n                            <br>スマートに購入！</p>\n                        <div class=\"image text-center mb-4\">\n                            <img src=\"/assets/images/tutorial/purchase.svg\" width=\"230\" height=\"150\">\n                        </div>\n                        <p class=\"text-center\">一度このアプリ内で\n                            <br>チケットをご購入いただきますと\n                            <br>お客様情報が記録され、\n                            <br>次回以降は入力が不要になります。</p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center mb-x-samll\">有料会員特典1</p>\n                        <p class=\"text-center large-text mb-4\">映画を見れば見るほど\n                            <br>ポイントが貯まる</p>\n                        <div class=\"image text-center mb-4\">\n                            <img src=\"/assets/images/tutorial/member_01.svg\" width=\"211\" height=\"150\">\n                        </div>\n                        <p class=\"text-center\">アプリ購入一回に対して\n                            <br>1ポイントが付与されます。</p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center mb-x-samll\">有料会員特典2</p>\n                        <p class=\"text-center large-text mb-4\">貯まったポイントを使用して\n                            <br>お得に鑑賞</p>\n                        <div class=\"image text-center mb-4\">\n                            <img src=\"/assets/images/tutorial/member_02.svg\" width=\"211\" height=\"150\">\n                        </div>\n                        <p class=\"text-center\">貯まったポイントに応じて\n                            <br>お得に鑑賞して頂けます。</p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center mb-x-samll\">有料会員特典3</p>\n                        <p class=\"text-center large-text mb-4\">会員情報登録でスムーズに購入</p>\n                        <div class=\"image text-center mb-4\">\n                            <img src=\"/assets/images/tutorial/member_03.svg\" width=\"211\" height=\"150\">\n                        </div>\n                        <p class=\"text-center\">オンラインチケット購入時の\n                            <br> クレジットカード情報入力が不要になります。\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center large-text mb-4\">スマホがそのまま入場券に！</p>\n                        <div class=\"image text-center mb-4\">\n                            <img src=\"/assets/images/tutorial/ticket.svg\" width=\"211\" height=\"150\">\n                        </div>\n                        <p class=\"text-center\">チケット発券の手間いらず。\n                            <br>アプリの画面を見せるだけで入場できます。</p>\n                    </div>\n                </div>\n            </div>\n            <div class=\"swiper-slide\">\n                <div class=\"inner\">\n                    <div class=\"position-center\">\n                        <p class=\"text-center large-text mb-xx-large\">それではアプリを\n                            <br>お楽しみください！</p>\n                        <div class=\"image text-center\">\n                            <img src=\"/assets/images/common/logo_text.svg\" width=\"150\" height=\"17\">\n                        </div>\n                    </div>\n                    <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto button-bottom\" (click)=\"start()\">アプリを始める</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"swiper-pagination\"></div>\n    </div>\n</app-page>","/**\n * TutorialComponent\n */\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SwiperConfigInterface , SwiperPaginationInterface } from 'ngx-swiper-wrapper';\nimport { SaveType, StorageService } from '../../../services/storage/storage.service';\n\n@Component({\n    selector: 'app-tutorial',\n    templateUrl: './tutorial.component.html',\n    styleUrls: ['./tutorial.component.scss']\n})\nexport class TutorialComponent implements OnInit {\n    public config: SwiperConfigInterface;\n    public step: number;\n\n    constructor(\n        private storage: StorageService,\n        private router: Router\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.step = 0;\n        const pagination: SwiperPaginationInterface = {\n            el: '.swiper-pagination',\n            clickable: true\n        };\n        this.config = {\n            pagination: pagination,\n            spaceBetween: 30\n            // onSlideChangeEnd: (swiper) => {\n            //     this.step = swiper.activeIndex;\n            // }\n        };\n    }\n\n    /**\n     * スライド後イベント\n     */\n    public indexChange(index: number) {\n        this.step = index;\n    }\n\n    /**\n     * はじめる\n     * @method start\n     */\n    public start() {\n        const device = {\n            tutorial: true\n        };\n        this.storage.save('device', device, SaveType.Local);\n        this.router.navigate(['/auth/select']);\n    }\n}\n","<div class=\"button-area\">\n    <button type=\"submit\" class=\"small-text btn btn-primary btn-block py-3 rounded-0 mx-auto mb-3\">\n        {{ nextLabel }}\n    </button>\n    <div class=\"small-text text-center text-white\">\n        <span routerLink=\"{{ prevLink }}\">{{ prevLabel }}</span>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-buttons',\n    templateUrl: './buttons.component.html',\n    styleUrls: ['./buttons.component.scss']\n})\nexport class ButtonsComponent implements OnInit {\n    @Input() public nextLabel: string;\n    @Input() public prevLabel: string;\n    @Input() public prevLink: string;\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<div class=\"cover\" [class.active]=\"isOpen\" (click)=\"close.emit()\"></div>\n\n<div class=\"menu\" [class.active]=\"isOpen\">\n    <!-- <div class=\"title\">{{ name }}</div> -->\n    <ul>\n        <li>\n            <span routerLink=\"/\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"home-white\" width=\"15\" height=\"15\"></app-icon>HOME画面\n            </span>\n        </li>\n        <!-- <li>\n            <span routerLink=\"/fido/register\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"home-white\" width=\"15\" height=\"15\"></app-icon>fido登録\n            </span>\n        </li>\n        <li>\n            <span routerLink=\"/fido/remove\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"home-white\" width=\"15\" height=\"15\"></app-icon>fido削除\n            </span>\n        </li> -->\n        <!-- <li>\n            <span routerLink=\"/about\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"about-white\" width=\"15\" height=\"15\"></app-icon>このアプリについて\n            </span>\n        </li>\n        <li>\n            <span routerLink=\"/member/point/benefits\" (click)=\"close.emit()\">\n                <app-icon iconName=\"benefits-white\" width=\"15\" height=\"15\"></app-icon>会員特典\n            </span>\n        </li> -->\n        <li>\n            <span routerLink=\"/member/edit\" (click)=\"close.emit()\">\n                <app-icon iconName=\"user-white\" width=\"15\" height=\"15\"></app-icon>会員情報変更\n            </span>\n        </li>\n        <!-- <li>\n            <span routerLink=\"/policy\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"text-white\" width=\"15\" height=\"15\"></app-icon>利用規約\n            </span>\n        </li>\n        <li>\n            <span routerLink=\"/law\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"text-white\" width=\"15\" height=\"15\"></app-icon>特定商取引法に基づく表記\n            </span>\n        </li>\n        <li>\n            <span routerLink=\"/privacy\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"text-white\" width=\"15\" height=\"15\"></app-icon>プライバシーポリシー\n            </span>\n        </li>\n        <li>\n            <span (click)=\"openWebBrowse(environment.PORTAL_SITE)\">\n                <app-icon iconName=\"external-link-white\" width=\"15\" height=\"15\"></app-icon>シネマサンシャインポータルサイト\n            </span>\n        </li> -->\n        <li>\n            <span routerLink=\"/auth/logout\" (click)=\"close.emit()\">\n                <app-icon iconName=\"logout-white\" width=\"15\" height=\"15\"></app-icon>ログアウト\n            </span>\n        </li>\n        <!-- <li>\n            <span routerLink=\"/member/withdraw\" routerLinkActive=\"active\" (click)=\"close.emit()\">\n                <app-icon iconName=\"text-white\" width=\"15\" height=\"15\"></app-icon>退会</span>\n        </li> -->\n    </ul>\n</div>","/**\n * HeaderMenuComponent\n */\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { environment } from '../../../../environments/environment';\nimport { CallNativeService, InAppBrowserTarget } from '../../../services/call-native/call-native.service';\n\n@Component({\n    selector: 'app-header-menu',\n    templateUrl: './header-menu.component.html',\n    styleUrls: ['./header-menu.component.scss']\n})\nexport class HeaderMenuComponent implements OnInit {\n    @Input() public isMember: boolean;\n    @Input() public isOpen: boolean;\n    @Output() public close: EventEmitter<{}> = new EventEmitter();\n\n    public environment = environment;\n\n    constructor(\n        private callNative: CallNativeService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n    /**\n     * webブラウザで開く\n     * @method openWebBrowse\n     */\n    public openWebBrowse(url: string) {\n        this.callNative.inAppBrowser({\n            url: url,\n            target: InAppBrowserTarget.System\n        });\n        this.close.emit();\n    }\n}\n","<header class=\"d-flex align-items-center justify-content-between px-3\">\n    <div class=\"logo\">\n        <img src=\"/assets/images/common/logo_text_02.svg\">\n    </div>\n    <div class=\"large-text\">{{ page.title }}</div>\n    <div class=\"menu-button\" [class.active]=\"isMenuOpen\" (click)=\"(isMenuOpen) ? menuClose() : menuOpen()\">\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n</header>\n\n<app-header-menu [isMember]=\"user.isMember()\" [isOpen]=\"isMenuOpen\" (close)=\"menuClose()\"></app-header-menu>","/**\n * HeaderComponent\n */\nimport { Component, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { UserService } from '../../../services/user/user.service';\n\n\n/**\n * ページ情報\n * @const pages\n */\nconst pages = [\n    { url: '/ticket', title: 'チケットホルダー' },\n    { url: '/purchase/schedule', title: 'チケット購入' },\n    { url: '/purchase/seat', title: '座席選択' },\n    { url: '/purchase/ticket', title: '券種選択' },\n    { url: '/purchase/input', title: '購入者情報入力' },\n    { url: '/purchase/confirm', title: '購入情報確認' },\n    { url: '/purchase/complete', title: '購入完了' },\n    { url: '/about', title: 'このアプリについて' },\n    { url: '/policy', title: '利用規約' },\n    { url: '/law', title: '特定商取引法に基づく表記' },\n    { url: '/privacy', title: 'プライバシーポリシー' },\n    { url: '/law', title: '特定商取引法に基づく表記' },\n    { url: '/benefits', title: '会員特典 / 会員登録' },\n    { url: '/auth/logout', title: 'ログアウト' },\n    { url: '/member/mypage', title: 'TOP' },\n    { url: '/member/point', title: '会員ポイント' },\n    { url: '/member/point/history', title: 'ポイント使用履歴' },\n    { url: '/member/point/benefits', title: '会員特典' },\n    { url: '/member/edit', title: '会員情報変更' },\n    { url: '/member/edit/credit', title: '会員情報変更' },\n    { url: '/member/edit/profile', title: '会員情報変更' },\n    { url: '/member/withdraw', title: '退会' },\n    { url: '/fido/remove', title: '生体認証削除' }\n];\n\n@Component({\n    selector: 'app-header',\n    templateUrl: './header.component.html',\n    styleUrls: ['./header.component.scss']\n})\n/**\n * ヘッダー\n * @class HeaderComponent\n * @implements OnInit\n */\nexport class HeaderComponent implements OnInit {\n\n    public page: {\n        url: string;\n        title: string;\n    };\n    public isMenuOpen: boolean;\n\n    constructor(\n        public user: UserService,\n        private router: Router\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.isMenuOpen = false;\n        this.changePage(this.router.url);\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                this.changePage(event.url);\n            }\n        });\n    }\n\n    /**\n     * メニューを開く\n     * @method menuOpen\n     */\n    public menuOpen() {\n        this.isMenuOpen = true;\n    }\n\n    /**\n     * メニューを閉じる\n     * @method menuClose\n     */\n    public menuClose() {\n        this.isMenuOpen = false;\n    }\n\n    /**\n     * ページ変更\n     * @method changePage\n     */\n    private changePage(url: string): void {\n        const page = pages.find((value) => {\n            return (value.url === url);\n        });\n        if (page === undefined) {\n            this.page = { url: '', title: 'NOT FOUND' };\n\n            return;\n        }\n        this.page = page;\n    }\n}\n","<div class=\"icon {{ iconName }}\" [style]=\"styles\"></div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { DomSanitizer, SafeStyle } from '@angular/platform-browser';\n\n@Component({\n    selector: 'app-icon',\n    templateUrl: './icon.component.html',\n    styleUrls: ['./icon.component.scss']\n})\nexport class IconComponent implements OnInit {\n    @Input() public iconName: string;\n    @Input() public width?: number;\n    @Input() public height?: number;\n    public styles: SafeStyle;\n\n    constructor(private sanitizer: DomSanitizer) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.styles = this.sanitizer.bypassSecurityTrustStyle('');\n        if (this.width !== undefined && this.height !== undefined) {\n            const style = `width: ${this.width}px; height: ${this.height}px; background-size: ${this.width}px ${this.height}px;`;\n            this.styles = this.sanitizer.bypassSecurityTrustStyle(style);\n        }\n    }\n\n}\n","<app-modal *ngFor=\"let information of informations; let index = index\" [open]=\"information.modal\" [layout]=\"true\" (close)=\"informationClose(information, index)\">\n    <div *ngIf=\"information.description !== undefined\" class=\"modal-ttl large-text text-center mb-3\">\n        <strong>{{ information.title }}</strong>\n    </div>\n    <p *ngIf=\"information.description !== undefined\" class=\"mb-3 text-center\" [innerHtml]=\"information.description\"></p>\n    <div class=\"mb-3\" *ngFor=\"let image of information.images\">\n        <img [src]=\"image\">\n    </div>\n    <div class=\"mb-3 text-center\">\n        <input type=\"checkbox\" id=\"notWatch{{ index }}\" name=\"notWatch{{ index }}\" [(ngModel)]=\"information.notWatch\" (change)=\"informationNotWatch(information)\">\n        <label for=\"notWatch{{ index }}\" class=\"not-watch\">今後このメッセージを表示しない</label>\n    </div>\n    <button *ngIf=\"information.button !== undefined\" type=\"button\" class=\"button center btn-block py-3 rounded-0 button-primary\" [routerLink]=\"information.button.link\">{{ information.button.label }}</button>\n</app-modal>","import { Component, Input, OnInit } from '@angular/core';\nimport { SaveType, StorageService } from '../../../services/storage/storage.service';\n\ninterface IInformation {\n    modal: boolean;\n    id: string;\n    title?: string;\n    description?: string;\n    images: string[];\n    button?: {\n        label: string;\n        link: string;\n    };\n    notWatch: boolean;\n}\n\ninterface IInformationData {\n    id: string;\n    title?: string;\n    description?: string;\n    images: string[];\n    button?: {\n        label: string;\n        link: string;\n    };\n}\n\n@Component({\n    selector: 'app-information',\n    templateUrl: './information.component.html',\n    styleUrls: ['./information.component.scss']\n})\nexport class InformationComponent implements OnInit {\n    @Input() public isMember: boolean;\n    public informations: IInformation[];\n\n    constructor(\n        private storage: StorageService\n    ) { }\n\n    public ngOnInit() {\n        this.informations = [];\n        this.showInformation();\n    }\n\n    /**\n     * お知らせ表示\n     */\n    public showInformation() {\n        let data: IInformationData[];\n        if (this.isMember) {\n            data = this.getMemberInformation();\n        } else {\n            data = this.getInformation();\n        }\n        const STORAGE_KEY = 'information';\n        const informationSession = this.storage.load(STORAGE_KEY, SaveType.Session);\n        let informationLocal = this.storage.load(STORAGE_KEY, SaveType.Local);\n        if (informationSession !== null && informationSession.show) {\n            return;\n        }\n        if (informationLocal === null) {\n            informationLocal = {\n                notWatch: []\n            };\n        }\n        const filter = data.filter((information) => {\n            const notWatch = informationLocal.notWatch.find((id: string) => {\n                return (id === information.id);\n            });\n            return (notWatch === undefined);\n        });\n        this.informations = filter.map((information) => {\n            return {\n                modal: false,\n                id: information.id,\n                title: information.title,\n                description: information.description,\n                images: information.images,\n                button: information.button,\n                notWatch: false\n            };\n        });\n        if (this.informations.length > 0) {\n            this.informations[0].modal = true;\n        }\n        this.storage.save(STORAGE_KEY, { show: true }, SaveType.Session);\n    }\n\n    /**\n     * お知らせモーダル今後非表示\n     */\n    public informationNotWatch(information: IInformation) {\n        const STORAGE_KEY = 'information';\n        let informationLocal = this.storage.load(STORAGE_KEY, SaveType.Local);\n        if (informationLocal === null) {\n            informationLocal = {\n                notWatch: []\n            };\n        }\n        if (information.notWatch) {\n            informationLocal.notWatch.push(information.id);\n        } else {\n            informationLocal.notWatch = informationLocal.notWatch.filter((id: string) => {\n                return information.id !== id;\n            });\n        }\n        this.storage.save(STORAGE_KEY, informationLocal, SaveType.Local);\n    }\n\n    /**\n     * お知らせモーダル閉じる\n     */\n    public informationClose(information: IInformation, index: number) {\n        information.modal = false;\n        if (this.informations[index + 1] !== undefined) {\n            this.informations[index + 1].modal = true;\n        }\n    }\n\n    /**\n     * 非会員お知らせ取得\n     */\n    private getInformation() {\n        return [\n            {\n                id: '2018071700',\n                description: 'シネマサンシャインアプリがパワーアップ!<br>会員登録をしてお得に映画鑑賞しよう。',\n                images: [],\n                button: { label: '会員登録はこちらから', link: '/benefits' }\n            }\n        ];\n    }\n\n    /**\n     * 会員お知らせ取得\n     */\n    private getMemberInformation() {\n        return [];\n    }\n}\n","<div class=\"cover fixed-top fixed-bottom\" [class.active]=\"show\"></div>\n<div class=\"loading fixed-top fixed-bottom\" [class.active]=\"show\">\n    <div class=\"loader\">Loading...</div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-loading',\n    templateUrl: './loading.component.html',\n    styleUrls: ['./loading.component.scss']\n})\nexport class LoadingComponent implements OnInit {\n    @Input() public show: boolean;\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() { }\n}\n","<div *ngIf=\"maintenanceInfo.isMaintenance\">\n    <h2 class=\"mb-3 large-text text-center\">メンテナンスのお知らせ</h2>\n    <p class=\"read mb-3\">\n        {{ maintenanceInfo.maintenanceText }}\n    </p>\n    <p class=\"large-text\">\n        メンテナンス期間\n        <br> {{ maintenanceInfo.startDate | date: 'MM/dd HH:mm' }} - {{ maintenanceInfo.endDate | date: 'MM/dd HH:mm' }}\n    </p>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { IMaintenance } from '../../../services/maintenance/maintenance.service';\n\n@Component({\n    selector: 'app-maintenance',\n    templateUrl: './maintenance.component.html',\n    styleUrls: ['./maintenance.component.scss']\n})\nexport class MaintenanceComponent implements OnInit {\n    @Input() public maintenanceInfo: IMaintenance;\n\n    constructor() { }\n\n    public ngOnInit() {\n    }\n\n}\n","<h2 class=\"text-center mb-3 large-text\">会員になると\n    <br>オトクな特典がいっぱい</h2>\n<ol class=\"text-center large-text\">\n    <li class=\"mb-4\">\n        <div class=\"under-line mb-1\">特典 1</div>\n        <p class=\"mb-3\">見れば見るほどポイントがお得に貯まる</p>\n        <div class=\"text-center\">\n            <img src=\"/assets/images/member/benefits_01.svg\" width=\"230\" height=\"150\">\n        </div>\n    </li>\n    <li class=\"mb-4\">\n        <div class=\"under-line mb-1\">特典 2</div>\n        <p class=\"mb-3\">ポイントを使用して無料鑑賞</p>\n        <div class=\"text-center\">\n            <img src=\"/assets/images/member/benefits_02.svg\" width=\"230\" height=\"150\">\n        </div>\n    </li>\n    <li>\n        <div class=\"under-line mb-1\">特典 3</div>\n        <p class=\"mb-3\">会員登録でスムーズに購入</p>\n        <div class=\"text-center\">\n            <img src=\"/assets/images/member/benefits_03.svg\" width=\"230\" height=\"150\">\n        </div>\n    </li>\n</ol>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-membership-benefits',\n    templateUrl: './membership-benefits.component.html',\n    styleUrls: ['./membership-benefits.component.scss']\n})\nexport class MembershipBenefitsComponent implements OnInit {\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<div class=\"parent\" [class.active]=\"open\">\n    <div class=\"cover\" (click)=\"close.emit()\"></div>\n    <div class=\"content position-center\">\n        <div class=\"inner\">\n            <div *ngIf=\"layout\">\n                <div class=\"modal-body\">\n                    <ng-content></ng-content>\n                </div>\n            </div>\n            <div *ngIf=\"!layout\">\n                <ng-content select=\"[inner]\"></ng-content>\n            </div>\n        </div>\n        <div class=\"close-button\">\n            <a class=\"modal-close\" (click)=\"close.emit()\">\n                <app-icon iconName=\"close-white\" width=\"25\" height=\"25\"></app-icon>\n            </a>\n        </div>\n    </div>\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n    selector: 'app-modal',\n    templateUrl: './modal.component.html',\n    styleUrls: ['./modal.component.scss']\n})\nexport class ModalComponent implements OnInit {\n    @Input() public open: boolean;\n    @Input() public layout: boolean;\n    @Output() public close = new EventEmitter();\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","<ul class=\"mb-0\">\n    <li routerLink=\"/member/mypage\" routerLinkActive=\"active\">\n        <div class=\"mb-1 \">\n            <app-icon iconName=\"home-white\" width=\"15\" height=\"15\"></app-icon>\n        </div>\n        <div class=\"small-x-text\">TOP</div>\n    </li>\n    <li routerLink=\"/ticket\" routerLinkActive=\"active\">\n        <div class=\"mb-1\">\n            <app-icon iconName=\"ticket-holder-white\" width=\"15\" height=\"15\"></app-icon>\n        </div>\n        <div class=\"small-x-text\">購入済み\n            <br>チケットホルダー</div>\n    </li>\n    <!-- <li routerLink=\"/member/point\" routerLinkActive=\"active\">\n        <div class=\"mb-1\">\n            <app-icon iconName=\"point-white\" width=\"15\" height=\"15\"></app-icon>\n        </div>\n        <div class=\"small-x-text\">会員ポイント</div>\n    </li> -->\n    <li routerLink=\"/purchase\" routerLinkActive=\"active\">\n        <div class=\"mb-1\">\n            <app-icon iconName=\"purchase-white\" width=\"15\" height=\"15\"></app-icon>\n        </div>\n        <div class=\"small-x-text\">チケット購入</div>\n    </li>\n    \n</ul>","/**\n * NavigationComponent\n */\nimport { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../../services/user/user.service';\n\n@Component({\n    selector: 'app-navigation',\n    templateUrl: './navigation.component.html',\n    styleUrls: ['./navigation.component.scss']\n})\n/**\n * ナビゲーション\n * @class NavigationComponent\n * @implements OnInit\n */\nexport class NavigationComponent implements OnInit {\n\n    constructor(\n        public user: UserService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() { }\n\n}\n","<div class=\"scroll\" [class.touch]=\"touch\">\n  <ng-content></ng-content>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-page',\n    templateUrl: './page.component.html',\n    styleUrls: ['./page.component.scss']\n})\nexport class PageComponent implements OnInit {\n    @Input() public touch?: boolean;\n    constructor() { }\n\n    public ngOnInit() {\n        if (this.touch === undefined) {\n            this.touch = true;\n        }\n    }\n\n}\n","<div class=\"history\">\n    <div class=\"info\">\n        <div class=\"circle\" [class.circle-blue]=\"circle === 'blue'\"></div>\n        <p class=\"mb-1\" [innerHtml]=\"description\"></p>\n        <div class=\"small-text\">{{ date }}</div>\n    </div>\n    <div class=\"point text-right\">\n        <span class=\"large-x-text\">{{ amount }}</span>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'app-point-history-list',\n    templateUrl: './point-history-list.component.html',\n    styleUrls: ['./point-history-list.component.scss']\n})\nexport class PointHistoryListComponent implements OnInit {\n    @Input() public action: factory.pecorino.action.transfer.moneyTransfer.IAction;\n    @Input() public accountNumber: string;\n    public circle: string;\n    public description: string;\n    public amount: string;\n    public date: string;\n\n    constructor() { }\n\n    public ngOnInit() {\n        const transactionType = factory.pecorino.transactionType;\n        this.date = moment(this.action.endDate).format('YYYY年MM月DD日');\n        this.description = (this.action.description !== undefined)\n            ? this.action.description.replace(/\\,/g, '<br>')\n            : '';\n        if (this.action.purpose.typeOf === transactionType.Deposit\n            && this.action.amount < 0) {\n            this.circle = 'blue';\n            this.amount = String(this.action.amount);\n        } else if (this.action.purpose.typeOf === transactionType.Deposit\n            && this.action.amount > 0) {\n            this.amount = `+${this.action.amount}`;\n        } else if (this.action.purpose.typeOf === transactionType.Transfer\n            && (<any>this.action.fromLocation).accountNumber === this.accountNumber) {\n            this.circle = 'blue';\n            this.amount = String(this.action.amount * -1);\n        } else if (this.action.purpose.typeOf === transactionType.Transfer\n            && (<any>this.action.fromLocation).accountNumber !== this.accountNumber) {\n            this.circle = 'blue';\n            this.amount = String(this.action.amount);\n        }\n    }\n\n}\n","<div class=\"swiper-container mb-3\" [swiper]=\"config\">\n    <div class=\"swiper-wrapper\">\n        <div *ngFor=\"let stampGroup of stamps\" class=\"swiper-slide\">\n            <ul class=\"mb-0\">\n                <li *ngFor=\"let stamp of stampGroup\">\n                    <div *ngIf=\"stamp.status\" class=\"stamp small-x-text text-center\">CINEMA<br>SUNSHINE</div>\n                    <div *ngIf=\"!stamp.status\" class=\"label text-center\">{{ stamp.label }}</div>\n                    <!-- <div *ngIf=\"stamp.label === 2\" class=\"description text-center small-x-text\">1,100円鑑賞券 GET</div> -->\n                    <div *ngIf=\"stamp.label === 6\" class=\"description text-center small-x-text\">無料鑑賞券 GET</div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n<div class=\"pagination-wrapper\">\n    <div class=\"swiper-pagination\"></div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { SwiperConfigInterface, SwiperPaginationInterface } from 'ngx-swiper-wrapper';\n\n@Component({\n    selector: 'app-point-stamps',\n    templateUrl: './point-stamps.component.html',\n    styleUrls: ['./point-stamps.component.scss']\n})\nexport class PointStampsComponent implements OnInit {\n    @Input() public point: number;\n    public config: SwiperConfigInterface;\n    public stamps: {\n        label: number;\n        status: boolean;\n    }[][];\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        const pagination: SwiperPaginationInterface = {\n            el: '.swiper-pagination',\n            type: 'fraction',\n            clickable: true\n        };\n        this.config = {\n            pagination: pagination,\n            autoHeight: true\n        };\n\n        const stampGroupLimit = 6;\n        // グループリスト作成\n        this.stamps = [];\n        const loop = (this.point === 0) ? 1 : Math.ceil(this.point / stampGroupLimit);\n        for (let i = 0; i < loop; i++) {\n            // グループ作成\n            const stampGroup = [];\n            for (let j = 0; j < stampGroupLimit; j++) {\n                stampGroup.push({\n                    label: (j % 6) + 1,\n                    status: false\n                });\n            }\n            this.stamps.push(stampGroup);\n        }\n        // ステータス反映\n        this.stamps.forEach((group, groupIndex) => {\n            group.forEach((stamp, index) => {\n                stamp.status = (groupIndex * stampGroupLimit) + index < this.point;\n            });\n        });\n\n    }\n\n}\n","<div class=\"performance py-3 mx-3\" [ngClass]=\"(salseFlg) ? (performance.offer.availability | availability).className : ''\">\n    <div class=\"date\">\n        <div class=\"mb-1 text-center\">\n            <strong class=\"large-text\">{{ performance.startDate | timeFormat: performance.coaInfo.dateJouei }}</strong>\n        </div>\n        <div class=\"text-center\">\n            <span>～ {{ performance.endDate | timeFormat: performance.coaInfo.dateJouei }}</span>\n        </div>\n    </div>\n    <div class=\"screen small-x-text\">{{ performance.location.name.ja }}</div>\n    <div class=\"small-text btn rounded-0 py-2\" (click)=\"(salseFlg) ? select.emit() : null;\">\n        <div *ngIf=\"salseFlg\" class=\"status\">\n                <app-icon [iconName]=\"(performance.offer.availability | availability).icon\" width=\"15\" height=\"15\"></app-icon>購入\n        </div>\n        <div *ngIf=\"!salseFlg\" class=\"status window small-x-text\">窓口</div>\n    </div>\n    <div *ngIf=\"performance.coaInfo.kbnService?.kubunCode === '001'\" class=\"service\">\n        <app-icon iconName=\"first-show-black\" width=\"10\" height=\"10\"></app-icon>\n    </div>\n    <div *ngIf=\"performance.coaInfo.kbnService?.kubunCode === '002'\" class=\"service\">\n        <app-icon iconName=\"late-show-black\" width=\"10\" height=\"10\"></app-icon>\n    </div>\n</div>","/**\n * PurchasePerformanceFilmComponent\n */\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport * as moment from 'moment';\nimport { IIndividualScreeningEvent } from '../../../services/schedule/schedule.service';\n\n@Component({\n    selector: 'app-purchase-performance-film',\n    templateUrl: './purchase-performance-film.component.html',\n    styleUrls: ['./purchase-performance-film.component.scss']\n})\nexport class PurchasePerformanceFilmComponent implements OnInit {\n    @Input() public performance: IIndividualScreeningEvent;\n    @Output() public select: EventEmitter<{}> = new EventEmitter();\n    public salseFlg: boolean;\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        this.salseFlg = moment(this.performance.startDate).unix() > moment().add(30, 'minutes').unix();\n    }\n\n}\n\n","<div class=\"performance mb-1\" [ngClass]=\"(salseFlg) ? (performance.offer.availability | availability).className : ''\"\n    (click)=\"(salseFlg) ? select.emit() : null;\">\n    <div class=\"date\">\n        <div class=\"mb-1 text-center\">\n            <strong class=\"large-text\">{{ performance.startDate | timeFormat: performance.coaInfo.dateJouei }}</strong>\n        </div>\n        <div class=\"text-center\">\n            <span>～ {{ performance.endDate | timeFormat: performance.coaInfo.dateJouei }}</span>\n        </div>\n    </div>\n    <div class=\"status-cover\">\n        <div *ngIf=\"salseFlg\" class=\"status\">\n            <app-icon [iconName]=\"(performance.offer.availability | availability).icon\" width=\"15\" height=\"15\"></app-icon>\n        </div>\n        <div *ngIf=\"!salseFlg\" class=\"status window small-x-text\">窓口</div>\n    </div>\n    <div class=\"info\">\n        <div class=\"screen small-x-text mb-1\">{{ performance.location.name.ja }}</div>\n        <div class=\"duration small-x-text\">{{ performance.workPerformed.duration | duration: 'minutes' }}分</div>\n        <p class=\"title\">{{ performance.name.ja }}</p>\n    </div>\n    <div *ngIf=\"performance.coaInfo.kbnService?.kubunCode === '001'\" class=\"service\">\n        <app-icon iconName=\"first-show-white\" width=\"10\" height=\"10\"></app-icon>\n    </div>\n    <div *ngIf=\"performance.coaInfo.kbnService?.kubunCode === '002'\" class=\"service\">\n        <app-icon iconName=\"late-show-white\" width=\"10\" height=\"10\"></app-icon>\n    </div>\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport * as moment from 'moment';\nimport { IIndividualScreeningEvent } from '../../../services/schedule/schedule.service';\n\n@Component({\n    selector: 'app-purchase-performance-time',\n    templateUrl: './purchase-performance-time.component.html',\n    styleUrls: ['./purchase-performance-time.component.scss']\n})\nexport class PurchasePerformanceTimeComponent implements OnInit {\n    @Input() public performance: IIndividualScreeningEvent;\n    @Output() public select: EventEmitter<{}> = new EventEmitter();\n    public salseFlg: boolean;\n\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n        const addMinutes = 30;\n        const startDate = moment(this.performance.startDate).unix();\n        const addDate = moment().add(addMinutes, 'minutes').unix();\n        this.salseFlg = (startDate > addDate);\n    }\n\n}\n","<div class=\"steps not-print float-right clearfix\">\n    <ul>\n        <li class=\"step step-01\" [class.active]=\"url === '/purchase/seat'\"><div class=\"text\">座席選択</div></li>\n        <li class=\"step step-02\" [class.active]=\"url === '/purchase/ticket'\"><div class=\"text\">券種選択</div></li>\n        <li class=\"step step-03\" [class.active]=\"url === '/purchase/input'\"><div class=\"text\">情報入力</div></li>\n        <li class=\"step step-04\" [class.active]=\"url === '/purchase/confirm'\"><div class=\"text\">確認</div></li>\n        <li class=\"step step-05\" [class.active]=\"url === '/purchase/complete'\"><div class=\"text\">購入完了</div></li>\n    </ul>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\n\n@Component({\n    selector: 'app-purchase-step',\n    templateUrl: './purchase-step.component.html',\n    styleUrls: ['./purchase-step.component.scss']\n})\nexport class PurchaseStepComponent implements OnInit {\n    public url: string;\n    constructor(\n        private router: Router\n    ) { }\n\n    public ngOnInit() {\n        this.changePage(this.router.url);\n        this.router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                this.changePage(event.url);\n            }\n        });\n    }\n\n    /**\n     * ページ変更\n     * @method changePage\n     */\n    private changePage(url: string) {\n        this.url = url;\n    }\n\n}\n","<div class=\"radius bg-light-gray\">\n    <div class=\"screen\" [class.zoom]=\"zoomState\" style=\"visibility: visible;\" (window:resize)=\"resize()\">\n        <div [class.active]=\"zoomState\" class=\"zoom-btn text-center small-x-text p-3\" (click)=\"scaleDown()\">\n            ズーム\n            <br>解除\n        </div>\n        <div *ngIf=\"data\" class=\"screen-scroll\" [ngStyle]=\"{ \n            'height.px': height,\n            'transform-origin': origin,\n            'transform': 'scale(' + scale + ')'\n        }\">\n            <div class=\"screen-inner {{ data.screenType }} screen-{{ theaterCode }}-{{ screenCode }}\" [ngStyle]=\"{ 'width.px': data.screen.size.w, 'height.px': data.screen.size.h }\"\n                (click)=\"scaleUp($event)\">\n\n                <div *ngFor=\"let object of data.objects\" class=\"object\" [ngStyle]=\"{\n                    'width.px': object.w, \n                    'height.px': object.h, \n                    'top.px': object.y, \n                    'left.px': object.x, \n                    'background-image': 'url(' + object.image + ')',\n                    'background-size': object.w + 'px ' +object.h + 'px'\n                }\"></div>\n\n                <div *ngFor=\"let columnLabel of data.columnLabels\" class=\"object label-object column-object column-object-{{ columnLabel.id }}\"\n                    [ngStyle]=\"{\n                    'width.px': columnLabel.w,\n                    'height.px': columnLabel.h, \n                    'top.px': columnLabel.y, \n                    'left.px': columnLabel.x\n                }\">{{ columnLabel.label }}</div>\n\n                <div *ngFor=\"let lineLabel of data.lineLabels\" class=\"object label-object line-object line-object-{{ lineLabel.id }}\" [ngStyle]=\"{\n                    'width.px': lineLabel.w,\n                    'height.px': lineLabel.h, \n                    'top.px': lineLabel.y, \n                    'left.px': lineLabel.x\n                }\">{{ lineLabel.label }}</div>\n\n\n                <div *ngFor=\"let seat of data.seats\" class=\"seat {{ seat.className }}\" [ngStyle]=\"{\n                    'top.px': seat.y, \n                    'left.px': seat.x\n                }\">\n                    <a class=\"{{ seat.status }}\" [ngStyle]=\"{\n                        'width.px': seat.w,\n                        'height.px': seat.h\n                    }\" (click)=\"seatSelect(seat)\">\n                        <span>{{ seat.label }}</span>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class=\"device-type-pc\"></div>\n        <div class=\"device-type-sp\"></div>\n        <div class=\"screen-style\"></div>\n    </div>\n    <div *ngIf=\"data\" class=\"{{ data.screenType }}\">\n        <ng-content></ng-content>\n    </div>\n</div>","import { HttpClient } from '@angular/common/http';\nimport { AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport * as COA from '@motionpicture/coa-service';\nimport 'rxjs/add/operator/toPromise';\nimport { PurchaseService } from '../../../services/purchase/purchase.service';\nimport { SasakiService } from '../../../services/sasaki/sasaki.service';\n\n@Component({\n    selector: 'app-screen',\n    templateUrl: './screen.component.html',\n    styleUrls: ['./screen.component.scss']\n})\nexport class ScreenComponent implements OnInit, AfterViewInit {\n    public static ZOOM_SCALE = 1;\n    @Input() public inputData: IInputScreenData;\n    @Input() public test: boolean;\n    @Output() public select = new EventEmitter<ISeat[]>();\n    @Output() public alert = new EventEmitter();\n    @Output() public load = new EventEmitter<ISeat[]>();\n    public data: IData;\n    public zoomState: boolean;\n    public scale: number;\n    public height: number;\n    public origin: string;\n\n    constructor(\n        private elementRef: ElementRef,\n        private http: HttpClient,\n        private purchase: PurchaseService,\n        private sasaki: SasakiService,\n        private router: Router\n    ) { }\n\n    /**\n     * 初期化\n     */\n    public async ngOnInit() {\n        this.zoomState = false;\n        this.scale = 1;\n        this.height = 0;\n        this.origin = '0 0';\n        try {\n            const data = await this.getData();\n            this.data = this.createScreen(data);\n        } catch (err) {\n            console.log(err);\n            this.router.navigate(['/error']);\n        }\n    }\n\n    /**\n     * レンダリング後処理\n     */\n    public ngAfterViewInit() {\n        const time = 300;\n        const timer = setInterval(() => {\n            if (this.data !== undefined) {\n                clearInterval(timer);\n                const screenElement = document.querySelector('.screen-style');\n                if (screenElement !== null && this.data.screen.style !== undefined) {\n                    screenElement.innerHTML = this.data.screen.style;\n                }\n                this.scaleDown();\n                this.load.emit(this.getSelectSeats());\n            }\n        }, time);\n    }\n\n    /**\n     * モバイル判定\n     * @method isMobile\n     * @returns {boolean}\n     */\n    public isMobile(): boolean {\n        if (window.innerWidth > 768) {\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * 選択座席取得\n     * @method getSelectSeats\n     * @returns {Iseat[]}\n     */\n    public getSelectSeats(): ISeat[] {\n        return this.data.seats.filter((seat) => {\n            return (seat.status === 'active');\n        });\n    }\n\n    /**\n     * 座席選択\n     * @method seatSelect\n     * @param {Event} event\n     * @param {Iseat} seat\n     */\n    public seatSelect(seat: ISeat) {\n        if (this.isMobile() && !this.zoomState) {\n            return;\n        }\n        if (seat.status === 'default') {\n            seat.status = 'active';\n        } else if (seat.status === 'active') {\n            seat.status = 'default';\n        }\n        const individualScreeningEvent = this.purchase.data.individualScreeningEvent;\n        if (individualScreeningEvent !== undefined\n            && individualScreeningEvent.coaInfo.availableNum < this.getSelectSeats().length) {\n            seat.status = 'default';\n            this.alert.emit();\n\n            return;\n        }\n        this.select.emit(this.getSelectSeats());\n    }\n\n    /**\n     * 拡大\n     * @method scaleUp\n     * @param {Event} event\n     * @returns {void}\n     */\n    public scaleUp(event: MouseEvent) {\n        if (this.zoomState) {\n            return;\n        }\n        if (!this.isMobile()) {\n            return;\n        }\n        this.zoomState = true;\n        const element: HTMLElement = this.elementRef.nativeElement;\n        const screen = <HTMLDivElement>element.querySelector('.screen');\n        const scroll = <HTMLDivElement>element.querySelector('.screen-scroll');\n        const rect = scroll.getBoundingClientRect();\n        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n        const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n        const offset = {\n            top: rect.top + scrollTop,\n            left: rect.left + scrollLeft\n        };\n        const pos = {\n            x: event.pageX - offset.left,\n            y: event.pageY - offset.top\n        };\n        const scrollPos = {\n            x: pos.x / this.scale - screen.offsetWidth / 2,\n            y: pos.y / this.scale - screen.offsetHeight / 2,\n        };\n        this.scale = ScreenComponent.ZOOM_SCALE;\n        this.origin = '50% 50%';\n\n        setTimeout(() => {\n            scroll.scrollLeft = scrollPos.x;\n            scroll.scrollTop = scrollPos.y;\n        }, 0);\n    }\n\n    /**\n     * 縮小\n     * @method scaleDown\n     * @returns {void}\n     */\n    public scaleDown(): void {\n        const element: HTMLElement = this.elementRef.nativeElement;\n        const screen = <HTMLDivElement>element.querySelector('.screen');\n        this.zoomState = false;\n        const scale = screen.offsetWidth / this.data.screen.size.w;\n        this.scale = (scale > ScreenComponent.ZOOM_SCALE) ? ScreenComponent.ZOOM_SCALE : scale;\n        this.height = this.data.screen.size.h * this.scale;\n        this.origin = '0 0';\n    }\n\n    /**\n     * リサイズ処理\n     * @method resize\n     */\n    public resize(): void {\n        this.scaleDown();\n    }\n\n    /**\n     * データ取得\n     * @method getData\n     */\n    public async getData(): Promise<{\n        screen: IScreen,\n        status: COA.services.reserve.IStateReserveSeatResult\n    }> {\n        const DIGITS = {\n            '02': -2,\n            '03': -3\n        };\n        const theaterCode = `00${this.inputData.theaterCode}`.slice(DIGITS['02']);\n        const screenCode = `000${this.inputData.screenCode}`.slice(DIGITS['03']);\n        const screen = await this.http.get<IScreen>(`/assets/json/theater/${theaterCode}/${screenCode}.json`).toPromise();\n        const setting = await this.http.get<IScreen>('/assets/json/theater/setting.json').toPromise();\n\n        await this.sasaki.getServices();\n        let seatStatus;\n        if (this.test) {\n            seatStatus = (<any>{ listSeat: [] });\n        } else {\n            seatStatus = await this.sasaki.getSeatState({\n                theaterCode: this.inputData.theaterCode,\n                dateJouei: this.inputData.dateJouei,\n                titleCode: this.inputData.titleCode,\n                titleBranchNum: this.inputData.titleBranchNum,\n                timeBegin: this.inputData.timeBegin,\n                screenCode: this.inputData.screenCode\n            });\n        }\n        // スクリーンデータをマージ\n        return {\n            screen: Object.assign(setting, screen),\n            status: seatStatus\n        };\n    }\n\n    /**\n     * スクリーン作成\n     */\n    public createScreen(data: {\n        screen: IScreen,\n        status: COA.services.reserve.IStateReserveSeatResult\n    }): IData {\n        // console.log(data.screen);\n        const screenData = data.screen;\n        const seatStatus = data.status;\n        // y軸ラベル\n        const labels: string[] = [];\n        const startLabelNo = 65;\n        const endLabelNo = 91;\n        for (let i = startLabelNo; i < endLabelNo; i++) {\n            labels.push(String.fromCharCode(i));\n        }\n        // 行ラベル\n        const lineLabels: ILabel[] = [];\n        // 列ラベル\n        const columnLabels: ILabel[] = [];\n        // 座席リスト\n        const seats: ISeat[] = [];\n\n        const toFullWidth = (value: string) => {\n            return value.replace(/./g, (s: string) => {\n                return String.fromCharCode(s.charCodeAt(0) + 0xFEE0);\n            });\n        };\n        const pos = { x: 0, y: 0 };\n        let labelCount = 0;\n        for (let y = 0; y < screenData.map.length; y++) {\n            if (y === 0) {\n                pos.y = 0;\n            }\n            // ポジション設定\n            if (y === 0) {\n                pos.y += screenData.seatStart.y;\n            } else if (screenData.map[y].length === 0) {\n                pos.y += screenData.aisle.middle.h - screenData.seatMargin.h;\n            } else {\n                labelCount++;\n                pos.y += screenData.seatSize.h + screenData.seatMargin.h;\n            }\n\n            for (let x = 0; x < screenData.map[y].length; x++) {\n                if (x === 0) {\n                    pos.x = screenData.seatStart.x;\n                }\n\n                // 座席ラベルHTML生成\n                if (x === 0) {\n                    lineLabels.push({\n                        id: labelCount,\n                        w: screenData.seatSize.w,\n                        h: screenData.seatSize.h,\n                        y: pos.y,\n                        x: pos.x - screenData.seatLabelPos,\n                        label: labels[labelCount]\n                    });\n                }\n\n                if (screenData.map[y][x] === 8) {\n                    pos.x += screenData.aisle.middle.w;\n                } else if (screenData.map[y][x] === 9) {\n                    pos.x += screenData.aisle.middle.w;\n                } else if (screenData.map[y][x] === 10) {\n                    pos.x += (screenData.seatSize.w / 2) + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 11) {\n                    pos.x += (screenData.seatSize.w / 2) + screenData.seatMargin.w;\n                }\n\n                // 座席番号HTML生成\n                if (y === 0) {\n\n                    const label = (data.screen.seatNumberAlign === 'left')\n                        ? String(x + 1)\n                        : String(screenData.map[0].length - x);\n                    columnLabels.push({\n                        id: x,\n                        w: screenData.seatSize.w,\n                        h: screenData.seatSize.h,\n                        y: pos.y - screenData.seatNumberPos,\n                        x: pos.x,\n                        label: label\n                    });\n\n                }\n                if (screenData.map[y][x] === 1\n                    || screenData.map[y][x] === 4\n                    || screenData.map[y][x] === 5\n                    || screenData.map[y][x] === 8\n                    || screenData.map[y][x] === 10) {\n                    // 座席HTML生成\n                    const code = (data.screen.seatNumberAlign === 'left')\n                        ? `${toFullWidth(labels[labelCount])}－${toFullWidth(String(x + 1))}`\n                        : `${toFullWidth(labels[labelCount])}－${toFullWidth(String(screenData.map[y].length - x))}`;\n                    const label = (data.screen.seatNumberAlign === 'left')\n                        ? `${labels[labelCount]}${String(x + 1)}`\n                        : `${labels[labelCount]}${String(screenData.map[y].length - x)}`;\n                    let section = '';\n                    let status = 'disabled';\n                    for (const listSeat of seatStatus.listSeat) {\n                        const targetSeat = listSeat.listFreeSeat.find((freeSeat) => {\n                            return (freeSeat.seatNum === code);\n                        });\n                        if (targetSeat !== undefined) {\n                            section = listSeat.seatSection;\n                            status = 'default';\n                            break;\n                        }\n                    }\n                    // 選択中\n                    if (this.purchase.data.tmpSeatReservationAuthorization !== undefined) {\n                        const targetOffer = this.purchase.data.tmpSeatReservationAuthorization.object.offers.find((offer) => {\n                            return (offer.seatNumber === code);\n                        });\n                        if (targetOffer !== undefined) {\n                            section = targetOffer.seatSection;\n                            status = 'active';\n                        }\n                    }\n\n                    const seat = {\n                        className: `seat-${label}`,\n                        w: screenData.seatSize.w,\n                        h: screenData.seatSize.h,\n                        y: pos.y,\n                        x: pos.x,\n                        label: label,\n                        code: code,\n                        section: section,\n                        status: status\n                    };\n                    if (screenData.hc.indexOf(label) !== -1) {\n                        seat.className = `seat-${label} seat-hc`;\n                    }\n                    seats.push(seat);\n                }\n                // ポジション設定\n                if (screenData.map[y][x] === 2) {\n                    pos.x += screenData.aisle.middle.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 3) {\n                    pos.x += screenData.aisle.small.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 4) {\n                    pos.x += screenData.aisle.middle.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 5) {\n                    pos.x += screenData.aisle.small.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 6) {\n                    pos.x += screenData.aisle.middle.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else if (screenData.map[y][x] === 7) {\n                    pos.x += screenData.aisle.small.w + screenData.seatSize.w + screenData.seatMargin.w;\n                } else {\n                    pos.x += screenData.seatSize.w + screenData.seatMargin.w;\n                }\n            }\n        }\n        // スクリーンタイプ\n        const screenType = (screenData.type === 1)\n            ? 'screen-imax' : (screenData.type === 2)\n                ? 'screen-4dx' : '';\n\n        return {\n            screen: screenData,\n            objects: screenData.objects,\n            screenType: screenType,\n            lineLabels: (data.screen.lineLabel) ? lineLabels : [],\n            columnLabels: (data.screen.columnLabel) ? columnLabels : [],\n            seats: seats\n        };\n    }\n}\n\ninterface ISize {\n    w: number;\n    h: number;\n}\n\ninterface IPosition {\n    x: number;\n    y: number;\n}\n\ninterface IObject extends ISize, IPosition {\n    image: string;\n}\n\ninterface IScreen {\n    type: number;\n    size: ISize;\n    objects: IObject[];\n    seatStart: IPosition;\n    map: number[][];\n    special: string[];\n    hc: string[];\n    pair: string[];\n    seatSize: ISize;\n    seatMargin: ISize;\n    aisle: {\n        small: ISize;\n        middle: ISize;\n    };\n    seatLabelPos: number;\n    seatNumberPos: number;\n    seatNumberAlign: 'left' | 'right';\n    html: string;\n    style?: string;\n    columnLabel: boolean;\n    lineLabel: boolean;\n}\n\ninterface ILabel {\n    id: number;\n    w: number;\n    h: number;\n    y: number;\n    x: number;\n    label: string;\n}\n\nexport interface ISeat {\n    className: string;\n    w: number;\n    h: number;\n    y: number;\n    x: number;\n    label: string;\n    code: string;\n    section: string;\n    status: string;\n}\n\ninterface IData {\n    screen: IScreen;\n    objects: IObject[];\n    screenType: string;\n    lineLabels: ILabel[];\n    columnLabels: ILabel[];\n    seats: ISeat[];\n}\n\nexport interface IInputScreenData {\n    theaterCode: string;\n    dateJouei: string;\n    titleCode: string;\n    titleBranchNum: string;\n    timeBegin: string;\n    screenCode: string;\n}\n","<div class=\"seat-info\" [class.screen-4dx]=\"type === '002'\">\n    <div class=\"bg-white p-3 d-flex justify-content-around text-dark small-text\">\n        <div class=\"seat\">\n            <strong>空席</strong>\n        </div>\n        <div class=\"seat active\">\n            <strong>選択済</strong>\n        </div>\n        <div class=\"seat disabled\">\n            <strong>選択不可</strong>\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-seat-info',\n  templateUrl: './seat-info.component.html',\n  styleUrls: ['./seat-info.component.scss']\n})\nexport class SeatInfoComponent implements OnInit {\n  @Input() public type: string;\n  constructor() { }\n\n  public ngOnInit() {\n  }\n\n}\n","<div *ngIf=\"reservation.reservedTickets.length > 0\" class=\"inner\">\n    <div class=\"info\">\n        <dl class=\"film mb-0\">\n            <dt><app-icon iconName=\"film-name-gray\" width=\"15\" height=\"15\"></app-icon></dt>\n            <dd class=\"mb-0\">{{ reservation.reservationsFor[0].name.ja }}</dd>\n        </dl>\n        <dl class=\"date mb-0\">\n            <dt><app-icon iconName=\"date-gray\" width=\"15\" height=\"15\"></app-icon></dt>\n            <dd class=\"mb-0\">\n                {{ reservation.reservationsFor[0].coaInfo.dateJouei | amLocal | amDateFormat: 'YYYY/MM/DD' }} {{\n                reservation.reservationsFor[0].startDate | timeFormat: reservation.reservationsFor[0].coaInfo.dateJouei\n                }}-{{ reservation.reservationsFor[0].endDate | timeFormat: reservation.reservationsFor[0].coaInfo.dateJouei\n                }}\n            </dd>\n        </dl>\n        <dl class=\"theater mb-0\">\n            <dt><app-icon iconName=\"location-gray\" width=\"15\" height=\"15\"></app-icon></dt>\n            <dd class=\"mb-0\">\n                {{ reservation.reservationsFor[0].superEvent.location.name.ja }} / {{ reservation.reservationsFor[0].location.name.ja\n                }}\n            </dd>\n        </dl>\n    </div>\n    <div *ngIf=\"!isAuthentication\" class=\"details p-3\">\n        <button type=\"button\" class=\"small-text btn btn-success center btn-block py-3 rounded-0\" (click)=\"authentication()\">認証して詳細表示</button>\n    </div>\n    <div *ngIf=\"isAuthentication\" class=\"details\">\n        <div *ngFor=\"let reservedTicket of reservation.reservedTickets; let index = index;\" class=\"detail\">\n            <div class=\"ticket-info\">\n                <div class=\"index small-text\">{{ (index + 1) }}/{{ reservation.reservedTickets.length }}</div>\n                <div class=\"mb-1 small-text\">{{ confirmationNumber }}</div>\n                <div class=\"large-x-text mb-1\">{{ reservedTicket.ticketedSeat.seatNumber }}</div>\n                <div class=\"small-text\">{{ reservedTicket.coaTicketInfo.ticketName }}</div>\n            </div>\n            <div *ngIf=\"!showQrCodeList[index]\" class=\"not-qr\">\n                <p class=\"inner small-text text-center\">\n                    鑑賞日前日から\n                    <br>QRコードが\n                    <br>表示されます。\n                </p>\n            </div>\n            <div *ngIf=\"showQrCodeList[index]\" class=\"qr\">\n                <img [src]=\"qrCodeList[index]\">\n            </div>\n        </div>\n    </div>\n</div>\n","/**\n * TicketDetailComponent\n */\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport * as moment from 'moment';\nimport * as qrcode from 'qrcode';\nimport { CallNativeService, FidoAction, IDeviceResult } from '../../../services/call-native/call-native.service';\nimport { IReservation } from '../../../services/reservation/reservation.service';\n\n@Component({\n    selector: 'app-ticket-detail',\n    templateUrl: './ticket-detail.component.html',\n    styleUrls: ['./ticket-detail.component.scss']\n})\nexport class TicketDetailComponent implements OnInit {\n    @Input() public reservation: IReservation;\n    @Input() public device: IDeviceResult;\n    @Output() public alert = new EventEmitter();\n    @Output() public start = new EventEmitter();\n    @Output() public end = new EventEmitter();\n    public showQrCodeList: boolean[];\n    public qrCodeList: string[];\n    public confirmationNumber: string;\n    public isAuthentication: boolean;\n\n    constructor(\n        private native: CallNativeService\n    ) { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public async ngOnInit() {\n        this.isAuthentication = false;\n        this.showQrCodeList = [];\n        this.qrCodeList = [];\n        this.confirmationNumber = this.reservation.confirmationNumber.split('-')[0];\n        for (let i = 0; i < this.reservation.reservedTickets.length; i++) {\n            // QR生成\n            const showQrCode = moment(this.reservation.reservationsFor[i].startDate).subtract(24, 'hours').unix() <= moment().unix();\n            this.showQrCodeList.push(showQrCode);\n            if (showQrCode) {\n                const ticketToken = this.reservation.reservedTickets[i].ticketToken;\n                const basicSize = 21;\n                const option: qrcode.QRCodeToDataURLOptions = {\n                    margin: 0,\n                    scale: (80 / basicSize)\n                };\n                const qrCode = await qrcode.toDataURL(ticketToken, option);\n                this.qrCodeList.push(qrCode);\n            }\n        }\n    }\n\n    /**\n     * 認証\n     */\n    public async authentication() {\n        this.start.emit();\n        try {\n            const authenticationResult = await this.native.fido({\n                action: FidoAction.Authentication,\n                user: `fido-frontend-${this.device.uuid}`\n            });\n            if (!authenticationResult.isSuccess) {\n                throw Error(authenticationResult.error);\n            }\n            this.isAuthentication = true;\n        } catch (err) {\n            this.alert.emit(err.message);\n        }\n        this.end.emit();\n    }\n\n}\n","<div class=\"position-center inner\">\n    <div class=\"mb-4 text-center\"><img src=\"/assets/images/ticket/no_ticket.svg\" width=\"145\" height=\"74\"></div>\n    <p class=\"mb-4 text-center\">現在鑑賞予定の作品はございません。</p>\n    <p class=\"text-center mb-5\"><a routerLink=\"/about\">このアプリについて</a></p>\n    <button type=\"button\" class=\"small-text btn btn-primary btn-block py-3 rounded-0\" routerLink=\"/purchase/schedule\">\n        <app-icon iconName=\"purchase-white\" width=\"15\" height=\"15\"></app-icon>チケットを購入\n    </button>\n</div>\n\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'app-ticket-not-found',\n    templateUrl: './ticket-not-found.component.html',\n    styleUrls: ['./ticket-not-found.component.scss']\n})\nexport class TicketNotFoundComponent implements OnInit {\n    @Input() public isMember: boolean;\n    constructor() { }\n\n    /**\n     * 初期化\n     * @method ngOnInit\n     */\n    public ngOnInit() {\n    }\n\n}\n","\n/**\n * AvailabilityPipe\n */\nimport { Pipe, PipeTransform } from '@angular/core';\n\nexport interface IAvailability {\n    symbolText: string;\n    icon: string;\n    className: string;\n}\n\n@Pipe({\n    name: 'availability'\n})\nexport class AvailabilityPipe implements PipeTransform {\n\n    /**\n     * 変換\n     * @method transform\n     * @param {number} value\n     */\n    public transform(value: number): IAvailability {\n        const availability = [\n            {\n                symbolText: '×',\n                icon: 'vacancy-full-white',\n                className: 'vacancy-full'\n            },\n            {\n                symbolText: '△',\n                icon: 'vacancy-little-white',\n                className: 'vacancy-little'\n            },\n            {\n                symbolText: '○',\n                icon: 'vacancy-large-white',\n                className: 'vacancy-large'\n            }\n        ];\n\n        return (value === 0)\n            ? availability[0] : (value <= 10)\n                ? availability[1] : availability[2];\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment';\n\n@Pipe({\n    name: 'dateFormat'\n})\nexport class DateFormatPipe implements PipeTransform {\n\n    public transform(date: string | Date, format: string): string {\n        return moment(date).format(format);\n    }\n\n}\n","/**\n * DurationPipe\n */\nimport { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment';\n\n@Pipe({\n    name: 'duration'\n})\nexport class DurationPipe implements PipeTransform {\n\n    /**\n     * 変換\n     * @method transform\n     * @param {any} value\n     * @param {string} format 単位\n     */\n    public transform(value: any, format: string): number {\n        let result: number;\n        switch (format) {\n            case 'milliseconds':\n                result = moment.duration(value).asMilliseconds();\n                break;\n            case 'seconds':\n                result = moment.duration(value).asSeconds();\n                break;\n            case 'minutes':\n                result = moment.duration(value).asMinutes();\n                break;\n            case 'hours':\n                result = moment.duration(value).asHours();\n                break;\n            case 'days':\n                result = moment.duration(value).asDays();\n                break;\n            case 'weeks':\n                result = moment.duration(value).asWeeks();\n                break;\n            case 'months':\n                result = moment.duration(value).asMonths();\n                break;\n            case 'years':\n                result = moment.duration(value).asYears();\n                break;\n            default:\n                result = moment.duration(value).asMilliseconds();\n                break;\n        }\n\n        return result;\n    }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as libphonenumber from 'libphonenumber-js';\n\n@Pipe({\n    name: 'libphonenumberFormat'\n})\nexport class LibphonenumberFormatPipe implements PipeTransform {\n\n    /**\n     * 電話番号変換\n     * @method transform\n     * @param {string} phoneNumber\n     * @param {string} countryCode\n     */\n    public transform(\n        phoneNumber: string,\n        countryCode?: libphonenumber.CountryCode,\n        format?: IFormat): string {\n        countryCode = (countryCode === undefined) ? 'JP' : countryCode;\n        format = (format === undefined) ? 'National' : format;\n        const parsedNumber = libphonenumber.parse(phoneNumber, countryCode);\n        return libphonenumber.format(parsedNumber, format).replace(/\\-/g, '');\n    }\n}\n\ntype IFormat = 'International' | 'E.164' | 'National' | 'RFC3966';\n","/**\n * TimeFormatPipe\n */\nimport { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment';\n\n@Pipe({\n  name: 'timeFormat'\n})\nexport class TimeFormatPipe implements PipeTransform {\n\n  /**\n   * 時間変換\n   * @method transform\n   * @param {Date | string} screeningTime\n   * @param {string} referenceDate\n   */\n  public transform(screeningTime: Date | string, referenceDate: string): string {\n    const HOUR = 60;\n    const DIGITS = -2;\n    const diff = moment(screeningTime).diff(moment(referenceDate), 'minutes');\n    const hour = (`00${Math.floor(diff / HOUR)}`).slice(DIGITS);\n    const minutes = moment(screeningTime).format('mm');\n\n    return `${hour}:${minutes}`;\n  }\n\n}\n","import { AuthLogoutComponent } from '../components/pages/auth/auth-logout/auth-logout.component';\nimport { AuthSelectComponent } from '../components/pages/auth/auth-select/auth-select.component';\nimport { AuthSigninComponent } from '../components/pages/auth/auth-signin/auth-signin.component';\nimport { AuthSignoutComponent } from '../components/pages/auth/auth-signout/auth-signout.component';\nimport { BaseComponent } from '../components/pages/base/base.component';\nimport { FidoGuardService } from '../services/fido-guard/fido-guard.service';\n\n/**\n * 認証ルーティング\n */\nexport const route = {\n    path: 'auth',\n    canActivate: [FidoGuardService],\n    children: [\n        { path: 'select', component: AuthSelectComponent },\n        { path: 'signin', component: AuthSigninComponent },\n        { path: 'signout', component: AuthSignoutComponent }\n    ]\n};\n\n/**\n * ログアウトルーティング\n */\nexport const logoutRoute = {\n    path: 'auth',\n    component: BaseComponent,\n    children: [\n        { path: 'logout', component: AuthLogoutComponent }\n    ]\n};\n","import { AboutComponent } from '../components/pages/about/about.component';\nimport { BaseComponent } from '../components/pages/base/base.component';\nimport { BenefitsComponent } from '../components/pages/benefits/benefits.component';\nimport { LawComponent } from '../components/pages/law/law.component';\nimport { PolicyComponent } from '../components/pages/policy/policy.component';\nimport { PrivacyComponent } from '../components/pages/privacy/privacy.component';\nimport { TicketComponent } from '../components/pages/ticket/ticket.component';\nimport { AuthGuardService } from '../services/auth-guard/auth-guard.service';\nimport { FidoGuardService } from '../services/fido-guard/fido-guard.service';\n\n/**\n * 共通ルーティング\n */\nexport const route = {\n    path: '',\n    component: BaseComponent,\n    canActivate: [FidoGuardService, AuthGuardService],\n    children: [\n        { path: 'ticket', component: TicketComponent },\n        { path: 'about', component: AboutComponent },\n        { path: 'policy', component: PolicyComponent },\n        { path: 'law', component: LawComponent },\n        { path: 'privacy', component: PrivacyComponent },\n        { path: 'benefits', component: BenefitsComponent }\n    ]\n};\n\n","import { BaseComponent } from '../components/pages/base/base.component';\nimport { FidoRegisterComponent } from '../components/pages/fido/fido-register/fido-register.component';\nimport { FidoRemoveComponent } from '../components/pages/fido/fido-remove/fido-remove.component';\n\n/**\n * 生体認証ルーティング\n */\nexport const route = {\n    path: 'fido',\n    children: [\n        { path: 'register', component: FidoRegisterComponent },\n        {\n            path: '',\n            component: BaseComponent,\n            children: [\n                { path: 'remove', component: FidoRemoveComponent }\n            ]\n        }\n    ]\n};\n","import { BaseComponent } from '../components/pages/base/base.component';\nimport { MemberBenefitsComponent } from '../components/pages/member/member-benefits/member-benefits.component';\nimport { MemberEditCreditComponent } from '../components/pages/member/member-edit-credit/member-edit-credit.component';\nimport { MemberEditProfileComponent } from '../components/pages/member/member-edit-profile/member-edit-profile.component';\nimport { MemberEditComponent } from '../components/pages/member/member-edit/member-edit.component';\nimport { MemberMypageComponent } from '../components/pages/member/member-mypage/member-mypage.component';\nimport { MemberPointHistoryComponent } from '../components/pages/member/member-point-history/member-point-history.component';\nimport { MemberPointComponent } from '../components/pages/member/member-point/member-point.component';\nimport { MemberWithdrawComponent } from '../components/pages/member/member-withdraw/member-withdraw.component';\nimport { AuthGuardService } from '../services/auth-guard/auth-guard.service';\nimport { FidoGuardService } from '../services/fido-guard/fido-guard.service';\nimport { MemberGuardService } from '../services/member-guard/member-guard.service';\nimport { ProgramMembershipGuardService } from '../services/program-membership-guard/program-membership-guard.service';\n\n/**\n * 会員ルーティング\n */\nexport const route = {\n    path: 'member',\n    component: BaseComponent,\n    canActivate: [\n        FidoGuardService,\n        AuthGuardService,\n        MemberGuardService,\n        ProgramMembershipGuardService\n    ],\n    children: [\n        { path: 'mypage', component: MemberMypageComponent },\n        { path: 'withdraw', component: MemberWithdrawComponent },\n        {\n            path: 'point',\n            children: [\n                { path: '', component: MemberPointComponent },\n                { path: 'benefits', component: MemberBenefitsComponent },\n                { path: 'history', component: MemberPointHistoryComponent }\n            ]\n        },\n        {\n            path: 'edit',\n            children: [\n                { path: '', component: MemberEditComponent },\n                { path: 'credit', component: MemberEditCreditComponent },\n                { path: 'profile', component: MemberEditProfileComponent }\n            ]\n        }\n    ]\n};\n","\nimport { BaseComponent } from '../components/pages/base/base.component';\nimport { PurchaseBaseComponent } from '../components/pages/purchase/purchase-base/purchase-base.component';\nimport { PurchaseCompleteComponent } from '../components/pages/purchase/purchase-complete/purchase-complete.component';\nimport { PurchaseConfirmComponent } from '../components/pages/purchase/purchase-confirm/purchase-confirm.component';\nimport { PurchaseInputComponent } from '../components/pages/purchase/purchase-input/purchase-input.component';\nimport { PurchaseScheduleComponent } from '../components/pages/purchase/purchase-schedule/purchase-schedule.component';\nimport { PurchaseSeatComponent } from '../components/pages/purchase/purchase-seat/purchase-seat.component';\nimport { PurchaseTicketComponent } from '../components/pages/purchase/purchase-ticket/purchase-ticket.component';\nimport { PurchaseTransactionComponent } from '../components/pages/purchase/purchase-transaction/purchase-transaction.component';\nimport { AuthGuardService } from '../services/auth-guard/auth-guard.service';\nimport { FidoGuardService } from '../services/fido-guard/fido-guard.service';\nimport { PurchaseGuardService } from '../services/purchase-guard/purchase-guard.service';\n\nexport const route = {\n    path: 'purchase',\n    canActivate: [FidoGuardService, AuthGuardService],\n    children: [\n        { path: '', redirectTo: '/purchase/schedule', pathMatch: 'full' },\n        {\n            path: '',\n            component: BaseComponent,\n            children: [\n                { path: 'schedule', component: PurchaseScheduleComponent }\n            ]\n        },\n        { path: 'transaction', component: PurchaseTransactionComponent },\n        {\n            path: '',\n            component: PurchaseBaseComponent,\n            canActivate: [PurchaseGuardService],\n            children: [\n                { path: 'seat', component: PurchaseSeatComponent },\n                { path: 'ticket', component: PurchaseTicketComponent },\n                { path: 'input', component: PurchaseInputComponent },\n                { path: 'confirm', component: PurchaseConfirmComponent }\n            ]\n        },\n        {\n            path: '',\n            component: PurchaseBaseComponent,\n            children: [\n                { path: 'complete', component: PurchaseCompleteComponent }\n            ]\n        }\n    ]\n};\n","import { RegisterCreditComponent } from '../components/pages/register/register-credit/register-credit.component';\nimport { RegisterComponent } from '../components/pages/register/register-index/register-index.component';\nimport {\n    RegisterProgramMembershipComponent\n} from '../components/pages/register/register-program-membership/register-program-membership.component';\nimport { RegisterTermsComponent } from '../components/pages/register/register-terms/register-terms.component';\nimport { MemberGuardService } from '../services/member-guard/member-guard.service';\n\n/**\n * 認証ルーティング\n */\nexport const route = {\n    path: 'register',\n    children: [\n        { path: '', component: RegisterComponent },\n        { path: 'terms', component: RegisterTermsComponent },\n        { path: 'credit', canActivate: [MemberGuardService], component: RegisterCreditComponent },\n        { path: 'membership', canActivate: [MemberGuardService], component: RegisterProgramMembershipComponent }\n    ]\n};\n","/**\n * AuthGuardService\n */\nimport { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { SasakiService } from '../sasaki/sasaki.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuardService implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * 認証\n     * @method canActivate\n     * @returns {Promise<boolean>}\n     */\n    public async canActivate(): Promise<boolean> {\n        try {\n            await this.sasaki.authorize();\n\n            return true;\n        } catch (err) {\n            console.log('canActivate', err);\n            this.router.navigate(['/auth/select']);\n\n            return false;\n        }\n    }\n}\n","/**\n * CallNativeService\n */\nimport { Injectable } from '@angular/core';\n\n\n/**\n * 呼び出し先\n */\nconst TARGET_VIEW = 'mainView';\n\n/**\n * URLの読み込み先として使用するブラウザーの種別。\n */\nexport enum InAppBrowserTarget {\n    /**\n     * ホワイトリストに対象の URL が登録されている場合には、Cordova WebView を開きます。それ以外の場合には、InAppBrowser を開きます。\n     */\n    Self = '_self',\n    /**\n     * InAppBrowser を開きます。\n     */\n    Blank = '_blank',\n    /**\n     * システム標準の Web ブラウザー ( system’s web browser ) を開きます。\n     */\n    System = '_system'\n}\n\n/**\n * IinAppBrowserArgs\n */\nexport interface IinAppBrowserArgs {\n    /**\n     * URL\n     */\n    url: string;\n    /**\n     * URLの読み込み先として使用するブラウザーの種別（デフォルトはシステム標準の Web ブラウザー）\n     */\n    target?: InAppBrowserTarget;\n}\n\n/**\n * localNotificationArgs\n */\nexport interface IlocalNotificationArgs {\n    /**\n     * ID\n     */\n    id: number;\n    /**\n     * タイトル\n     */\n    title: string;\n    /**\n     * テキスト\n     */\n    text: string;\n    /**\n     * 通知トリガー\n     */\n    trigger?: {\n        /**\n         * 通知を送る時間（ISO）\n         */\n        at: string\n    };\n    /**\n     * アイコンの画像パス\n     */\n    icon?: string;\n    /**\n     * スモールアイコンの画像パス\n     */\n    smallIcon?: string;\n    /**\n     * 前面表示（デフォルトは前面表示しない）\n     */\n    foreground?: boolean;\n}\n\nexport enum FidoAction {\n    /**\n     * 登録\n     */\n    Register = 'register',\n    /**\n     * 認証\n     */\n    Authentication = 'authentication',\n    /**\n     * 取り消し\n     */\n    Remove = 'remove',\n    /**\n     * 登録リスト\n     */\n    RegisterList = 'registerList'\n}\n\nexport interface IFidoArgs {\n    action: FidoAction;\n    user: string;\n    handle?: string;\n}\n\nexport interface IDeviceResult {\n    cordova: string;\n    model: string;\n    platform: string;\n    uuid: string;\n    version: string;\n    isVirtual: string;\n    serial: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CallNativeService {\n    private reserveData: string | null;\n\n    constructor() {\n        this.reserveData = null;\n        window.addEventListener('message', (res) => {\n            if (res.origin === location.origin) {\n                return;\n            }\n            try {\n                this.reserveData = JSON.parse(res.data);\n            } catch (err) {\n                console.error(err);\n            }\n        });\n    }\n\n    /**\n     * 送信\n     * @method postMessage\n     * @param data {any}\n     */\n    private postMessage(data: any) {\n        const json: string = JSON.stringify(data);\n        (<any>window).wizViewMessenger.postMessage(json, TARGET_VIEW);\n    }\n\n    /**\n     * 受信\n     * @method reserveMessage\n     */\n    private reserveMessage() {\n        return new Promise<any>((resolve) => {\n            const time = 600;\n            const timer = setInterval(() => {\n                const data = this.reserveData;\n                if (data !== null) {\n                    resolve(data);\n                    this.reserveData = null;\n                    clearInterval(timer);\n                }\n            }, time);\n        });\n    }\n\n    /**\n     * FIDO呼び出し\n     * @method fido\n     * @param args {IFidoArgs}\n     */\n    public async fido(args: IFidoArgs) {\n        const data = {\n            method: 'fido',\n            option: args\n        };\n        let result;\n        if ((<any>window).wizViewMessenger !== undefined) {\n            this.postMessage(data);\n            result = await this.reserveMessage();\n            console.log(result);\n        } else {\n            result = {\n                isSuccess: true,\n                result: ['test']\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * device呼び出し\n     * @method device\n     */\n    public async device(): Promise<IDeviceResult | null> {\n        const data = { method: 'device' };\n        let result;\n        if ((<any>window).wizViewMessenger !== undefined) {\n            this.postMessage(data);\n            result = await this.reserveMessage();\n            console.log(result);\n            return result;\n        } else {\n            const browser = 'browser';\n            return {\n                cordova: browser,\n                model: browser,\n                platform: browser,\n                uuid: browser,\n                version: browser,\n                isVirtual: browser,\n                serial: browser,\n            };\n        }\n    }\n\n    /**\n     * inAppBrowser呼び出し\n     * @method postMessage\n     * @param args {IinAppBrowserArgs}\n     */\n    public inAppBrowser(args: IinAppBrowserArgs) {\n        const data = {\n            method: 'inAppBrowser',\n            option: args\n        };\n        if ((<any>window).wizViewMessenger !== undefined) {\n            this.postMessage(data);\n        }\n    }\n\n    /**\n     * localNotification呼び出し\n     * @method localNotification\n     * @param args {IlocalNotificationArgs}\n     */\n    public localNotification(args: IlocalNotificationArgs) {\n        const data = {\n            method: 'localNotification',\n            option: args\n        };\n        if ((<any>window).wizViewMessenger !== undefined) {\n            this.postMessage(data);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { CallNativeService, FidoAction } from '../call-native/call-native.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FidoGuardService implements CanActivate {\n\n    constructor(\n        private native: CallNativeService,\n        private router: Router\n    ) { }\n\n    /**\n     * 認証\n     * @method canActivate\n     * @returns {Promise<boolean>}\n     */\n    public async canActivate(): Promise<boolean> {\n        // console.log('FidoGuardService');\n        try {\n            const device = await this.native.device();\n            if (device === null) {\n                throw new Error('device is null');\n            }\n            const registerListResult = await this.native.fido({\n                action: FidoAction.RegisterList,\n                user: `fido-frontend-${device.uuid}`\n            });\n\n            if (!registerListResult.isSuccess) {\n                throw new Error('registerList fail');\n            }\n\n            if (registerListResult.result.length === 0) {\n                throw new Error('registerList not found');\n            }\n\n            return true;\n        } catch (err) {\n            console.log('canActivate', err);\n            this.router.navigate(['/fido/register']);\n\n            return false;\n        }\n    }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/toPromise';\n\nexport interface IMaintenance {\n    isMaintenance: boolean;\n    maintenanceText: string;\n    startDate: string;\n    endDate: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MaintenanceService {\n\n    constructor(\n        private http: HttpClient\n    ) { }\n\n    public async isMaintenance() {\n        const options = {};\n        const url = '/api/maintenance/confirm';\n        const maintenance = await this.http.get<IMaintenance>(url, options).toPromise();\n\n        return maintenance;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { UserService } from '../user/user.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MemberGuardService implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private user: UserService\n    ) { }\n\n    /**\n     * 認証\n     * @method canActivate\n     */\n    public async canActivate() {\n        if (!this.user.isMember()) {\n            this.router.navigate(['/auth/select']);\n\n            return false;\n        }\n\n        return true;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { SasakiService } from '../sasaki/sasaki.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class MemberService {\n\n    constructor(\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * 会員プログラム一覧取得\n     */\n    public async getProgramMemberships() {\n        await this.sasaki.getServices();\n        // 会員プログラム検索\n        const programMemberships = await this.sasaki.programMembership.search({});\n\n        return programMemberships;\n    }\n\n    /**\n     * 登録\n     * @method register\n     */\n    public async register(args: {\n        theaterCode: string;\n        programMembership: factory.programMembership.IProgramMembership\n    }) {\n        await this.sasaki.getServices();\n\n        const branchCode = args.theaterCode;\n        // 販売劇場検索\n        const seller = await this.sasaki.organization.findMovieTheaterByBranchCode({\n            branchCode: branchCode\n        });\n        if (seller === null) {\n            throw new Error('販売劇場が見つかりませんでした。');\n        }\n\n        const programMembership = args.programMembership;\n        if (programMembership.id === undefined\n            || programMembership.offers === undefined\n        ) {\n            throw new Error('programMemberships is Injustice');\n        }\n\n        const offer = programMembership.offers[0];\n\n        if (offer.identifier === undefined) {\n            throw new Error('programMemberships is Injustice');\n        }\n\n        // 会員プログラム登録\n        const registerProgramMembership = await this.sasaki.person.registerProgramMembership({\n            personId: 'me',\n            programMembershipId: programMembership.id,\n            offerIdentifier: offer.identifier,\n            sellerType: seller.typeOf,\n            sellerId: seller.id\n        });\n\n        console.log('registerProgramMembership', registerProgramMembership);\n    }\n\n    /**\n     * 登録判定\n     */\n    public async isRegister() {\n        await this.sasaki.getServices();\n        const time = 5000;\n        const limit = 20;\n        let count = 0;\n        return new Promise<boolean>((resolve, reject) => {\n            const timer = setInterval(async () => {\n                try {\n                    const programMembershipOwnershipInfos =\n                        await this.sasaki.person.searchOwnershipInfos({\n                            ownedBy: 'me',\n                            goodType: 'ProgramMembership'\n                        });\n                    if (programMembershipOwnershipInfos.length > 0) {\n                        clearInterval(timer);\n                        resolve(true);\n                    } else if (count > limit) {\n                        clearInterval(timer);\n                        resolve(false);\n                    }\n                    count++;\n                } catch (err) {\n                    reject(err);\n                }\n            }, time);\n        });\n    }\n\n    /**\n     * 退会\n     * @method unRegister\n     */\n    public async unRegister(args: {\n        ownershipInfoIdentifier: string;\n    }) {\n        await this.sasaki.getServices();\n        await this.sasaki.person.unRegisterProgramMembership({\n            personId: 'me',\n            ownershipInfoIdentifier: args.ownershipInfoIdentifier\n        });\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { UserService } from '../user/user.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ProgramMembershipGuardService implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private sasaki: SasakiService,\n        private user: UserService\n    ) { }\n\n    /**\n   * 認証\n   * @method canActivate\n   */\n    public async canActivate() {\n        if (this.user.data.programMembershipOwnershipInfos === undefined) {\n            this.user.data.programMembershipOwnershipInfos = [];\n        }\n        if (this.user.data.programMembershipOwnershipInfos.length > 0) {\n            return true;\n        }\n        await this.sasaki.getServices();\n        const programMembershipOwnershipInfos = await this.sasaki.person.searchOwnershipInfos({\n            ownedBy: 'me',\n            goodType: 'ProgramMembership'\n        });\n        if (programMembershipOwnershipInfos.length === 0) {\n            this.router.navigate(['/register/credit']);\n\n            return false;\n        }\n\n        this.user.data.programMembershipOwnershipInfos = programMembershipOwnershipInfos;\n\n        return true;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport * as moment from 'moment';\nimport { PurchaseService } from '../purchase/purchase.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PurchaseGuardService implements CanActivate {\n\n    constructor(\n        private router: Router,\n        private purchase: PurchaseService\n    ) { }\n\n    public canActivate(): boolean {\n        if (this.purchase.data === undefined\n            || this.purchase.data.transaction === undefined) {\n            // console.log('transaction is undefined');\n            this.router.navigate(['/error']);\n\n            return false;\n        }\n        const expires = moment(this.purchase.data.transaction.expires).unix();\n        if (expires < moment().unix()) {\n            // console.log('transaction is expired');\n            this.router.navigate(['/expired']);\n\n            return false;\n        }\n\n        return true;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport * as COA from '@motionpicture/coa-service';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport { TimeFormatPipe } from '../../pipes/time-format/time-format.pipe';\nimport { CallNativeService, IlocalNotificationArgs } from '../call-native/call-native.service';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { SaveType, StorageService } from '../storage/storage.service';\nimport { UserService } from '../user/user.service';\n\n// declare const ga: Function;\n\nexport type IIndividualScreeningEvent = factory.event.individualScreeningEvent.IEventWithOffer;\nexport type ICustomerContact = factory.transaction.placeOrder.ICustomerContact;\nexport type ISalesTicketResult = COA.services.reserve.ISalesTicketResult;\ntype IUnauthorizedCardOfMember = factory.paymentMethod.paymentCard.creditCard.IUnauthorizedCardOfMember;\ntype IUncheckedCardTokenized = factory.paymentMethod.paymentCard.creditCard.IUncheckedCardTokenized;\n\ninterface IData {\n    /**\n     * 取引\n     */\n    transaction?: factory.transaction.placeOrder.ITransaction;\n    /**\n     * 上映イベント\n     */\n    individualScreeningEvent?: IIndividualScreeningEvent;\n    /**\n     * 劇場ショップ\n     */\n    movieTheaterOrganization?: factory.organization.movieTheater.IPublicFields;\n    /**\n     * 販売可能チケット情報\n     */\n    salesTickets: ISalesTicketResult[];\n    /**\n     * 予約座席\n     */\n    seatReservationAuthorization?: factory.action.authorize.offer.seatReservation.IAction;\n    /**\n     * 予約座席(仮)\n     */\n    tmpSeatReservationAuthorization?: factory.action.authorize.offer.seatReservation.IAction;\n    /**\n     * オーダー回数\n     */\n    orderCount: number;\n    /**\n     * GMOトークンオブジェクト\n     */\n    gmoTokenObject?: IGmoTokenObject;\n    /**\n     * 支払いクレジットカード\n     */\n    paymentCreditCard?: IUnauthorizedCardOfMember | IUncheckedCardTokenized;\n    /**\n     * クレジットカードエラー\n     */\n    isCreditCardError: boolean;\n    /**\n     * 決済情報（クレジット）\n     */\n    creditCardAuthorization?: {\n        id: string;\n    };\n    /**\n     * 購入者情報\n     */\n    customerContact?: ICustomerContact;\n    /**\n     * インセンティブ情報\n     */\n    pecorinoAwardAuthorization?: {\n        id: string;\n    };\n    /**\n     * インセンティブ\n     */\n    incentive: number;\n    /**\n     * ポイント券種情報\n     */\n    pointTickets: COA.services.master.ITicketResult[];\n}\n\nexport interface IGmoTokenObject {\n    token: string;\n    toBeExpiredAt: string;\n    maskedCardNo: string;\n    isSecurityCodeSet: boolean;\n}\n\n/**\n * インセンティブ\n */\nenum Incentive {\n    WatchingMovies = 1\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PurchaseService {\n\n    public data: IData;\n\n    constructor(\n        private storage: StorageService,\n        private sasaki: SasakiService,\n        private callNative: CallNativeService,\n        private user: UserService\n    ) {\n        this.load();\n    }\n\n    /**\n     * 読み込み\n     * @method load\n     */\n    public load() {\n        const data: IData | null = this.storage.load('purchase', SaveType.Session);\n        if (data === null) {\n            this.data = {\n                salesTickets: [],\n                pointTickets: [],\n                orderCount: 0,\n                incentive: 0,\n                isCreditCardError: false\n            };\n\n            return;\n        }\n        this.data = data;\n    }\n\n    /**\n     * 保存\n     * @method save\n     */\n    public save() {\n        this.storage.save('purchase', this.data, SaveType.Session);\n    }\n\n    /**\n     * リセット\n     * @method reset\n     */\n    public reset() {\n        this.data = {\n            salesTickets: [],\n            pointTickets: [],\n            orderCount: 0,\n            incentive: 0,\n            isCreditCardError: false\n        };\n        this.save();\n    }\n\n    /**\n     * 期限切れ\n     * @method isExpired\n     */\n    public isExpired() {\n        if (this.data.transaction === undefined) {\n            throw new Error('status is different');\n        }\n        const expires = moment(this.data.transaction.expires).unix();\n        const now = moment().unix();\n        let result = false;\n        if (expires < now) {\n            result = true;\n        }\n\n        return result;\n    }\n\n    /**\n     * 販売可能時間判定\n     * @method isSalseTime\n     * @param {IIndividualScreeningEvent} screeningEvent\n     * @returns {boolean}\n     */\n    public isSalseTime(screeningEvent: IIndividualScreeningEvent): boolean {\n        const END_TIME = 30; // 30分前\n\n        return (moment().unix() < moment(screeningEvent.startDate).subtract(END_TIME, 'minutes').unix());\n    }\n\n    /**\n     * 販売可能判定\n     * @method isSalse\n     * @param {IIndividualScreeningEvent} screeningEvent\n     * @returns {boolean}\n     */\n    public isSalse(screeningEvent: IIndividualScreeningEvent): boolean {\n        const PRE_SALE = '1'; // 先行販売\n\n        return (moment(screeningEvent.coaInfo.rsvStartDate).unix() <= moment().unix()\n            || screeningEvent.coaInfo.flgEarlyBooking === PRE_SALE);\n    }\n\n    /**\n     * 劇場名取得\n     * @method getTheaterName\n     * @returns {string}\n     */\n    public getTheaterName(): string {\n        if (this.data.individualScreeningEvent === undefined) {\n            return '';\n        }\n        const individualScreeningEvent = this.data.individualScreeningEvent;\n\n        return individualScreeningEvent.superEvent.location.name.ja;\n    }\n\n    /**\n     * スクリーン名取得\n     * @method getScreenName\n     * @returns {string}\n     */\n    public getScreenName(): string {\n        if (this.data.individualScreeningEvent === undefined) {\n            return '';\n        }\n        const individualScreeningEvent = this.data.individualScreeningEvent;\n\n        return individualScreeningEvent.location.name.ja;\n    }\n\n    /**\n     * 作品名取得\n     * @method getTitle\n     * @returns {string}\n     */\n    public getTitle(): string {\n        if (this.data.individualScreeningEvent === undefined) {\n            return '';\n        }\n        const individualScreeningEvent = this.data.individualScreeningEvent;\n\n        return individualScreeningEvent.name.ja;\n    }\n\n    /**\n     * 鑑賞日取得\n     * @method getAppreciationDate\n     * @returns {string}\n     */\n    public getAppreciationDate(): string {\n        if (this.data.individualScreeningEvent === undefined) {\n            return '';\n        }\n        const individualScreeningEvent = this.data.individualScreeningEvent;\n        moment.locale('ja');\n\n        return moment(individualScreeningEvent.startDate).format('YYYY年MM月DD日(ddd)');\n    }\n\n    /**\n     * 上映開始時間取得\n     * @method getStartDate\n     * @returns {string}\n     */\n    public getStartDate(): string {\n        if (this.data.individualScreeningEvent === undefined) {\n            return '';\n        }\n        const individualScreeningEvent = this.data.individualScreeningEvent;\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            individualScreeningEvent.startDate,\n            individualScreeningEvent.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 上映終了取得\n     * @method getEndDate\n     * @returns {string}\n     */\n    public getEndDate(): string {\n        if (this.data.individualScreeningEvent === undefined) {\n            return '';\n        }\n        const individualScreeningEvent = this.data.individualScreeningEvent;\n        const timeFormat = new TimeFormatPipe();\n\n        return timeFormat.transform(\n            individualScreeningEvent.endDate,\n            individualScreeningEvent.coaInfo.dateJouei\n        );\n    }\n\n    /**\n     * 合計金額計算\n     * @method getTotalPrice\n     */\n    public getTotalPrice(): number {\n        let result = 0;\n        if (this.data.seatReservationAuthorization === undefined) {\n            return result;\n        }\n        for (const offer of this.data.seatReservationAuthorization.object.offers) {\n            result += offer.ticketInfo.salePrice;\n        }\n\n        return result;\n    }\n\n    /**\n     * インセンティブ判定\n     * @method isIncentive\n     * @returns {boolean}\n     */\n    public isIncentive(): boolean {\n        if (this.data.seatReservationAuthorization === undefined) {\n            return false;\n        }\n        const pointTickets: COA.services.master.ITicketResult[] = [];\n        for (const offer of this.data.seatReservationAuthorization.object.offers) {\n            const pointTicket = this.data.pointTickets.find((ticket) => {\n                return (ticket.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (pointTicket !== undefined) {\n                pointTickets.push(pointTicket);\n            }\n        }\n\n        return (pointTickets.length !== this.data.seatReservationAuthorization.object.offers.length);\n    }\n\n    /**\n     * ポイントでの予約判定\n     * @method isReservePoint\n     * @returns {boolean}\n     */\n    public isReservePoint(): boolean {\n        let result = false;\n        if (this.data.seatReservationAuthorization === undefined\n            || this.data.pointTickets.length === 0) {\n            return result;\n        }\n        for (const offer of this.data.seatReservationAuthorization.object.offers) {\n            const pointTickets = this.data.pointTickets.filter((ticket) => {\n                return (ticket.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (pointTickets.length > 0) {\n                result = true;\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * 取引開始処理\n     * @method transactionStartProcess\n     */\n    public async transactionStartProcess(args: {\n        passportToken: string;\n        individualScreeningEvent: IIndividualScreeningEvent\n    }) {\n        // 購入データ削除\n        this.reset();\n        this.data.individualScreeningEvent = args.individualScreeningEvent;\n        await this.sasaki.getServices();\n        // 劇場のショップを検索\n        this.data.movieTheaterOrganization = await this.sasaki.organization.findMovieTheaterByBranchCode({\n            branchCode: this.data.individualScreeningEvent.coaInfo.theaterCode\n        });\n        // 取引期限\n        const VALID_TIME = 150;\n        const expires = moment().add(VALID_TIME, 'minutes').toDate();\n        // 取引開始\n        this.data.transaction = await this.sasaki.transaction.placeOrder.start({\n            expires: expires,\n            sellerId: this.data.movieTheaterOrganization.id,\n            passportToken: args.passportToken\n        });\n        this.save();\n    }\n\n    /**\n     * 座席開放処理\n     * @method cancelSeatRegistrationProcess\n     */\n    public async cancelSeatRegistrationProcess() {\n        if (this.data.transaction === undefined\n            || this.data.tmpSeatReservationAuthorization === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        const cancelSeatReservationArgs = {\n            transactionId: this.data.transaction.id,\n            actionId: this.data.tmpSeatReservationAuthorization.id\n        };\n        await this.sasaki.transaction.placeOrder.cancelSeatReservationAuthorization(cancelSeatReservationArgs);\n        this.data.tmpSeatReservationAuthorization = undefined;\n        this.reset();\n    }\n\n    /**\n     * 座席登録処理\n     * @method seatRegistrationProcess\n     */\n    public async seatRegistrationProcess(offers: factory.offer.seatReservation.IOffer[]) {\n        if (this.data.transaction === undefined\n            || this.data.individualScreeningEvent === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        // 予約中なら座席削除\n        if (this.data.tmpSeatReservationAuthorization !== undefined) {\n            const cancelSeatReservationArgs = {\n                transactionId: this.data.transaction.id,\n                actionId: this.data.tmpSeatReservationAuthorization.id\n            };\n            await this.sasaki.transaction.placeOrder.cancelSeatReservationAuthorization(cancelSeatReservationArgs);\n            this.data.tmpSeatReservationAuthorization = undefined;\n            this.save();\n        }\n        // 座席登録\n        const createSeatReservationAuthorizationArgs = {\n            transactionId: this.data.transaction.id,\n            eventIdentifier: this.data.individualScreeningEvent.identifier,\n            offers: offers\n        };\n        this.data.tmpSeatReservationAuthorization =\n            await this.sasaki.transaction.placeOrder.createSeatReservationAuthorization(createSeatReservationAuthorizationArgs);\n        this.data.orderCount = 0;\n        this.data.seatReservationAuthorization = undefined;\n        this.save();\n    }\n\n    /**\n     * 券種登録処理\n     * @method ticketRegistrationProcess\n     */\n    public async ticketRegistrationProcess(offers: factory.offer.seatReservation.IOffer[]) {\n        if (this.data.transaction === undefined\n            || this.data.tmpSeatReservationAuthorization === undefined\n            || this.data.individualScreeningEvent === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        const changeSeatReservationArgs = {\n            transactionId: this.data.transaction.id,\n            actionId: this.data.tmpSeatReservationAuthorization.id,\n            eventIdentifier: this.data.individualScreeningEvent.identifier,\n            offers: offers\n        };\n        this.data.seatReservationAuthorization =\n            await this.sasaki.transaction.placeOrder.changeSeatReservationOffers(changeSeatReservationArgs);\n        if (this.data.seatReservationAuthorization === undefined) {\n            throw new Error('status is different');\n        }\n        if (this.data.creditCardAuthorization !== undefined) {\n            // クレジットカード登録済みなら削除\n            const cancelCreditCardAuthorizationArgs = {\n                transactionId: this.data.transaction.id,\n                actionId: this.data.creditCardAuthorization.id\n            };\n            await this.sasaki.transaction.placeOrder.cancelCreditCardAuthorization(cancelCreditCardAuthorizationArgs);\n            this.data.creditCardAuthorization = undefined;\n            this.save();\n        }\n        this.save();\n    }\n\n    /**\n     * 購入者情報登録処理\n     * @method customerContactRegistrationProcess\n     */\n    public async customerContactRegistrationProcess(args: factory.transaction.placeOrder.ICustomerContact) {\n        if (this.data.transaction === undefined) {\n            throw new Error('transaction is undefined');\n        }\n        await this.sasaki.getServices();\n        // 入力情報を登録\n        this.data.customerContact = await this.sasaki.transaction.placeOrder.setCustomerContact({\n            transactionId: this.data.transaction.id,\n            contact: args\n        });\n\n        this.save();\n    }\n\n    /**\n     * クレジットカード支払い処理\n     */\n    public async creditCardPaymentProcess() {\n        if (this.data.transaction === undefined\n        || this.data.paymentCreditCard === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        if (this.data.creditCardAuthorization !== undefined) {\n            // クレジットカード登録済みなら削除\n            const cancelCreditCardAuthorizationArgs = {\n                transactionId: this.data.transaction.id,\n                actionId: this.data.creditCardAuthorization.id\n            };\n            await this.sasaki.transaction.placeOrder.cancelCreditCardAuthorization(cancelCreditCardAuthorizationArgs);\n            this.data.creditCardAuthorization = undefined;\n            this.save();\n        }\n        // クレジットカード登録\n        const METHOD_LUMP = '1';\n        const createCreditCardAuthorizationArgs = {\n            transactionId: this.data.transaction.id,\n            orderId: this.createOrderId(),\n            amount: this.getTotalPrice(),\n            method: METHOD_LUMP,\n            creditCard: this.data.paymentCreditCard\n        };\n        this.data.creditCardAuthorization =\n            await this.sasaki.transaction.placeOrder.createCreditCardAuthorization(createCreditCardAuthorizationArgs);\n        this.save();\n    }\n\n    /**\n     * オーダーID生成\n     * @method createOrderId\n     */\n    private createOrderId() {\n        if (this.data.seatReservationAuthorization === undefined\n            || this.data.seatReservationAuthorization.result === undefined\n            || this.data.individualScreeningEvent === undefined) {\n            throw new Error('status is different');\n        }\n        const DIGITS = {\n            '02': -2,\n            '08': -8\n        };\n        const orderCount = `00${this.data.orderCount}`.slice(DIGITS['02']);\n        const tmpReserveNum =\n            `00000000${this.data.seatReservationAuthorization.result.updTmpReserveSeatResult.tmpReserveNum}`.slice(DIGITS['08']);\n        const theaterCode = this.data.individualScreeningEvent.coaInfo.theaterCode;\n        const reserveDate = moment().format('YYYYMMDD');\n        this.data.orderCount += 1;\n        // オーダーID 予約日 + 劇場ID(3桁) + 予約番号(8桁) + オーソリカウント(2桁)\n        return `${reserveDate}${theaterCode}${tmpReserveNum}${orderCount}`;\n    }\n\n    /**\n     * インセンティブ処理\n     */\n    public async incentiveProcess() {\n        if (this.data.transaction === undefined\n            || this.user.data.accounts.length === 0) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        this.data.pecorinoAwardAuthorization = await this.sasaki.transaction.placeOrder.createPecorinoAwardAuthorization({\n            transactionId: this.data.transaction.id,\n            amount: Incentive.WatchingMovies,\n            toAccountNumber: this.user.data.accounts[0].accountNumber,\n            notes: '鑑賞'\n        });\n        this.data.incentive = Incentive.WatchingMovies;\n    }\n\n    /**\n     * ポイント決済処理\n     */\n    public async pointPaymentProcess() {\n        if (this.data.transaction === undefined\n            || this.user.data.accounts.length === 0\n            || this.data.seatReservationAuthorization === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        const ticketNames = [];\n        let usePoint = 0;\n        for (const offer of this.data.seatReservationAuthorization.object.offers) {\n            const pointTicket = this.data.pointTickets.find((ticket) => {\n                return (ticket.ticketCode === offer.ticketInfo.ticketCode);\n            });\n            if (pointTicket === undefined) {\n                continue;\n            }\n            ticketNames.push(`${offer.ticketInfo.ticketName} 引換`);\n            usePoint += pointTicket.usePoint;\n        }\n\n        const notes = ticketNames.join(',');\n\n        await this.sasaki.transaction.placeOrder.createPecorinoPaymentAuthorization({\n            transactionId: this.data.transaction.id,\n            amount: usePoint,\n            fromAccountNumber: this.user.data.accounts[0].accountNumber,\n            notes: notes\n        });\n    }\n\n    /**\n     * 購入登録処理\n     */\n    public async purchaseRegistrationProcess() {\n        if (this.data.transaction === undefined\n            || this.data.individualScreeningEvent === undefined) {\n            throw new Error('status is different');\n        }\n        await this.sasaki.getServices();\n        let order;\n        try {\n            const incentives = [];\n            if (this.user.isMember()\n                && !this.isReservePoint()\n                && this.user.data.accounts.length > 0) {\n                incentives.push({\n                    amount: Incentive.WatchingMovies,\n                    toAccountNumber: this.user.data.accounts[0].accountNumber\n                });\n            }\n            // 取引確定\n            order = await this.sasaki.transaction.placeOrder.confirm({\n                transactionId: this.data.transaction.id,\n                incentives: incentives\n            });\n        } catch (err) {\n            throw err;\n        }\n\n        const complete = {\n            order: order,\n            transaction: this.data.transaction,\n            movieTheaterOrganization: this.data.movieTheaterOrganization,\n            incentive: this.data.incentive\n        };\n        this.storage.save('complete', complete, SaveType.Session);\n\n        // プッシュ通知登録\n        try {\n            const itemOffered = order.acceptedOffers[0].itemOffered;\n            if (itemOffered.typeOf !== factory.reservationType.EventReservation) {\n                throw new Error('itemOffered.typeOf is not EventReservation');\n            }\n            const reservationFor = itemOffered.reservationFor;\n            const localNotificationArgs: IlocalNotificationArgs = {\n                id: Number(order.orderNumber.replace(/\\-/g, '')), // ID\n                title: '鑑賞時間が近づいています。', // タイトル\n                text: '劇場 / スクリーン: ' + reservationFor.superEvent.location.name.ja + '/' + reservationFor.location.name.ja + '\\n' +\n                    '作品名: ' + reservationFor.workPerformed.name + '\\n' +\n                    '上映開始: ' + moment(reservationFor.startDate).format('YYYY/MM/DD HH:mm'), // テキスト\n                trigger: {\n                    at: moment(reservationFor.startDate).subtract(30, 'minutes').toISOString() // 通知を送る時間（ISO）\n                },\n                foreground: true // 前面表示（デフォルトは前面表示しない）\n            };\n            this.callNative.localNotification(localNotificationArgs);\n        } catch (err) {\n            console.error(err);\n        }\n\n        // 購入情報削除\n        this.reset();\n    }\n}\n","/**\n * ReservationService\n */\nimport { Injectable } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { IEvent } from '@motionpicture/sskts-factory/lib/factory/event';\nimport { ITicket } from '@motionpicture/sskts-factory/lib/factory/reservation';\nimport * as moment from 'moment';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { StorageService } from '../storage/storage.service';\n\nexport interface IReservation {\n    confirmationNumber: string;\n    reservationsFor: IEvent[];\n    reservedTickets: ITicket[];\n}\n\nexport interface IReservationData {\n    reservations: IReservation[];\n    expired: number;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ReservationService {\n    public data: IReservationData;\n    public isMember: boolean;\n\n    constructor(\n        private storage: StorageService,\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * 予約情報取得\n     * @method getReservation\n     * @returns {Promise<void>}\n     */\n    private async getReservation(): Promise<void> {\n        const reservation: IReservationData = (this.data === undefined)\n            ? this.storage.load('reservation')\n            : this.data;\n        if (reservation === undefined\n            || reservation === null\n            || reservation.expired < moment().unix()) {\n            try {\n                this.data = await this.fitchReservation();\n\n                this.storage.save('reservation', this.data);\n            } catch (err) {\n                this.storage.remove('reservation');\n                throw err;\n            }\n        } else {\n            this.data = reservation;\n        }\n    }\n\n    /**\n     * 予約をAPI経由で取得\n     * @method fitchReservation\n     * @returns {Promise<IReservationData>}\n     */\n    private async fitchReservation(): Promise<IReservationData> {\n        await this.sasaki.getServices();\n        const reservationOwnerships = await this.sasaki.person.searchOwnershipInfos({\n            goodType: factory.reservationType.EventReservation,\n            ownedBy: 'me'\n        });\n        console.log(reservationOwnerships);\n        const orders: IReservation[] = [];\n        for (const reservationOwnership of reservationOwnerships) {\n            const confirmationNumber = reservationOwnership.typeOfGood.reservationNumber.split('-')[0];\n            const reservationFor = reservationOwnership.typeOfGood.reservationFor;\n            const reservedTicket = reservationOwnership.typeOfGood.reservedTicket;\n            const target = orders.find((order) => {\n                return (order.confirmationNumber === confirmationNumber);\n            });\n            if (target === undefined) {\n                const reservation: IReservation = {\n                    confirmationNumber: confirmationNumber,\n                    reservationsFor: [],\n                    reservedTickets: []\n                };\n                reservation.reservationsFor.push(reservationFor);\n                reservation.reservedTickets.push(reservedTicket);\n                orders.push(reservation);\n            } else {\n                target.reservationsFor.push(reservationFor);\n                target.reservedTickets.push(reservedTicket);\n            }\n        }\n        const expired = 10;\n\n        return {\n            reservations: orders,\n            expired: moment().add(expired, 'milliseconds').unix()\n        };\n    }\n\n    /**\n     * パフォーマンスごとの予約情報取得（購入番号順）\n     * @method getReservationByPurchaseNumber\n     */\n    public async getReservationByPurchaseNumberOrder(): Promise<IReservation[]> {\n        await this.getReservation();\n\n        return this.data.reservations.filter((reservation) => {\n            if (reservation.reservedTickets.length === 0) {\n                return false;\n            }\n            const endDate = moment(reservation.reservationsFor[0].endDate);\n\n            return (endDate.unix() > moment().unix());\n        });\n    }\n\n    /**\n     * パフォーマンスごとの予約情報取得（鑑賞日順）\n     * @method getReservationByAppreciationDayOrder\n     */\n    public async getReservationByAppreciationDayOrder(): Promise<IReservation[]> {\n        await this.getReservation();\n        const order = this.data.reservations.filter((reservation) => {\n            if (reservation.reservedTickets.length === 0) {\n                return false;\n            }\n            const endDate = moment(reservation.reservationsFor[0].endDate);\n\n            return (endDate.unix() > moment().unix());\n        });\n\n        order.sort((a, b) => {\n            const startDateA = moment(a.reservationsFor[0].startDate).unix();\n            const startDateB = moment(b.reservationsFor[0].startDate).unix();\n            if (startDateA < startDateB) {\n                return -1;\n            } else if (startDateA > startDateB) {\n                return 1;\n            } else {\n                return 0;\n            }\n        });\n\n        return order;\n    }\n\n}\n","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport * as COA from '@motionpicture/coa-service';\nimport * as sasaki from '@motionpicture/sskts-api-javascript-client';\nimport 'rxjs/add/operator/toPromise';\nimport { environment } from '../../../environments/environment';\nimport { StorageService } from '../storage/storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SasakiService {\n\n    public auth: sasaki.IImplicitGrantClient;\n    public userName?: string;\n    public event: sasaki.service.Event;\n    public order: sasaki.service.Order;\n    public organization: sasaki.service.Organization;\n    public person: sasaki.service.Person;\n    public place: sasaki.service.Place;\n    public transaction: {\n        placeOrder: sasaki.service.transaction.PlaceOrder\n    };\n    public programMembership: sasaki.service.ProgramMembership;\n\n    constructor(\n        private http: HttpClient,\n        private storage: StorageService\n    ) { }\n\n    /**\n     * getServices\n     */\n    public async getServices(): Promise<void> {\n        try {\n            const option = await this.createOption();\n            this.event = new sasaki.service.Event(option);\n            this.order = new sasaki.service.Order(option);\n            this.organization = new sasaki.service.Organization(option);\n            this.person = new sasaki.service.Person(option);\n            this.place = new sasaki.service.Place(option);\n            this.transaction = {\n                placeOrder: new sasaki.service.transaction.PlaceOrder(option)\n            };\n            this.programMembership = new sasaki.service.ProgramMembership(option);\n        } catch (err) {\n            console.log(err);\n\n            throw new Error('getServices is failed');\n        }\n    }\n\n    /**\n     * サインイン\n     */\n    public async signIn() {\n        const url = '/api/authorize/signIn';\n        const result = await this.http.get<any>(url, {}).toPromise();\n        console.log(result.url);\n        location.href = result.url;\n    }\n\n    /**\n     * サインアップ\n     */\n    public async signUp() {\n        const url = '/api/authorize/signIn';\n        const result = await this.http.get<any>(url, {}).toPromise();\n        console.log(result.url);\n        const signupUrl = (<string>result.url).replace(/\\/authorize/, '/signup');\n        location.href = signupUrl;\n    }\n\n    /**\n     * サインアウト\n     */\n    public async signOut() {\n        const url = '/api/authorize/signOut';\n        const result = await this.http.get<any>(url, {}).toPromise();\n        console.log(result.url);\n        location.href = result.url;\n    }\n\n    /**\n     * @method createOption\n     */\n    public async createOption() {\n        await this.authorize();\n\n        return {\n            endpoint: environment.API_ENDPOINT,\n            auth: this.auth\n        };\n    }\n\n    /**\n     * @method authorize\n     */\n    public async authorize() {\n        const user = this.storage.load('user');\n        const memberType = user.memberType;\n        const url = '/api/authorize/getCredentials';\n        const options = {\n            headers: new HttpHeaders({\n                'Pragma': 'no-cache',\n                'Cache-Control': 'no-cache',\n                'If-Modified-Since': new Date(0).toUTCString()\n            }),\n            params: new HttpParams().set('member', memberType)\n        };\n        const result = await this.http.get<{\n            credentials: {\n                accessToken: string;\n            };\n            userName?: string;\n        }>(url, options).toPromise();\n        const option = {\n            domain: '',\n            clientId: '',\n            redirectUri: '',\n            logoutUri: '',\n            responseType: '',\n            scope: '',\n            state: '',\n            nonce: null,\n            tokenIssuer: ''\n        };\n        this.auth = sasaki.createAuthInstance(option);\n        this.auth.setCredentials(result.credentials);\n        this.userName = result.userName;\n    }\n\n    /**\n     * 座席ステータス取得\n     * @param {COA.services.reserve.IStateReserveSeatArgs} args\n     */\n    public async getSeatState(\n        args: COA.services.reserve.IStateReserveSeatArgs\n    ) {\n        const url = '/api/purchase/getSeatState';\n\n        return this.http.get<COA.services.reserve.IStateReserveSeatResult>(url, {\n            params: <any>args\n        }).toPromise();\n    }\n\n    /**\n     * 券種取得\n     * @method getSalesTickets\n     * @param {COA.services.reserve.ISalesTicketArgs} args\n     */\n    public async getSalesTickets(\n        args: COA.services.reserve.ISalesTicketArgs\n    ) {\n        const url = `/api/master/getSalesTickets`;\n        return this.http.get<COA.services.reserve.ISalesTicketResult[]>(url, {\n            params: <any>args\n        }).toPromise();\n    }\n\n    /**\n     * 券種マスター一覧取得\n     * @method getTickets\n     * @param {COA.services.reserve.ITicketArgs} args\n     */\n    public async getTickets(\n        args: COA.services.master.ITicketArgs\n    ) {\n        const url = `/api/master/getTickets`;\n        return this.http.get<COA.services.master.ITicketResult[]>(url, {\n            params: <any>args\n        }).toPromise();\n    }\n\n    /**\n     * パスポートトークン取得\n     */\n    public async getPassportToken(theaterId: string) {\n        const url = `${environment.WAITER_ENDPOINT}/passports`;\n        return this.http.post<{ token: string }>(url, {\n            scope: `placeOrderTransaction.MovieTheater-${theaterId}`\n        }).toPromise();\n    }\n}\n","/**\n * PurchaseService\n */\nimport { Injectable } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport * as moment from 'moment';\nimport 'rxjs/add/operator/retry';\nimport 'rxjs/add/operator/toPromise';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { PurchaseSort } from '../select/select.service';\nimport { StorageService } from '../storage/storage.service';\n\nexport type IMovieTheater = factory.organization.movieTheater.IOrganizationWithoutGMOInfo;\nexport type IIndividualScreeningEvent = factory.event.individualScreeningEvent.IEventWithOffer;\nexport type ITimeOrder = IIndividualScreeningEvent[];\nexport interface IFilmOrder {\n    id: string;\n    films: IIndividualScreeningEvent[];\n}\nexport interface IScheduleData {\n    schedule: ISchedule[];\n    expired: number;\n}\nexport interface ISchedule {\n    theater: IMovieTheater;\n    schedule: {\n        date: string;\n        individualScreeningEvents: IIndividualScreeningEvent[];\n    }[];\n}\nexport interface IDate {\n    value: string;\n    display: {\n        year: string;\n        month: string;\n        week: string;\n        day: string;\n        text: string;\n    };\n    preSale: boolean;\n    serviceDay: string;\n}\n\nconst STORAGE_KEY = 'schedule';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ScheduleService {\n    public data?: IScheduleData;\n\n    constructor(\n        private storage: StorageService,\n        private sasaki: SasakiService\n    ) { }\n\n    /**\n     * スケジュール取得\n     * @method getSchedule\n     * @returns {Promise<IScheduleData>}\n     */\n    public async getSchedule(): Promise<IScheduleData> {\n        const schedule: IScheduleData = (this.data === undefined)\n            ? this.storage.load(STORAGE_KEY)\n            : this.data;\n        if (schedule === undefined || schedule === null || schedule.expired < moment().unix()) {\n            try {\n                this.data = await this.fitchSchedule({\n                    startFrom: moment().toDate(),\n                    startThrough: moment().add(5, 'week').toDate()\n                });\n                this.storage.save(STORAGE_KEY, this.data);\n                // console.log(this.data);\n            } catch (err) {\n                console.log(err);\n                this.storage.remove(STORAGE_KEY);\n                throw err;\n            }\n        } else {\n            this.data = schedule;\n        }\n\n        return this.data;\n    }\n\n    /**\n     * スケジュールをAPI経由で取得\n     * @method fitchISchedule\n     * @returns {Promise<IScheduleData>}\n     */\n    private async fitchSchedule(\n        args: { startFrom: Date; startThrough: Date; }\n    ): Promise<IScheduleData> {\n        await this.sasaki.getServices();\n\n        const theaters = await this.sasaki.organization.searchMovieTheaters();\n        const screeningEvents = await this.sasaki.event.searchIndividualScreeningEvent({\n            startFrom: args.startFrom,\n            startThrough: args.startThrough,\n            eventStatuses: [factory.eventStatusType.EventScheduled]\n        });\n\n        const expired = 10;\n        const schedule: ISchedule[] = [];\n        theaters.forEach((theater) => {\n            const theaterSchedule: {\n                date: string;\n                individualScreeningEvents: IIndividualScreeningEvent[];\n            }[] = [];\n            const theaterScreeningEvents = screeningEvents.filter((screeningEvent) => {\n                return (screeningEvent.superEvent.location.branchCode === theater.location.branchCode);\n            });\n            const diff = moment(args.startThrough).diff(moment(args.startFrom), 'days');\n            for (let i = 0; i < diff; i += 1) {\n                const date = moment(args.startFrom).add(i, 'days').format('YYYYMMDD');\n                const tmpDateScreeningEvents = theaterScreeningEvents.filter((screeningEvent) => {\n                    return (screeningEvent.coaInfo.dateJouei === date);\n                });\n                const dateScreeningEvents: IIndividualScreeningEvent[] = [];\n                tmpDateScreeningEvents.forEach((screeningEvent) => {\n                    const PRE_SALE = '1'; // 先行販売\n                    const startDate = moment(screeningEvent.startDate).format('YYYYMMDD');\n                    const limitDate = moment().add(3, 'days').format('YYYYMMDD');\n                    if ((this.isSalse(screeningEvent) && startDate < limitDate)\n                        || (this.isSalse(screeningEvent) && screeningEvent.coaInfo.flgEarlyBooking === PRE_SALE)) {\n                        dateScreeningEvents.push(screeningEvent);\n                    }\n                });\n                theaterSchedule.push({\n                    date: date,\n                    individualScreeningEvents: dateScreeningEvents\n                });\n            }\n            schedule.push({\n                theater: theater,\n                schedule: theaterSchedule\n            });\n        });\n\n        return {\n            schedule: schedule,\n            expired: moment().add(expired, 'minutes').unix()\n        };\n    }\n\n    /**\n     * リセット\n     */\n    public reset() {\n        this.storage.remove(STORAGE_KEY);\n        this.data = undefined;\n    }\n\n    /**\n     * 劇場取得\n     * @method getTheater\n     * @returns {<IMovieTheater[]}\n     */\n    public getTheater(): IMovieTheater[] {\n        if (this.data === undefined) {\n            throw new Error('getTheater: schedule is undefined');\n        }\n\n        return this.data.schedule.map((schedule) => {\n            return schedule.theater;\n        });\n    }\n\n    /**\n     * 日付取得\n     * @method getDate\n     * @returns {IDate[]}\n     */\n    public getDate(theaterCode: string): IDate[] {\n        if (this.data === undefined) {\n            throw new Error('getDate: schedule is undefined');\n        }\n\n        const theaterSchedule = this.data.schedule.find((schedule) => {\n            return (schedule.theater.location.branchCode === theaterCode);\n        });\n\n        if (theaterSchedule === undefined) {\n            throw new Error('theaterSchedule is undefined');\n        }\n\n        const minDisplayDay = 2;\n        const dateList = theaterSchedule.schedule.filter((schedule) => {\n            const screeningEvents = schedule.individualScreeningEvents.filter((screeningEvent) => {\n                return (this.isSalse(screeningEvent));\n            });\n\n            // return (screeningEvents.length > 0);\n            return (moment(schedule.date).unix() < moment().add(minDisplayDay, 'days').unix()\n                || screeningEvents.length > 0);\n        });\n\n        let count = 0;\n        const PRE_SALE = '1'; // 先行販売\n\n        return dateList.map((schedule) => {\n            const formatDate = moment(schedule.date).format('YYYY/MM/DD');\n            const preSaleList = schedule.individualScreeningEvents.filter((individualScreeningEvent) => {\n                return (individualScreeningEvent.coaInfo.flgEarlyBooking === PRE_SALE);\n            });\n            const result = {\n                value: schedule.date,\n                display: {\n                    month: moment(schedule.date).format('MM'),\n                    week: moment(schedule.date).format('ddd'),\n                    day: moment(schedule.date).format('DD'),\n                    year: moment(schedule.date).format('YYYY'),\n                    text: (count === 0) ? `本日 (${formatDate})`\n                        : (count === 1) ? `明日 (${formatDate})`\n                            : (count === 2) ? `明後日 (${formatDate})` : formatDate\n                },\n                preSale: (schedule.individualScreeningEvents.length > 0\n                    && preSaleList.length > 0\n                    && moment().add(2, 'day').unix() < moment(schedule.date).unix()),\n                serviceDay: (schedule.individualScreeningEvents.length > 0)\n                    ? schedule.individualScreeningEvents[0].coaInfo.nameServiceDay\n                    : ''\n            };\n            count += 1;\n\n            return result;\n        });\n    }\n\n    /**\n     * 作品別上映スケジュール取得\n     * @function getScreeningEvents\n     * @returns {IFilmOrder[]}\n     */\n    public getScreeningEvents(args: IGetScreeningEventsArgs): IGetScreeningEventsResult {\n        if (this.data === undefined) {\n            throw new Error('getScreeningEvents: schedule is undefined');\n        }\n        const result: IGetScreeningEventsResult = {\n            film: [],\n            time: []\n        };\n        const theaterSchedule = this.data.schedule.find((schedule) => {\n            return (schedule.theater.location.branchCode === args.theater);\n        });\n        if (theaterSchedule === undefined) {\n            throw new Error('theaterSchedule is undefined');\n        }\n        const dateSchedule = theaterSchedule.schedule.find((schedule) => {\n            return (schedule.date === args.date);\n        });\n        if (dateSchedule === undefined) {\n            throw new Error('dateSchedule is undefined');\n        }\n        const screeningEvents = dateSchedule.individualScreeningEvents.filter((screeningEvent) => {\n            // 販売可能判定 & 販売可能時間判定\n            return (this.isSalse(screeningEvent) && this.isSalseTime(screeningEvent));\n        });\n        // 時間順\n        result.time = screeningEvents;\n        // 作品順\n        screeningEvents.forEach((screeningEvent) => {\n            const film = result.film.find((event) => {\n                return (event.id === (screeningEvent.coaInfo.titleCode + screeningEvent.coaInfo.titleBranchNum));\n            });\n            if (film === undefined) {\n                result.film.push({\n                    id: (screeningEvent.coaInfo.titleCode + screeningEvent.coaInfo.titleBranchNum),\n                    films: [screeningEvent]\n                });\n            } else {\n                film.films.push(screeningEvent);\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * 販売可能時間判定\n     * @param {IIndividualScreeningEvent} screeningEvent\n     * @returns {boolean}\n     */\n    private isSalseTime(screeningEvent: IIndividualScreeningEvent): boolean {\n        const END_TIME = 30; // 30分前\n\n        return (moment().unix() < moment(screeningEvent.startDate).subtract(END_TIME, 'minutes').unix());\n    }\n\n    /**\n     * 販売可能判定\n     * @param {IIndividualScreeningEvent} screeningEvent\n     * @returns {boolean}\n     */\n    private isSalse(screeningEvent: IIndividualScreeningEvent): boolean {\n        const PRE_SALE = '1'; // 先行販売\n\n        return (screeningEvent.coaInfo.rsvStartDate <= moment().format('YYYYMMDD')\n            || screeningEvent.coaInfo.flgEarlyBooking === PRE_SALE);\n    }\n\n}\n\ninterface IGetScreeningEventsArgs {\n    theater: string;\n    date: string;\n    sort: PurchaseSort;\n}\n\ninterface IGetScreeningEventsResult {\n    film: IFilmOrder[];\n    time: ITimeOrder;\n}\n","/**\n * SelectService\n */\nimport { Injectable } from '@angular/core';\nimport { SaveType, StorageService } from '../storage/storage.service';\n\nexport interface IPurchaseConditions {\n    theater: string;\n    date: string;\n    sort: PurchaseSort;\n}\n\nexport interface IData {\n    purchase: IPurchaseConditions;\n}\n\nexport enum PurchaseSort {\n    Film = 'film',\n    Time = 'time'\n}\n\nconst STORAGE_KEY = 'select';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SelectService {\n    public data: IData;\n\n    constructor(\n        private storage: StorageService\n    ) {\n        this.load();\n        this.save();\n    }\n\n    /**\n     * 読み込み\n     * @method load\n     */\n    public load() {\n        const data = this.storage.load(STORAGE_KEY, SaveType.Local);\n        if (data === undefined || data === null) {\n            this.data = {\n                purchase: {\n                    theater: '',\n                    date: '',\n                    sort: PurchaseSort.Film\n                }\n            };\n\n            return;\n        }\n        this.data = data;\n    }\n\n    /**\n     * 保存\n     * @method save\n     */\n    public save(): void {\n        this.storage.save(STORAGE_KEY, this.data, SaveType.Local);\n    }\n\n}\n","/**\n * StorageService\n */\nimport { Injectable } from '@angular/core';\nimport * as moment from 'moment';\n\nexport enum SaveType {\n    /**\n     * セッションへ保存\n     */\n    Session = 0,\n    /**\n     * ローカルへ保存\n     */\n    Local = 1\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class StorageService {\n\n    constructor() {\n        console.log('StorageService');\n     }\n\n    public load(key: string, saveType?: SaveType): any | null {\n        const storage = (saveType === SaveType.Session) ? sessionStorage : localStorage;\n        const value = storage.getItem(key);\n\n        return (value === null) ? null : JSON.parse(value);\n    }\n\n    public save(key: string, value: any, saveType?: SaveType): void {\n        value.updateAt = moment().toISOString();\n        const storage = (saveType === SaveType.Session) ? sessionStorage : localStorage;\n        try {\n            storage.setItem(key, JSON.stringify(value));\n        } catch (err) {\n            console.error('StorageService.save', err);\n        }\n    }\n\n    public remove(key: string, saveType?: SaveType): void {\n        const storage = (saveType === SaveType.Session) ? sessionStorage : localStorage;\n        storage.removeItem(key);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { factory } from '@motionpicture/sskts-api-javascript-client';\nimport { environment } from '../../../environments/environment';\nimport { SasakiService } from '../sasaki/sasaki.service';\nimport { SaveType, StorageService } from '../storage/storage.service';\n\n\nexport interface IData {\n    userName?: string;\n    memberType: MemberType;\n    contact?: factory.person.IContact;\n    creditCards: factory.paymentMethod.paymentCard.creditCard.ICheckedCard[];\n    accounts: factory.pecorino.account.IAccount[];\n    programMembershipOwnershipInfos: factory.ownershipInfo.IOwnershipInfo<'ProgramMembership'>[];\n}\n\nexport enum MemberType {\n    NotMember = '0',\n    Member = '1'\n}\n\nexport interface IGmoTokenObject {\n    token: string;\n    toBeExpiredAt: string;\n    maskedCardNo: string;\n    isSecurityCodeSet: boolean;\n}\n\nconst STORAGE_KEY = 'user';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UserService {\n\n    public data: IData;\n\n    constructor(\n        private storage: StorageService,\n        private sasaki: SasakiService\n    ) {\n        this.load();\n        this.save();\n    }\n\n    /**\n     * 読み込み\n     * @method load\n     */\n    public load() {\n        const data: IData | null = this.storage.load(STORAGE_KEY, SaveType.Local);\n        if (data === null) {\n            this.data = {\n                memberType: MemberType.NotMember,\n                creditCards: [],\n                accounts: [],\n                programMembershipOwnershipInfos: []\n            };\n\n            return;\n        }\n        this.data = data;\n    }\n\n    /**\n     * 保存\n     * @method save\n     */\n    public save() {\n        this.storage.save(STORAGE_KEY, this.data, SaveType.Local);\n    }\n\n    /**\n     * リセット\n     * @method reset\n     */\n    public reset() {\n        this.data = {\n            memberType: MemberType.NotMember,\n            creditCards: [],\n            accounts: [],\n            programMembershipOwnershipInfos: []\n        };\n        this.save();\n    }\n\n    /**\n     * 会員初期化\n     * @method initMember\n     */\n    public async initMember() {\n        this.data.memberType = MemberType.Member;\n        this.save();\n        await this.sasaki.getServices();\n        if (this.sasaki.userName === undefined) {\n            throw new Error('userName is undefined');\n        }\n        // 連絡先取得\n        const contact = await this.sasaki.person.getContacts({\n            personId: 'me'\n        });\n        if (contact === undefined) {\n            throw new Error('contact is undefined');\n        }\n        this.data.contact = contact;\n\n        try {\n            // クレジットカード検索\n            const creditCards = await this.sasaki.person.findCreditCards({\n                personId: 'me'\n            });\n            this.data.creditCards = creditCards;\n        } catch (err) {\n            console.log(err);\n            this.data.creditCards = [];\n        }\n\n        // 口座検索\n        let accounts = await this.sasaki.person.findAccounts({\n            personId: 'me'\n        });\n        accounts = accounts.filter((account) => {\n            return account.status === factory.pecorino.accountStatusType.Opened;\n        });\n        if (accounts.length === 0) {\n            // 口座開設\n            const account = await this.sasaki.person.openAccount({\n                personId: 'me',\n                name: this.sasaki.userName\n            });\n            this.data.accounts.push(account);\n        } else {\n            this.data.accounts = accounts;\n        }\n\n        const programMembershipOwnershipInfos = await this.sasaki.person.searchOwnershipInfos({\n            ownedBy: 'me',\n            goodType: 'ProgramMembership'\n        });\n\n        this.data.programMembershipOwnershipInfos = programMembershipOwnershipInfos;\n\n        this.save();\n    }\n\n    /**\n     * 口座情報更新\n     * @method updateAccount\n     */\n    public async updateAccount() {\n        await this.sasaki.getServices();\n        // 口座検索\n        let accounts = await this.sasaki.person.findAccounts({\n            personId: 'me'\n        });\n        accounts = accounts.filter((account) => {\n            return account.status === factory.pecorino.accountStatusType.Opened;\n        });\n        if (accounts.length === 0) {\n            // 口座開設\n            const account = await this.sasaki.person.openAccount({\n                personId: 'me',\n                name: this.getName()\n            });\n            this.data.accounts.push(account);\n        } else {\n            this.data.accounts = accounts;\n        }\n        this.save();\n    }\n\n    /**\n     * 会員判定\n     * @method isMember\n     */\n    public isMember() {\n        return (this.data.memberType === MemberType.Member);\n    }\n\n    /**\n     * 名前取得\n     * @method getName\n     */\n    public getName() {\n        if (this.data.contact === undefined) {\n            return '';\n        }\n        return `${this.data.contact.familyName} ${this.data.contact.givenName}`;\n    }\n\n    /**\n     * 電話番号取得（ハイフンなし）\n     * @method getTelephone\n     */\n    public getTelephone() {\n        if (this.data.contact === undefined) {\n            return '';\n        }\n        return this.data.contact.telephone.replace(/\\-/g, '');\n    }\n\n    /**\n     * よく行く劇場名取得\n     * @method getTheaterName\n     */\n    public getTheaterName(index: number) {\n        const programMembershipOwnershipInfo = this.data.programMembershipOwnershipInfos[index];\n        if (this.data.programMembershipOwnershipInfos.length === 0\n            || programMembershipOwnershipInfo === undefined\n            || programMembershipOwnershipInfo.acquiredFrom === undefined\n            || programMembershipOwnershipInfo.acquiredFrom.typeOf !== factory.organizationType.MovieTheater) {\n            return '';\n        }\n\n        return programMembershipOwnershipInfo.acquiredFrom.name.ja;\n    }\n\n    /**\n     * よく行く劇場コード取得\n     * @method getTheaterCode\n     */\n    public getTheaterCode(index: number) {\n        const programMembershipOwnershipInfo = this.data.programMembershipOwnershipInfos[index];\n        if (this.data.programMembershipOwnershipInfos.length === 0\n            || programMembershipOwnershipInfo === undefined\n            || programMembershipOwnershipInfo.acquiredFrom === undefined\n            || programMembershipOwnershipInfo.acquiredFrom.typeOf !== factory.organizationType.MovieTheater) {\n            return '';\n        }\n\n        return programMembershipOwnershipInfo.acquiredFrom.location.branchCode;\n    }\n\n    /**\n     * 口座情報取得\n     * @method getAccount\n     */\n    public getAccount(index: number) {\n        if (this.data.accounts.length === 0) {\n            return undefined;\n        }\n        return this.data.accounts[index];\n    }\n\n    /**\n     * クレジットカード情報取得（表示用）\n     * @method getCreditCard\n     */\n    public getCreditCard(index: number) {\n        if (this.data.creditCards.length === 0) {\n            return undefined;\n        }\n        return {\n            cardNo: this.data.creditCards[index].cardNo,\n            expire: `${this.data.creditCards[index].expire.slice(0, 2)}年 ${this.data.creditCards[index].expire.slice(2, 4)}月`\n        };\n    }\n\n    /**\n     * GMOトークン取得\n     * @method getGmoObject\n     */\n    public async getGmoObject(args: {\n        cardno: string;\n        expire: string;\n        securitycode: string;\n        holdername: string;\n    }) {\n        const sendParam = args;\n        console.log(sendParam);\n        await this.sasaki.getServices();\n        // 池袋\n        const branchCode = (environment.production) ? '001' : '101';\n        const movieTheater = await this.sasaki.organization.findMovieTheaterByBranchCode({\n            branchCode: branchCode\n        });\n        return new Promise<IGmoTokenObject>((resolve, reject) => {\n            (<any>window).someCallbackFunction = function someCallbackFunction(response: any) {\n                if (response.resultCode === '000') {\n                    resolve(response.tokenObject);\n                } else {\n                    reject(new Error(response.resultCode));\n                }\n            };\n            const Multipayment = (<any>window).Multipayment;\n            // shopId\n            Multipayment.init(movieTheater.gmoInfo.shopId);\n            Multipayment.getToken(sendParam, (<any>window).someCallbackFunction);\n        });\n    }\n\n    /**\n     * クレジットカード登録\n     * @method registerCreditCard\n     */\n    public async registerCreditCard(gmoTokenObject: IGmoTokenObject) {\n        await this.sasaki.getServices();\n        // 登録\n        await this.sasaki.person.addCreditCard({\n            personId: 'me',\n            creditCard: {\n                token: gmoTokenObject.token\n            }\n        });\n        this.data.creditCards = await this.sasaki.person.findCreditCards({\n            personId: 'me'\n        });\n        if (this.data.creditCards.length > 1) {\n            await this.deleteCreditCard();\n            this.data.creditCards = await this.sasaki.person.findCreditCards({\n                personId: 'me'\n            });\n        }\n\n        this.save();\n    }\n\n    /**\n     * クレジットカード削除\n     */\n    public async deleteCreditCard() {\n        await this.sasaki.getServices();\n        if (this.data.creditCards.length === 0) {\n            return;\n        }\n        await this.sasaki.person.deleteCreditCard({\n            personId: 'me',\n            cardSeq: this.data.creditCards[0].cardSeq\n        });\n    }\n\n    /**\n     * 基本情報変更\n     * @method updateProfile\n     */\n    public async updateProfile(args: {\n        familyName: string;\n        givenName: string;\n        email: string;\n        telephone: string;\n        postalCode: string;\n    }) {\n        await this.sasaki.getServices();\n        await this.sasaki.person.updateContacts({\n            personId: 'me',\n            contacts: {\n                familyName: args.familyName,\n                givenName: args.givenName,\n                email: args.email,\n                telephone: args.telephone\n            }\n        });\n        const contact = await this.sasaki.person.getContacts({\n            personId: 'me'\n        });\n        if (contact === undefined) {\n            throw new Error('contact is undefined');\n        }\n        this.data.contact = contact;\n\n        this.save();\n    }\n\n    /**\n     * クレジットカード登録判定\n     */\n    public isRegisteredCreditCards() {\n        return (this.data.creditCards !== undefined\n            && this.data.creditCards.length > 0);\n    }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UtilService {\n\n    constructor() { }\n\n    public async sleep(time: number) {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve();\n            }, time);\n        });\n    }\n\n    /**\n     * カタカナをひらがなへ変換\n     * @param {string} str\n     */\n    public convertToHira(str: string) {\n        return str.replace(/[\\u30a1-\\u30f6]/g, function (match) {\n            const chr = match.charCodeAt(0) - 0x60;\n\n            return String.fromCharCode(chr);\n        });\n    }\n\n}\n","// tslint:disable:no-http-string\n/**\n * 環境変数dev\n */\nexport const environment = {\n    production: false,\n    version: '1.0.0',\n\n    ENV: 'development',\n\n    API_ENDPOINT: 'https://sskts-api-development.azurewebsites.net',\n    WAITER_ENDPOINT: 'https://sskts-waiter-development.appspot.com',\n\n    PORTAL_SITE: 'https://motionpicture.jp',\n\n    REGION: 'ap-northeast-1', // identity poolのリージョンを指定する\n    IDENTITY_POOL_ID: 'ap-northeast-1:6a67f523-93c3-4766-b96f-6552f21abd8d', // IDENTITY POOLのID(AWS CONSOLEで確認)\n    USER_POOL_ID: '',\n    CLIENT_ID: '',\n\n    REKOGNITION_BUCKET: 'rekognition-pics',\n    ALBUM_NAME: 'usercontent',\n    BUCKET_REGION: 'us-east-1',\n\n    DDB_TABLE_NAME: 'LoginTrail',\n    TOKEN_ISSUER: '',\n\n    ANALYTICS_ID: 'UA-99018492-4'\n\n};\n","/**\n * main\n */\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport * as moment from 'moment-timezone';\n\nmoment.tz.setDefault('Asia/Tokyo');\nmoment.locale('ja');\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n"],"sourceRoot":""}